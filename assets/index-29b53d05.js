function MS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var u0={exports:{}},Ac={},c0={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),VS=Symbol.for("react.portal"),FS=Symbol.for("react.fragment"),US=Symbol.for("react.strict_mode"),jS=Symbol.for("react.profiler"),$S=Symbol.for("react.provider"),zS=Symbol.for("react.context"),BS=Symbol.for("react.forward_ref"),HS=Symbol.for("react.suspense"),WS=Symbol.for("react.memo"),qS=Symbol.for("react.lazy"),ry=Symbol.iterator;function KS(t){return t===null||typeof t!="object"?null:(t=ry&&t[ry]||t["@@iterator"],typeof t=="function"?t:null)}var d0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h0=Object.assign,f0={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=f0,this.updater=n||d0}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p0(){}p0.prototype=Zo.prototype;function Sp(t,e,n){this.props=t,this.context=e,this.refs=f0,this.updater=n||d0}var Rp=Sp.prototype=new p0;Rp.constructor=Sp;h0(Rp,Zo.prototype);Rp.isPureReactComponent=!0;var iy=Array.isArray,m0=Object.prototype.hasOwnProperty,Cp={current:null},g0={key:!0,ref:!0,__self:!0,__source:!0};function y0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)m0.call(e,r)&&!g0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$a,type:t,key:o,ref:s,props:i,_owner:Cp.current}}function GS(t,e){return{$$typeof:$a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===$a}function QS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oy=/\/+/g;function zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QS(""+t.key):e.toString(36)}function su(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $a:case VS:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+zd(s,0):r,iy(i)?(n="",t!=null&&(n=t.replace(oy,"$&/")+"/"),su(i,e,n,"",function(u){return u})):i!=null&&(Ap(i)&&(i=GS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(oy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",iy(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+zd(o,a);s+=su(o,e,n,l,i)}else if(l=KS(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+zd(o,a++),s+=su(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function xl(t,e,n){if(t==null)return t;var r=[],i=0;return su(t,r,"","",function(o){return e.call(n,o,i++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},au={transition:null},XS={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:au,ReactCurrentOwner:Cp};ae.Children={map:xl,forEach:function(t,e,n){xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xl(t,function(){e++}),e},toArray:function(t){return xl(t,function(e){return e})||[]},only:function(t){if(!Ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Zo;ae.Fragment=FS;ae.Profiler=jS;ae.PureComponent=Sp;ae.StrictMode=US;ae.Suspense=HS;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Cp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)m0.call(e,l)&&!g0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$a,type:t.type,key:i,ref:o,props:r,_owner:s}};ae.createContext=function(t){return t={$$typeof:zS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$S,_context:t},t.Consumer=t};ae.createElement=y0;ae.createFactory=function(t){var e=y0.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:BS,render:t}};ae.isValidElement=Ap;ae.lazy=function(t){return{$$typeof:qS,_payload:{_status:-1,_result:t},_init:YS}};ae.memo=function(t,e){return{$$typeof:WS,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=au.transition;au.transition={};try{t()}finally{au.transition=e}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(t,e){return Pt.current.useCallback(t,e)};ae.useContext=function(t){return Pt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Pt.current.useEffect(t,e)};ae.useId=function(){return Pt.current.useId()};ae.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Pt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};ae.useRef=function(t){return Pt.current.useRef(t)};ae.useState=function(t){return Pt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Pt.current.useTransition()};ae.version="18.2.0";c0.exports=ae;var x=c0.exports;const ue=l0(x),JS=MS({__proto__:null,default:ue},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS=x,eR=Symbol.for("react.element"),tR=Symbol.for("react.fragment"),nR=Object.prototype.hasOwnProperty,rR=ZS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iR={key:!0,ref:!0,__self:!0,__source:!0};function v0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)nR.call(e,r)&&!iR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eR,type:t,key:o,ref:s,props:i,_owner:rR.current}}Ac.Fragment=tR;Ac.jsx=v0;Ac.jsxs=v0;u0.exports=Ac;var y=u0.exports,Vh={},_0={exports:{}},Kt={},w0={exports:{}},E0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,V){var $=C.length;C.push(V);e:for(;0<$;){var ie=$-1>>>1,_e=C[ie];if(0<i(_e,V))C[ie]=V,C[$]=_e,$=ie;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var V=C[0],$=C.pop();if($!==V){C[0]=$;e:for(var ie=0,_e=C.length,kt=_e>>>1;ie<kt;){var ge=2*(ie+1)-1,un=C[ge],Yt=ge+1,mr=C[Yt];if(0>i(un,$))Yt<_e&&0>i(mr,un)?(C[ie]=mr,C[Yt]=$,ie=Yt):(C[ie]=un,C[ge]=$,ie=ge);else if(Yt<_e&&0>i(mr,$))C[ie]=mr,C[Yt]=$,ie=Yt;else break e}}return V}function i(C,V){var $=C.sortIndex-V.sortIndex;return $!==0?$:C.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(C){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=C)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function g(C){if(w=!1,_(C),!v)if(n(l)!==null)v=!0,he(A);else{var V=n(u);V!==null&&R(g,V.startTime-C)}}function A(C,V){v=!1,w&&(w=!1,f(b),b=-1),m=!0;var $=h;try{for(_(V),d=n(l);d!==null&&(!(d.expirationTime>V)||C&&!He());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var _e=ie(d.expirationTime<=V);V=t.unstable_now(),typeof _e=="function"?d.callback=_e:d===n(l)&&r(l),_(V)}else r(l);d=n(l)}if(d!==null)var kt=!0;else{var ge=n(u);ge!==null&&R(g,ge.startTime-V),kt=!1}return kt}finally{d=null,h=$,m=!1}}var k=!1,I=null,b=-1,H=5,B=-1;function He(){return!(t.unstable_now()-B<H)}function ce(){if(I!==null){var C=t.unstable_now();B=C;var V=!0;try{V=I(!0,C)}finally{V?Qt():(k=!1,I=null)}}else k=!1}var Qt;if(typeof p=="function")Qt=function(){p(ce)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=ce,Qt=function(){q.postMessage(null)}}else Qt=function(){E(ce,0)};function he(C){I=C,k||(k=!0,Qt())}function R(C,V){b=E(function(){C(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,he(A))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var $=h;h=V;try{return C()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var $=h;h=C;try{return V()}finally{h=$}},t.unstable_scheduleCallback=function(C,V,$){var ie=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,C){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=$+_e,C={id:c++,callback:V,priorityLevel:C,startTime:$,expirationTime:_e,sortIndex:-1},$>ie?(C.sortIndex=$,e(u,C),n(l)===null&&C===n(u)&&(w?(f(b),b=-1):w=!0,R(g,$-ie))):(C.sortIndex=_e,e(l,C),v||m||(v=!0,he(A))),C},t.unstable_shouldYield=He,t.unstable_wrapCallback=function(C){var V=h;return function(){var $=h;h=V;try{return C.apply(this,arguments)}finally{h=$}}}})(E0);w0.exports=E0;var oR=w0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=x,Wt=oR;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I0=new Set,ia={};function $i(t,e){Do(t,e),Do(t+"Capture",e)}function Do(t,e){for(ia[t]=e,t=0;t<e.length;t++)I0.add(e[t])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=Object.prototype.hasOwnProperty,sR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},ay={};function aR(t){return Fh.call(ay,t)?!0:Fh.call(sy,t)?!1:sR.test(t)?ay[t]=!0:(sy[t]=!0,!1)}function lR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uR(t,e,n,r){if(e===null||typeof e>"u"||lR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pp=/[\-:]([a-z])/g;function xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pp,xp);at[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pp,xp);at[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pp,xp);at[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,n,r){var i=at.hasOwnProperty(e)?at[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uR(e,n,i,r)&&(n=null),r||i===null?aR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hr=T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),S0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),jh=Symbol.for("react.suspense"),$h=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),C0=Symbol.for("react.offscreen"),ly=Symbol.iterator;function ys(t){return t===null||typeof t!="object"?null:(t=ly&&t[ly]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Bd;function Ns(t){if(Bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bd=e&&e[1]||""}return`
`+Bd+t}var Hd=!1;function Wd(t,e){if(!t||Hd)return"";Hd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Hd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ns(t):""}function cR(t){switch(t.tag){case 5:return Ns(t.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 2:case 15:return t=Wd(t.type,!1),t;case 11:return t=Wd(t.type.render,!1),t;case 1:return t=Wd(t.type,!0),t;default:return""}}function zh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case eo:return"Portal";case Uh:return"Profiler";case Np:return"StrictMode";case jh:return"Suspense";case $h:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R0:return(t.displayName||"Context")+".Consumer";case S0:return(t._context.displayName||"Context")+".Provider";case Dp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Op:return e=t.displayName||null,e!==null?e:zh(t.type)||"Memo";case Er:e=t._payload,t=t._init;try{return zh(t(e))}catch{}}return null}function dR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zh(e);case 8:return e===Np?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hR(t){var e=A0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nl(t){t._valueTracker||(t._valueTracker=hR(t))}function P0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bh(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x0(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function Hh(t,e){x0(t,e);var n=qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wh(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wh(t,e,n){(e!=="number"||Pu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ds=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Ds(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function k0(t,e){var n=qr(e.value),r=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,D0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fR=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){fR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function O0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function b0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=O0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pR=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gh(t,e){if(e){if(pR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Qh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=null;function bp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xh=null,_o=null,wo=null;function fy(t){if(t=Ha(t)){if(typeof Xh!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Dc(e),Xh(t.stateNode,t.type,e))}}function M0(t){_o?wo?wo.push(t):wo=[t]:_o=t}function L0(){if(_o){var t=_o,e=wo;if(wo=_o=null,fy(t),e)for(t=0;t<e.length;t++)fy(e[t])}}function V0(t,e){return t(e)}function F0(){}var qd=!1;function U0(t,e,n){if(qd)return t(e,n);qd=!0;try{return V0(t,e,n)}finally{qd=!1,(_o!==null||wo!==null)&&(F0(),L0())}}function sa(t,e){var n=t.stateNode;if(n===null)return null;var r=Dc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Jh=!1;if(tr)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Jh=!1}function mR(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var $s=!1,xu=null,ku=!1,Zh=null,gR={onError:function(t){$s=!0,xu=t}};function yR(t,e,n,r,i,o,s,a,l){$s=!1,xu=null,mR.apply(gR,arguments)}function vR(t,e,n,r,i,o,s,a,l){if(yR.apply(this,arguments),$s){if($s){var u=xu;$s=!1,xu=null}else throw Error(D(198));ku||(ku=!0,Zh=u)}}function zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function py(t){if(zi(t)!==t)throw Error(D(188))}function _R(t){var e=t.alternate;if(!e){if(e=zi(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return py(i),t;if(o===r)return py(i),e;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function $0(t){return t=_R(t),t!==null?z0(t):null}function z0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z0(t);if(e!==null)return e;t=t.sibling}return null}var B0=Wt.unstable_scheduleCallback,my=Wt.unstable_cancelCallback,wR=Wt.unstable_shouldYield,ER=Wt.unstable_requestPaint,Le=Wt.unstable_now,TR=Wt.unstable_getCurrentPriorityLevel,Mp=Wt.unstable_ImmediatePriority,H0=Wt.unstable_UserBlockingPriority,Nu=Wt.unstable_NormalPriority,IR=Wt.unstable_LowPriority,W0=Wt.unstable_IdlePriority,Pc=null,On=null;function SR(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Pc,t,void 0,(t.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:AR,RR=Math.log,CR=Math.LN2;function AR(t){return t>>>=0,t===0?32:31-(RR(t)/CR|0)|0}var Ol=64,bl=4194304;function Os(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Du(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Os(a):(o&=s,o!==0&&(r=Os(o)))}else s=n&~i,s!==0?r=Os(s):o!==0&&(r=Os(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yn(e),i=1<<n,r|=t[n],e&=~i;return r}function PR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-yn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=PR(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function q0(){var t=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),t}function Kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yn(e),t[e]=n}function kR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function K0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G0,Vp,Q0,Y0,X0,tf=!1,Ml=[],Or=null,br=null,Mr=null,aa=new Map,la=new Map,Sr=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function _s(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ha(e),e!==null&&Vp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function DR(t,e,n,r,i){switch(e){case"focusin":return Or=_s(Or,t,e,n,r,i),!0;case"dragenter":return br=_s(br,t,e,n,r,i),!0;case"mouseover":return Mr=_s(Mr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return aa.set(o,_s(aa.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,la.set(o,_s(la.get(o)||null,t,e,n,r,i)),!0}return!1}function J0(t){var e=fi(t.target);if(e!==null){var n=zi(e);if(n!==null){if(e=n.tag,e===13){if(e=j0(n),e!==null){t.blockedOn=e,X0(t.priority,function(){Q0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yh=r,n.target.dispatchEvent(r),Yh=null}else return e=Ha(n),e!==null&&Vp(e),t.blockedOn=n,!1;e.shift()}return!0}function yy(t,e,n){lu(t)&&n.delete(e)}function OR(){tf=!1,Or!==null&&lu(Or)&&(Or=null),br!==null&&lu(br)&&(br=null),Mr!==null&&lu(Mr)&&(Mr=null),aa.forEach(yy),la.forEach(yy)}function ws(t,e){t.blockedOn===e&&(t.blockedOn=null,tf||(tf=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,OR)))}function ua(t){function e(i){return ws(i,t)}if(0<Ml.length){ws(Ml[0],t);for(var n=1;n<Ml.length;n++){var r=Ml[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Or!==null&&ws(Or,t),br!==null&&ws(br,t),Mr!==null&&ws(Mr,t),aa.forEach(e),la.forEach(e),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)J0(n),n.blockedOn===null&&Sr.shift()}var Eo=hr.ReactCurrentBatchConfig,Ou=!0;function bR(t,e,n,r){var i=ye,o=Eo.transition;Eo.transition=null;try{ye=1,Fp(t,e,n,r)}finally{ye=i,Eo.transition=o}}function MR(t,e,n,r){var i=ye,o=Eo.transition;Eo.transition=null;try{ye=4,Fp(t,e,n,r)}finally{ye=i,Eo.transition=o}}function Fp(t,e,n,r){if(Ou){var i=nf(t,e,n,r);if(i===null)rh(t,e,r,bu,n),gy(t,r);else if(DR(i,t,e,n,r))r.stopPropagation();else if(gy(t,r),e&4&&-1<NR.indexOf(t)){for(;i!==null;){var o=Ha(i);if(o!==null&&G0(o),o=nf(t,e,n,r),o===null&&rh(t,e,r,bu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else rh(t,e,r,null,n)}}var bu=null;function nf(t,e,n,r){if(bu=null,t=bp(r),t=fi(t),t!==null)if(e=zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=j0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bu=t,null}function Z0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TR()){case Mp:return 1;case H0:return 4;case Nu:case IR:return 16;case W0:return 536870912;default:return 16}default:return 16}}var xr=null,Up=null,uu=null;function ew(){if(uu)return uu;var t,e=Up,n=e.length,r,i="value"in xr?xr.value:xr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return uu=i.slice(t,1<r?1-r:void 0)}function cu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ll(){return!0}function vy(){return!1}function Gt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ll:vy,this.isPropagationStopped=vy,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),e}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=Gt(es),Ba=De({},es,{view:0,detail:0}),LR=Gt(Ba),Gd,Qd,Es,xc=De({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$p,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(Gd=t.screenX-Es.screenX,Qd=t.screenY-Es.screenY):Qd=Gd=0,Es=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:Qd}}),_y=Gt(xc),VR=De({},xc,{dataTransfer:0}),FR=Gt(VR),UR=De({},Ba,{relatedTarget:0}),Yd=Gt(UR),jR=De({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),$R=Gt(jR),zR=De({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BR=Gt(zR),HR=De({},es,{data:0}),wy=Gt(HR),WR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KR[t])?!!e[t]:!1}function $p(){return GR}var QR=De({},Ba,{key:function(t){if(t.key){var e=WR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$p,charCode:function(t){return t.type==="keypress"?cu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YR=Gt(QR),XR=De({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=Gt(XR),JR=De({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$p}),ZR=Gt(JR),eC=De({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),tC=Gt(eC),nC=De({},xc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rC=Gt(nC),iC=[9,13,27,32],zp=tr&&"CompositionEvent"in window,zs=null;tr&&"documentMode"in document&&(zs=document.documentMode);var oC=tr&&"TextEvent"in window&&!zs,tw=tr&&(!zp||zs&&8<zs&&11>=zs),Ty=String.fromCharCode(32),Iy=!1;function nw(t,e){switch(t){case"keyup":return iC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function sC(t,e){switch(t){case"compositionend":return rw(e);case"keypress":return e.which!==32?null:(Iy=!0,Ty);case"textInput":return t=e.data,t===Ty&&Iy?null:t;default:return null}}function aC(t,e){if(no)return t==="compositionend"||!zp&&nw(t,e)?(t=ew(),uu=Up=xr=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tw&&e.locale!=="ko"?null:e.data;default:return null}}var lC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lC[t.type]:e==="textarea"}function iw(t,e,n,r){M0(r),e=Mu(e,"onChange"),0<e.length&&(n=new jp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bs=null,ca=null;function uC(t){mw(t,0)}function kc(t){var e=oo(t);if(P0(e))return t}function cC(t,e){if(t==="change")return e}var ow=!1;if(tr){var Xd;if(tr){var Jd="oninput"in document;if(!Jd){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Jd=typeof Ry.oninput=="function"}Xd=Jd}else Xd=!1;ow=Xd&&(!document.documentMode||9<document.documentMode)}function Cy(){Bs&&(Bs.detachEvent("onpropertychange",sw),ca=Bs=null)}function sw(t){if(t.propertyName==="value"&&kc(ca)){var e=[];iw(e,ca,t,bp(t)),U0(uC,e)}}function dC(t,e,n){t==="focusin"?(Cy(),Bs=e,ca=n,Bs.attachEvent("onpropertychange",sw)):t==="focusout"&&Cy()}function hC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kc(ca)}function fC(t,e){if(t==="click")return kc(e)}function pC(t,e){if(t==="input"||t==="change")return kc(e)}function mC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:mC;function da(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fh.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function Ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Py(t,e){var n=Ay(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ay(n)}}function aw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lw(){for(var t=window,e=Pu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pu(t.document)}return e}function Bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gC(t){var e=lw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aw(n.ownerDocument.documentElement,n)){if(r!==null&&Bp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Py(n,o);var s=Py(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yC=tr&&"documentMode"in document&&11>=document.documentMode,ro=null,rf=null,Hs=null,of=!1;function xy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;of||ro==null||ro!==Pu(r)||(r=ro,"selectionStart"in r&&Bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&da(Hs,r)||(Hs=r,r=Mu(rf,"onSelect"),0<r.length&&(e=new jp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ro)))}function Vl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var io={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Zd={},uw={};tr&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Nc(t){if(Zd[t])return Zd[t];if(!io[t])return t;var e=io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uw)return Zd[t]=e[n];return t}var cw=Nc("animationend"),dw=Nc("animationiteration"),hw=Nc("animationstart"),fw=Nc("transitionend"),pw=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){pw.set(t,e),$i(e,[t])}for(var eh=0;eh<ky.length;eh++){var th=ky[eh],vC=th.toLowerCase(),_C=th[0].toUpperCase()+th.slice(1);ti(vC,"on"+_C)}ti(cw,"onAnimationEnd");ti(dw,"onAnimationIteration");ti(hw,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(fw,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function Ny(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vR(r,e,void 0,t),t.currentTarget=null}function mw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ny(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ny(i,a,u),o=l}}}if(ku)throw t=Zh,ku=!1,Zh=null,t}function Te(t,e){var n=e[cf];n===void 0&&(n=e[cf]=new Set);var r=t+"__bubble";n.has(r)||(gw(e,t,2,!1),n.add(r))}function nh(t,e,n){var r=0;e&&(r|=4),gw(n,t,r,e)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function ha(t){if(!t[Fl]){t[Fl]=!0,I0.forEach(function(n){n!=="selectionchange"&&(wC.has(n)||nh(n,!1,t),nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fl]||(e[Fl]=!0,nh("selectionchange",!1,e))}}function gw(t,e,n,r){switch(Z0(e)){case 1:var i=bR;break;case 4:i=MR;break;default:i=Fp}n=i.bind(null,e,n,t),i=void 0,!Jh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=fi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}U0(function(){var u=o,c=bp(n),d=[];e:{var h=pw.get(t);if(h!==void 0){var m=jp,v=t;switch(t){case"keypress":if(cu(n)===0)break e;case"keydown":case"keyup":m=YR;break;case"focusin":v="focus",m=Yd;break;case"focusout":v="blur",m=Yd;break;case"beforeblur":case"afterblur":m=Yd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ZR;break;case cw:case dw:case hw:m=$R;break;case fw:m=tC;break;case"scroll":m=LR;break;case"wheel":m=rC;break;case"copy":case"cut":case"paste":m=BR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ey}var w=(e&4)!==0,E=!w&&t==="scroll",f=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,_;p!==null;){_=p;var g=_.stateNode;if(_.tag===5&&g!==null&&(_=g,f!==null&&(g=sa(p,f),g!=null&&w.push(fa(p,g,_)))),E)break;p=p.return}0<w.length&&(h=new m(h,v,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Yh&&(v=n.relatedTarget||n.fromElement)&&(fi(v)||v[nr]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?fi(v):null,v!==null&&(E=zi(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=_y,g="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ey,g="onPointerLeave",f="onPointerEnter",p="pointer"),E=m==null?h:oo(m),_=v==null?h:oo(v),h=new w(g,p+"leave",m,n,c),h.target=E,h.relatedTarget=_,g=null,fi(c)===u&&(w=new w(f,p+"enter",v,n,c),w.target=_,w.relatedTarget=E,g=w),E=g,m&&v)t:{for(w=m,f=v,p=0,_=w;_;_=Yi(_))p++;for(_=0,g=f;g;g=Yi(g))_++;for(;0<p-_;)w=Yi(w),p--;for(;0<_-p;)f=Yi(f),_--;for(;p--;){if(w===f||f!==null&&w===f.alternate)break t;w=Yi(w),f=Yi(f)}w=null}else w=null;m!==null&&Dy(d,h,m,w,!1),v!==null&&E!==null&&Dy(d,E,v,w,!0)}}e:{if(h=u?oo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var A=cC;else if(Sy(h))if(ow)A=pC;else{A=hC;var k=dC}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=fC);if(A&&(A=A(t,u))){iw(d,A,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Wh(h,"number",h.value)}switch(k=u?oo(u):window,t){case"focusin":(Sy(k)||k.contentEditable==="true")&&(ro=k,rf=u,Hs=null);break;case"focusout":Hs=rf=ro=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,xy(d,n,c);break;case"selectionchange":if(yC)break;case"keydown":case"keyup":xy(d,n,c)}var I;if(zp)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else no?nw(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(tw&&n.locale!=="ko"&&(no||b!=="onCompositionStart"?b==="onCompositionEnd"&&no&&(I=ew()):(xr=c,Up="value"in xr?xr.value:xr.textContent,no=!0)),k=Mu(u,b),0<k.length&&(b=new wy(b,t,null,n,c),d.push({event:b,listeners:k}),I?b.data=I:(I=rw(n),I!==null&&(b.data=I)))),(I=oC?sC(t,n):aC(t,n))&&(u=Mu(u,"onBeforeInput"),0<u.length&&(c=new wy("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}mw(d,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=sa(t,n),o!=null&&r.unshift(fa(t,o,i)),o=sa(t,e),o!=null&&r.push(fa(t,o,i))),t=t.return}return r}function Yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=sa(n,o),l!=null&&s.unshift(fa(n,l,a))):i||(l=sa(n,o),l!=null&&s.push(fa(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var EC=/\r\n?/g,TC=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(EC,`
`).replace(TC,"")}function Ul(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(D(425))}function Lu(){}var sf=null,af=null;function lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,IC=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(RC)}:uf;function RC(t){setTimeout(function(){throw t})}function ih(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ua(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ua(e)}function Lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ts=Math.random().toString(36).slice(2),xn="__reactFiber$"+ts,pa="__reactProps$"+ts,nr="__reactContainer$"+ts,cf="__reactEvents$"+ts,CC="__reactListeners$"+ts,AC="__reactHandles$"+ts;function fi(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nr]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=My(t);t!==null;){if(n=t[xn])return n;t=My(t)}return e}t=n,n=t.parentNode}return null}function Ha(t){return t=t[xn]||t[nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Dc(t){return t[pa]||null}var df=[],so=-1;function ni(t){return{current:t}}function Ce(t){0>so||(t.current=df[so],df[so]=null,so--)}function Ee(t,e){so++,df[so]=t.current,t.current=e}var Kr={},Et=ni(Kr),Mt=ni(!1),Ai=Kr;function Oo(t,e){var n=t.type.contextTypes;if(!n)return Kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(t){return t=t.childContextTypes,t!=null}function Vu(){Ce(Mt),Ce(Et)}function Ly(t,e,n){if(Et.current!==Kr)throw Error(D(168));Ee(Et,e),Ee(Mt,n)}function yw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,dR(t)||"Unknown",i));return De({},n,r)}function Fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,Ai=Et.current,Ee(Et,t),Ee(Mt,Mt.current),!0}function Vy(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=yw(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Ce(Mt),Ce(Et),Ee(Et,t)):Ce(Mt),Ee(Mt,n)}var Wn=null,Oc=!1,oh=!1;function vw(t){Wn===null?Wn=[t]:Wn.push(t)}function PC(t){Oc=!0,vw(t)}function ri(){if(!oh&&Wn!==null){oh=!0;var t=0,e=ye;try{var n=Wn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wn=null,Oc=!1}catch(i){throw Wn!==null&&(Wn=Wn.slice(t+1)),B0(Mp,ri),i}finally{ye=e,oh=!1}}return null}var ao=[],lo=0,Uu=null,ju=0,en=[],tn=0,Pi=null,Kn=1,Gn="";function ui(t,e){ao[lo++]=ju,ao[lo++]=Uu,Uu=t,ju=e}function _w(t,e,n){en[tn++]=Kn,en[tn++]=Gn,en[tn++]=Pi,Pi=t;var r=Kn;t=Gn;var i=32-yn(r)-1;r&=~(1<<i),n+=1;var o=32-yn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Kn=1<<32-yn(e)+i|n<<i|r,Gn=o+t}else Kn=1<<o|n<<i|r,Gn=t}function Hp(t){t.return!==null&&(ui(t,1),_w(t,1,0))}function Wp(t){for(;t===Uu;)Uu=ao[--lo],ao[lo]=null,ju=ao[--lo],ao[lo]=null;for(;t===Pi;)Pi=en[--tn],en[tn]=null,Gn=en[--tn],en[tn]=null,Kn=en[--tn],en[tn]=null}var Ht=null,zt=null,xe=!1,gn=null;function ww(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,zt=Lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:Kn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,zt=null,!0):!1;default:return!1}}function hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ff(t){if(xe){var e=zt;if(e){var n=e;if(!Fy(t,e)){if(hf(t))throw Error(D(418));e=Lr(n.nextSibling);var r=Ht;e&&Fy(t,e)?ww(r,n):(t.flags=t.flags&-4097|2,xe=!1,Ht=t)}}else{if(hf(t))throw Error(D(418));t.flags=t.flags&-4097|2,xe=!1,Ht=t}}}function Uy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function jl(t){if(t!==Ht)return!1;if(!xe)return Uy(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lf(t.type,t.memoizedProps)),e&&(e=zt)){if(hf(t))throw Ew(),Error(D(418));for(;e;)ww(t,e),e=Lr(e.nextSibling)}if(Uy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Ht?Lr(t.stateNode.nextSibling):null;return!0}function Ew(){for(var t=zt;t;)t=Lr(t.nextSibling)}function bo(){zt=Ht=null,xe=!1}function qp(t){gn===null?gn=[t]:gn.push(t)}var xC=hr.ReactCurrentBatchConfig;function hn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $u=ni(null),zu=null,uo=null,Kp=null;function Gp(){Kp=uo=zu=null}function Qp(t){var e=$u.current;Ce($u),t._currentValue=e}function pf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){zu=t,Kp=uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(Kp!==t)if(t={context:t,memoizedValue:e,next:null},uo===null){if(zu===null)throw Error(D(308));uo=t,zu.dependencies={lanes:0,firstContext:t}}else uo=uo.next=t;return e}var pi=null;function Yp(t){pi===null?pi=[t]:pi.push(t)}function Tw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yp(e)):(n.next=i.next,i.next=n),e.interleaved=n,rr(t,r)}function rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tr=!1;function Xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rr(t,n)}return i=r.interleaved,i===null?(e.next=e,Yp(r)):(e.next=i.next,i.next=e),r.interleaved=e,rr(t,n)}function du(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}function jy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bu(t,e,n,r){var i=t.updateQueue;Tr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=De({},d,h);break e;case 2:Tr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ki|=s,t.lanes=s,t.memoizedState=d}}function $y(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var Sw=new T0.Component().refs;function mf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bc={isMounted:function(t){return(t=t._reactInternals)?zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=Ur(t),o=Zn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Vr(t,o,i),e!==null&&(vn(e,t,i,r),du(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=Ur(t),o=Zn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Vr(t,o,i),e!==null&&(vn(e,t,i,r),du(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),r=Ur(t),i=Zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vr(t,i,r),e!==null&&(vn(e,t,r,n),du(e,t,r))}};function zy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!da(n,r)||!da(i,o):!0}function Rw(t,e,n){var r=!1,i=Kr,o=e.contextType;return typeof o=="object"&&o!==null?o=an(o):(i=Lt(e)?Ai:Et.current,r=e.contextTypes,o=(r=r!=null)?Oo(t,i):Kr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function By(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bc.enqueueReplaceState(e,e.state,null)}function gf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Sw,Xp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=an(o):(o=Lt(e)?Ai:Et.current,i.context=Oo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(mf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bc.enqueueReplaceState(i,i.state,null),Bu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Sw&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function $l(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hy(t){var e=t._init;return e(t._payload)}function Cw(t){function e(f,p){if(t){var _=f.deletions;_===null?(f.deletions=[p],f.flags|=16):_.push(p)}}function n(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(f,p){return f=jr(f,p),f.index=0,f.sibling=null,f}function o(f,p,_){return f.index=_,t?(_=f.alternate,_!==null?(_=_.index,_<p?(f.flags|=2,p):_):(f.flags|=2,p)):(f.flags|=1048576,p)}function s(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,p,_,g){return p===null||p.tag!==6?(p=hh(_,f.mode,g),p.return=f,p):(p=i(p,_),p.return=f,p)}function l(f,p,_,g){var A=_.type;return A===to?c(f,p,_.props.children,g,_.key):p!==null&&(p.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Er&&Hy(A)===p.type)?(g=i(p,_.props),g.ref=Ts(f,p,_),g.return=f,g):(g=yu(_.type,_.key,_.props,null,f.mode,g),g.ref=Ts(f,p,_),g.return=f,g)}function u(f,p,_,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=fh(_,f.mode,g),p.return=f,p):(p=i(p,_.children||[]),p.return=f,p)}function c(f,p,_,g,A){return p===null||p.tag!==7?(p=Ii(_,f.mode,g,A),p.return=f,p):(p=i(p,_),p.return=f,p)}function d(f,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=hh(""+p,f.mode,_),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case kl:return _=yu(p.type,p.key,p.props,null,f.mode,_),_.ref=Ts(f,null,p),_.return=f,_;case eo:return p=fh(p,f.mode,_),p.return=f,p;case Er:var g=p._init;return d(f,g(p._payload),_)}if(Ds(p)||ys(p))return p=Ii(p,f.mode,_,null),p.return=f,p;$l(f,p)}return null}function h(f,p,_,g){var A=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:a(f,p,""+_,g);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:return _.key===A?l(f,p,_,g):null;case eo:return _.key===A?u(f,p,_,g):null;case Er:return A=_._init,h(f,p,A(_._payload),g)}if(Ds(_)||ys(_))return A!==null?null:c(f,p,_,g,null);$l(f,_)}return null}function m(f,p,_,g,A){if(typeof g=="string"&&g!==""||typeof g=="number")return f=f.get(_)||null,a(p,f,""+g,A);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case kl:return f=f.get(g.key===null?_:g.key)||null,l(p,f,g,A);case eo:return f=f.get(g.key===null?_:g.key)||null,u(p,f,g,A);case Er:var k=g._init;return m(f,p,_,k(g._payload),A)}if(Ds(g)||ys(g))return f=f.get(_)||null,c(p,f,g,A,null);$l(p,g)}return null}function v(f,p,_,g){for(var A=null,k=null,I=p,b=p=0,H=null;I!==null&&b<_.length;b++){I.index>b?(H=I,I=null):H=I.sibling;var B=h(f,I,_[b],g);if(B===null){I===null&&(I=H);break}t&&I&&B.alternate===null&&e(f,I),p=o(B,p,b),k===null?A=B:k.sibling=B,k=B,I=H}if(b===_.length)return n(f,I),xe&&ui(f,b),A;if(I===null){for(;b<_.length;b++)I=d(f,_[b],g),I!==null&&(p=o(I,p,b),k===null?A=I:k.sibling=I,k=I);return xe&&ui(f,b),A}for(I=r(f,I);b<_.length;b++)H=m(I,f,b,_[b],g),H!==null&&(t&&H.alternate!==null&&I.delete(H.key===null?b:H.key),p=o(H,p,b),k===null?A=H:k.sibling=H,k=H);return t&&I.forEach(function(He){return e(f,He)}),xe&&ui(f,b),A}function w(f,p,_,g){var A=ys(_);if(typeof A!="function")throw Error(D(150));if(_=A.call(_),_==null)throw Error(D(151));for(var k=A=null,I=p,b=p=0,H=null,B=_.next();I!==null&&!B.done;b++,B=_.next()){I.index>b?(H=I,I=null):H=I.sibling;var He=h(f,I,B.value,g);if(He===null){I===null&&(I=H);break}t&&I&&He.alternate===null&&e(f,I),p=o(He,p,b),k===null?A=He:k.sibling=He,k=He,I=H}if(B.done)return n(f,I),xe&&ui(f,b),A;if(I===null){for(;!B.done;b++,B=_.next())B=d(f,B.value,g),B!==null&&(p=o(B,p,b),k===null?A=B:k.sibling=B,k=B);return xe&&ui(f,b),A}for(I=r(f,I);!B.done;b++,B=_.next())B=m(I,f,b,B.value,g),B!==null&&(t&&B.alternate!==null&&I.delete(B.key===null?b:B.key),p=o(B,p,b),k===null?A=B:k.sibling=B,k=B);return t&&I.forEach(function(ce){return e(f,ce)}),xe&&ui(f,b),A}function E(f,p,_,g){if(typeof _=="object"&&_!==null&&_.type===to&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:e:{for(var A=_.key,k=p;k!==null;){if(k.key===A){if(A=_.type,A===to){if(k.tag===7){n(f,k.sibling),p=i(k,_.props.children),p.return=f,f=p;break e}}else if(k.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Er&&Hy(A)===k.type){n(f,k.sibling),p=i(k,_.props),p.ref=Ts(f,k,_),p.return=f,f=p;break e}n(f,k);break}else e(f,k);k=k.sibling}_.type===to?(p=Ii(_.props.children,f.mode,g,_.key),p.return=f,f=p):(g=yu(_.type,_.key,_.props,null,f.mode,g),g.ref=Ts(f,p,_),g.return=f,f=g)}return s(f);case eo:e:{for(k=_.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(f,p.sibling),p=i(p,_.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else e(f,p);p=p.sibling}p=fh(_,f.mode,g),p.return=f,f=p}return s(f);case Er:return k=_._init,E(f,p,k(_._payload),g)}if(Ds(_))return v(f,p,_,g);if(ys(_))return w(f,p,_,g);$l(f,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(f,p.sibling),p=i(p,_),p.return=f,f=p):(n(f,p),p=hh(_,f.mode,g),p.return=f,f=p),s(f)):n(f,p)}return E}var Mo=Cw(!0),Aw=Cw(!1),Wa={},bn=ni(Wa),ma=ni(Wa),ga=ni(Wa);function mi(t){if(t===Wa)throw Error(D(174));return t}function Jp(t,e){switch(Ee(ga,e),Ee(ma,t),Ee(bn,Wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kh(e,t)}Ce(bn),Ee(bn,e)}function Lo(){Ce(bn),Ce(ma),Ce(ga)}function Pw(t){mi(ga.current);var e=mi(bn.current),n=Kh(e,t.type);e!==n&&(Ee(ma,t),Ee(bn,n))}function Zp(t){ma.current===t&&(Ce(bn),Ce(ma))}var ke=ni(0);function Hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sh=[];function em(){for(var t=0;t<sh.length;t++)sh[t]._workInProgressVersionPrimary=null;sh.length=0}var hu=hr.ReactCurrentDispatcher,ah=hr.ReactCurrentBatchConfig,xi=0,Ne=null,qe=null,Xe=null,Wu=!1,Ws=!1,ya=0,kC=0;function ut(){throw Error(D(321))}function tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function nm(t,e,n,r,i,o){if(xi=o,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hu.current=t===null||t.memoizedState===null?bC:MC,t=n(r,i),Ws){o=0;do{if(Ws=!1,ya=0,25<=o)throw Error(D(301));o+=1,Xe=qe=null,e.updateQueue=null,hu.current=LC,t=n(r,i)}while(Ws)}if(hu.current=qu,e=qe!==null&&qe.next!==null,xi=0,Xe=qe=Ne=null,Wu=!1,e)throw Error(D(300));return t}function rm(){var t=ya!==0;return ya=0,t}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ne.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function ln(){if(qe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Xe===null?Ne.memoizedState:Xe.next;if(e!==null)Xe=e,qe=t;else{if(t===null)throw Error(D(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Xe===null?Ne.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function va(t,e){return typeof e=="function"?e(t):e}function lh(t){var e=ln(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=qe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((xi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ne.lanes|=c,ki|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,wn(r,e.memoizedState)||(bt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ne.lanes|=o,ki|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uh(t){var e=ln(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);wn(o,e.memoizedState)||(bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function xw(){}function kw(t,e){var n=Ne,r=ln(),i=e(),o=!wn(r.memoizedState,i);if(o&&(r.memoizedState=i,bt=!0),r=r.queue,im(Ow.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,_a(9,Dw.bind(null,n,r,i,e),void 0,null),Je===null)throw Error(D(349));xi&30||Nw(n,e,i)}return i}function Nw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dw(t,e,n,r){e.value=n,e.getSnapshot=r,bw(e)&&Mw(t)}function Ow(t,e,n){return n(function(){bw(e)&&Mw(t)})}function bw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function Mw(t){var e=rr(t,1);e!==null&&vn(e,t,1,-1)}function Wy(t){var e=Pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},e.queue=t,t=t.dispatch=OC.bind(null,Ne,t),[e.memoizedState,t]}function _a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lw(){return ln().memoizedState}function fu(t,e,n,r){var i=Pn();Ne.flags|=t,i.memoizedState=_a(1|e,n,void 0,r===void 0?null:r)}function Mc(t,e,n,r){var i=ln();r=r===void 0?null:r;var o=void 0;if(qe!==null){var s=qe.memoizedState;if(o=s.destroy,r!==null&&tm(r,s.deps)){i.memoizedState=_a(e,n,o,r);return}}Ne.flags|=t,i.memoizedState=_a(1|e,n,o,r)}function qy(t,e){return fu(8390656,8,t,e)}function im(t,e){return Mc(2048,8,t,e)}function Vw(t,e){return Mc(4,2,t,e)}function Fw(t,e){return Mc(4,4,t,e)}function Uw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jw(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4,4,Uw.bind(null,e,t),n)}function om(){}function $w(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zw(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bw(t,e,n){return xi&21?(wn(n,e)||(n=q0(),Ne.lanes|=n,ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function NC(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=ah.transition;ah.transition={};try{t(!1),e()}finally{ye=n,ah.transition=r}}function Hw(){return ln().memoizedState}function DC(t,e,n){var r=Ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ww(t))qw(e,n);else if(n=Tw(t,e,n,r),n!==null){var i=Ct();vn(n,t,r,i),Kw(n,e,r)}}function OC(t,e,n){var r=Ur(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ww(t))qw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,wn(a,s)){var l=e.interleaved;l===null?(i.next=i,Yp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Tw(t,e,i,r),n!==null&&(i=Ct(),vn(n,t,r,i),Kw(n,e,r))}}function Ww(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function qw(t,e){Ws=Wu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lp(t,n)}}var qu={readContext:an,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},bC={readContext:an,useCallback:function(t,e){return Pn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:qy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fu(4194308,4,Uw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fu(4194308,4,t,e)},useInsertionEffect:function(t,e){return fu(4,2,t,e)},useMemo:function(t,e){var n=Pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DC.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Pn();return t={current:t},e.memoizedState=t},useState:Wy,useDebugValue:om,useDeferredValue:function(t){return Pn().memoizedState=t},useTransition:function(){var t=Wy(!1),e=t[0];return t=NC.bind(null,t[1]),Pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=Pn();if(xe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Je===null)throw Error(D(349));xi&30||Nw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qy(Ow.bind(null,r,o,t),[t]),r.flags|=2048,_a(9,Dw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Pn(),e=Je.identifierPrefix;if(xe){var n=Gn,r=Kn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ya++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MC={readContext:an,useCallback:$w,useContext:an,useEffect:im,useImperativeHandle:jw,useInsertionEffect:Vw,useLayoutEffect:Fw,useMemo:zw,useReducer:lh,useRef:Lw,useState:function(){return lh(va)},useDebugValue:om,useDeferredValue:function(t){var e=ln();return Bw(e,qe.memoizedState,t)},useTransition:function(){var t=lh(va)[0],e=ln().memoizedState;return[t,e]},useMutableSource:xw,useSyncExternalStore:kw,useId:Hw,unstable_isNewReconciler:!1},LC={readContext:an,useCallback:$w,useContext:an,useEffect:im,useImperativeHandle:jw,useInsertionEffect:Vw,useLayoutEffect:Fw,useMemo:zw,useReducer:uh,useRef:Lw,useState:function(){return uh(va)},useDebugValue:om,useDeferredValue:function(t){var e=ln();return qe===null?e.memoizedState=t:Bw(e,qe.memoizedState,t)},useTransition:function(){var t=uh(va)[0],e=ln().memoizedState;return[t,e]},useMutableSource:xw,useSyncExternalStore:kw,useId:Hw,unstable_isNewReconciler:!1};function Vo(t,e){try{var n="",r=e;do n+=cR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VC=typeof WeakMap=="function"?WeakMap:Map;function Gw(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gu||(Gu=!0,Af=r),yf(t,e)},n}function Qw(t,e,n){n=Zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yf(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ky(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XC.bind(null,t,e,n),e.then(t,t))}function Gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,Vr(n,e,1))),n.lanes|=1),t)}var FC=hr.ReactCurrentOwner,bt=!1;function St(t,e,n,r){e.child=t===null?Aw(e,null,n,r):Mo(e,t.child,n,r)}function Yy(t,e,n,r,i){n=n.render;var o=e.ref;return To(e,i),r=nm(t,e,n,r,o,i),n=rm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(xe&&n&&Hp(e),e.flags|=1,St(t,e,r,i),e.child)}function Xy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!fm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Yw(t,e,o,r,i)):(t=yu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:da,n(s,r)&&t.ref===e.ref)return ir(t,e,i)}return e.flags|=1,t=jr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Yw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(da(o,r)&&t.ref===e.ref)if(bt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,ir(t,e,i)}return vf(t,e,n,r,i)}function Xw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(ho,$t),$t|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(ho,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(ho,$t),$t|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ee(ho,$t),$t|=r;return St(t,e,i,n),e.child}function Jw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vf(t,e,n,r,i){var o=Lt(n)?Ai:Et.current;return o=Oo(e,o),To(e,i),n=nm(t,e,n,r,o,i),r=rm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(xe&&r&&Hp(e),e.flags|=1,St(t,e,n,i),e.child)}function Jy(t,e,n,r,i){if(Lt(n)){var o=!0;Fu(e)}else o=!1;if(To(e,i),e.stateNode===null)pu(t,e),Rw(e,n,r),gf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Lt(n)?Ai:Et.current,u=Oo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&By(e,s,r,u),Tr=!1;var h=e.memoizedState;s.state=h,Bu(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Mt.current||Tr?(typeof c=="function"&&(mf(e,n,c,r),l=e.memoizedState),(a=Tr||zy(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Iw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:hn(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=an(l):(l=Lt(n)?Ai:Et.current,l=Oo(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&By(e,s,r,l),Tr=!1,h=e.memoizedState,s.state=h,Bu(e,r,s,i);var v=e.memoizedState;a!==d||h!==v||Mt.current||Tr?(typeof m=="function"&&(mf(e,n,m,r),v=e.memoizedState),(u=Tr||zy(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return _f(t,e,n,r,o,i)}function _f(t,e,n,r,i,o){Jw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Vy(e,n,!1),ir(t,e,o);r=e.stateNode,FC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Mo(e,t.child,null,o),e.child=Mo(e,null,a,o)):St(t,e,a,o),e.memoizedState=r.state,i&&Vy(e,n,!0),e.child}function Zw(t){var e=t.stateNode;e.pendingContext?Ly(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ly(t,e.context,!1),Jp(t,e.containerInfo)}function Zy(t,e,n,r,i){return bo(),qp(i),e.flags|=256,St(t,e,n,r),e.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function Ef(t){return{baseLanes:t,cachePool:null,transitions:null}}function eE(t,e,n){var r=e.pendingProps,i=ke.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(ke,i&1),t===null)return ff(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Fc(s,r,0,null),t=Ii(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ef(n),e.memoizedState=wf,t):sm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=jr(a,o):(o=Ii(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ef(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=wf,r}return o=t.child,t=o.sibling,r=jr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sm(t,e){return e=Fc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zl(t,e,n,r){return r!==null&&qp(r),Mo(e,t.child,null,n),t=sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ch(Error(D(422))),zl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fc({mode:"visible",children:r.children},i,0,null),o=Ii(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Mo(e,t.child,null,s),e.child.memoizedState=Ef(s),e.memoizedState=wf,o);if(!(e.mode&1))return zl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(D(419)),r=ch(o,r,void 0),zl(t,e,s,r)}if(a=(s&t.childLanes)!==0,bt||a){if(r=Je,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,rr(t,i),vn(r,t,i,-1))}return hm(),r=ch(Error(D(421))),zl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,zt=Lr(i.nextSibling),Ht=e,xe=!0,gn=null,t!==null&&(en[tn++]=Kn,en[tn++]=Gn,en[tn++]=Pi,Kn=t.id,Gn=t.overflow,Pi=e),e=sm(e,r.children),e.flags|=4096,e)}function ev(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pf(t.return,e,n)}function dh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function tE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(St(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ev(t,n,e);else if(t.tag===19)ev(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dh(e,!0,n,null,o);break;case"together":dh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jC(t,e,n){switch(e.tag){case 3:Zw(e),bo();break;case 5:Pw(e);break;case 1:Lt(e.type)&&Fu(e);break;case 4:Jp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee($u,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?eE(t,e,n):(Ee(ke,ke.current&1),t=ir(t,e,n),t!==null?t.sibling:null);Ee(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,Xw(t,e,n)}return ir(t,e,n)}var nE,Tf,rE,iE;nE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tf=function(){};rE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mi(bn.current);var o=null;switch(n){case"input":i=Bh(t,i),r=Bh(t,r),o=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),o=[];break;case"textarea":i=qh(t,i),r=qh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lu)}Gh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ia.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ia.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};iE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Is(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $C(t,e,n){var r=e.pendingProps;switch(Wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return Lt(e.type)&&Vu(),ct(e),null;case 3:return r=e.stateNode,Lo(),Ce(Mt),Ce(Et),em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(kf(gn),gn=null))),Tf(t,e),ct(e),null;case 5:Zp(e);var i=mi(ga.current);if(n=e.type,t!==null&&e.stateNode!=null)rE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return ct(e),null}if(t=mi(bn.current),jl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[xn]=e,r[pa]=o,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<bs.length;i++)Te(bs[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":uy(r,o),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Te("invalid",r);break;case"textarea":dy(r,o),Te("invalid",r)}Gh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ul(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ul(r.textContent,a,t),i=["children",""+a]):ia.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Te("scroll",r)}switch(n){case"input":Nl(r),cy(r,o,!0);break;case"textarea":Nl(r),hy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Lu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[xn]=e,t[pa]=r,nE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Qh(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<bs.length;i++)Te(bs[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":uy(t,r),i=Bh(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Te("invalid",t);break;case"textarea":dy(t,r),i=qh(t,r),Te("invalid",t);break;default:i=r}Gh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?b0(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D0(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oa(t,l):typeof l=="number"&&oa(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ia.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Te("scroll",t):l!=null&&kp(t,o,l,s))}switch(n){case"input":Nl(t),cy(t,r,!1);break;case"textarea":Nl(t),hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?vo(t,!!r.multiple,o,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)iE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=mi(ga.current),mi(bn.current),jl(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(o=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:Ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return ct(e),null;case 13:if(Ce(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&zt!==null&&e.mode&1&&!(e.flags&128))Ew(),bo(),e.flags|=98560,o=!1;else if(o=jl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(D(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[xn]=e}else bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),o=!1}else gn!==null&&(kf(gn),gn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Ke===0&&(Ke=3):hm())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return Lo(),Tf(t,e),t===null&&ha(e.stateNode.containerInfo),ct(e),null;case 10:return Qp(e.type._context),ct(e),null;case 17:return Lt(e.type)&&Vu(),ct(e),null;case 19:if(Ce(ke),o=e.memoizedState,o===null)return ct(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Is(o,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Hu(t),s!==null){for(e.flags|=128,Is(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Le()>Fo&&(e.flags|=128,r=!0,Is(o,!1),e.lanes=4194304)}else{if(!r)if(t=Hu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Is(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return ct(e),null}else 2*Le()-o.renderingStartTime>Fo&&n!==1073741824&&(e.flags|=128,r=!0,Is(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Le(),e.sibling=null,n=ke.current,Ee(ke,r?n&1|2:n&1),e):(ct(e),null);case 22:case 23:return dm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function zC(t,e){switch(Wp(e),e.tag){case 1:return Lt(e.type)&&Vu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lo(),Ce(Mt),Ce(Et),em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zp(e),null;case 13:if(Ce(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(ke),null;case 4:return Lo(),null;case 10:return Qp(e.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var Bl=!1,pt=!1,BC=typeof WeakSet=="function"?WeakSet:Set,F=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function If(t,e,n){try{n()}catch(r){be(t,e,r)}}var tv=!1;function HC(t,e){if(sf=Ou,t=lw(),Bp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(af={focusedElem:t,selectionRange:n},Ou=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,E=v.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?w:hn(e.type,w),E);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(g){be(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return v=tv,tv=!1,v}function qs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&If(e,n,o)}i=i.next}while(i!==r)}}function Lc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oE(t){var e=t.alternate;e!==null&&(t.alternate=null,oE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[pa],delete e[cf],delete e[CC],delete e[AC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sE(t){return t.tag===5||t.tag===3||t.tag===4}function nv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lu));else if(r!==4&&(t=t.child,t!==null))for(Rf(t,e,n),t=t.sibling;t!==null;)Rf(t,e,n),t=t.sibling}function Cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cf(t,e,n),t=t.sibling;t!==null;)Cf(t,e,n),t=t.sibling}var nt=null,pn=!1;function vr(t,e,n){for(n=n.child;n!==null;)aE(t,e,n),n=n.sibling}function aE(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Pc,n)}catch{}switch(n.tag){case 5:pt||co(n,e);case 6:var r=nt,i=pn;nt=null,vr(t,e,n),nt=r,pn=i,nt!==null&&(pn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(pn?(t=nt,n=n.stateNode,t.nodeType===8?ih(t.parentNode,n):t.nodeType===1&&ih(t,n),ua(t)):ih(nt,n.stateNode));break;case 4:r=nt,i=pn,nt=n.stateNode.containerInfo,pn=!0,vr(t,e,n),nt=r,pn=i;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&If(n,e,s),i=i.next}while(i!==r)}vr(t,e,n);break;case 1:if(!pt&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,e,a)}vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,vr(t,e,n),pt=r):vr(t,e,n);break;default:vr(t,e,n)}}function rv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BC),e.forEach(function(r){var i=ZC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,pn=!1;break e;case 3:nt=a.stateNode.containerInfo,pn=!0;break e;case 4:nt=a.stateNode.containerInfo,pn=!0;break e}a=a.return}if(nt===null)throw Error(D(160));aE(o,s,i),nt=null,pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lE(e,t),e=e.sibling}function lE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),An(t),r&4){try{qs(3,t,t.return),Lc(3,t)}catch(w){be(t,t.return,w)}try{qs(5,t,t.return)}catch(w){be(t,t.return,w)}}break;case 1:cn(e,t),An(t),r&512&&n!==null&&co(n,n.return);break;case 5:if(cn(e,t),An(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var i=t.stateNode;try{oa(i,"")}catch(w){be(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&x0(i,o),Qh(a,s);var u=Qh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?b0(i,d):c==="dangerouslySetInnerHTML"?D0(i,d):c==="children"?oa(i,d):kp(i,c,d,u)}switch(a){case"input":Hh(i,o);break;case"textarea":k0(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?vo(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?vo(i,!!o.multiple,o.defaultValue,!0):vo(i,!!o.multiple,o.multiple?[]:"",!1))}i[pa]=o}catch(w){be(t,t.return,w)}}break;case 6:if(cn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){be(t,t.return,w)}}break;case 3:if(cn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(w){be(t,t.return,w)}break;case 4:cn(e,t),An(t);break;case 13:cn(e,t),An(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(um=Le())),r&4&&rv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(u=pt)||c,cn(e,t),pt=u):cn(e,t),An(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(d=F=c;F!==null;){switch(h=F,m=h.child,h.tag){case 0:case 11:case 14:case 15:qs(4,h,h.return);break;case 1:co(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){be(r,n,w)}}break;case 5:co(h,h.return);break;case 22:if(h.memoizedState!==null){ov(d);continue}}m!==null?(m.return=h,F=m):ov(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=O0("display",s))}catch(w){be(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){be(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cn(e,t),An(t),r&4&&rv(t);break;case 21:break;default:cn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sE(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oa(i,""),r.flags&=-33);var o=nv(t);Cf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=nv(t);Rf(t,a,s);break;default:throw Error(D(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WC(t,e,n){F=t,uE(t)}function uE(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Bl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pt;a=Bl;var u=pt;if(Bl=s,(pt=l)&&!u)for(F=i;F!==null;)s=F,l=s.child,s.tag===22&&s.memoizedState!==null?sv(i):l!==null?(l.return=s,F=l):sv(i);for(;o!==null;)F=o,uE(o),o=o.sibling;F=i,Bl=a,pt=u}iv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):iv(t)}}function iv(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||Lc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$y(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$y(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ua(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}pt||e.flags&512&&Sf(e)}catch(h){be(e,e.return,h)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function ov(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function sv(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lc(4,e)}catch(l){be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){be(e,i,l)}}var o=e.return;try{Sf(e)}catch(l){be(e,o,l)}break;case 5:var s=e.return;try{Sf(e)}catch(l){be(e,s,l)}}}catch(l){be(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var qC=Math.ceil,Ku=hr.ReactCurrentDispatcher,am=hr.ReactCurrentOwner,on=hr.ReactCurrentBatchConfig,de=0,Je=null,$e=null,ot=0,$t=0,ho=ni(0),Ke=0,wa=null,ki=0,Vc=0,lm=0,Ks=null,Dt=null,um=0,Fo=1/0,Hn=null,Gu=!1,Af=null,Fr=null,Hl=!1,kr=null,Qu=0,Gs=0,Pf=null,mu=-1,gu=0;function Ct(){return de&6?Le():mu!==-1?mu:mu=Le()}function Ur(t){return t.mode&1?de&2&&ot!==0?ot&-ot:xC.transition!==null?(gu===0&&(gu=q0()),gu):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Z0(t.type)),t):1}function vn(t,e,n,r){if(50<Gs)throw Gs=0,Pf=null,Error(D(185));za(t,n,r),(!(de&2)||t!==Je)&&(t===Je&&(!(de&2)&&(Vc|=n),Ke===4&&Rr(t,ot)),Vt(t,r),n===1&&de===0&&!(e.mode&1)&&(Fo=Le()+500,Oc&&ri()))}function Vt(t,e){var n=t.callbackNode;xR(t,e);var r=Du(t,t===Je?ot:0);if(r===0)n!==null&&my(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&my(n),e===1)t.tag===0?PC(av.bind(null,t)):vw(av.bind(null,t)),SC(function(){!(de&6)&&ri()}),n=null;else{switch(K0(r)){case 1:n=Mp;break;case 4:n=H0;break;case 16:n=Nu;break;case 536870912:n=W0;break;default:n=Nu}n=yE(n,cE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cE(t,e){if(mu=-1,gu=0,de&6)throw Error(D(327));var n=t.callbackNode;if(Io()&&t.callbackNode!==n)return null;var r=Du(t,t===Je?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yu(t,r);else{e=r;var i=de;de|=2;var o=hE();(Je!==t||ot!==e)&&(Hn=null,Fo=Le()+500,Ti(t,e));do try{QC();break}catch(a){dE(t,a)}while(1);Gp(),Ku.current=o,de=i,$e!==null?e=0:(Je=null,ot=0,e=Ke)}if(e!==0){if(e===2&&(i=ef(t),i!==0&&(r=i,e=xf(t,i))),e===1)throw n=wa,Ti(t,0),Rr(t,r),Vt(t,Le()),n;if(e===6)Rr(t,r);else{if(i=t.current.alternate,!(r&30)&&!KC(i)&&(e=Yu(t,r),e===2&&(o=ef(t),o!==0&&(r=o,e=xf(t,o))),e===1))throw n=wa,Ti(t,0),Rr(t,r),Vt(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:ci(t,Dt,Hn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=um+500-Le(),10<e)){if(Du(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uf(ci.bind(null,t,Dt,Hn),e);break}ci(t,Dt,Hn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-yn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qC(r/1960))-r,10<r){t.timeoutHandle=uf(ci.bind(null,t,Dt,Hn),r);break}ci(t,Dt,Hn);break;case 5:ci(t,Dt,Hn);break;default:throw Error(D(329))}}}return Vt(t,Le()),t.callbackNode===n?cE.bind(null,t):null}function xf(t,e){var n=Ks;return t.current.memoizedState.isDehydrated&&(Ti(t,e).flags|=256),t=Yu(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&kf(e)),t}function kf(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function KC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~lm,e&=~Vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yn(e),r=1<<n;t[n]=-1,e&=~r}}function av(t){if(de&6)throw Error(D(327));Io();var e=Du(t,0);if(!(e&1))return Vt(t,Le()),null;var n=Yu(t,e);if(t.tag!==0&&n===2){var r=ef(t);r!==0&&(e=r,n=xf(t,r))}if(n===1)throw n=wa,Ti(t,0),Rr(t,e),Vt(t,Le()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ci(t,Dt,Hn),Vt(t,Le()),null}function cm(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(Fo=Le()+500,Oc&&ri())}}function Ni(t){kr!==null&&kr.tag===0&&!(de&6)&&Io();var e=de;de|=1;var n=on.transition,r=ye;try{if(on.transition=null,ye=1,t)return t()}finally{ye=r,on.transition=n,de=e,!(de&6)&&ri()}}function dm(){$t=ho.current,Ce(ho)}function Ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IC(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Wp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vu();break;case 3:Lo(),Ce(Mt),Ce(Et),em();break;case 5:Zp(r);break;case 4:Lo();break;case 13:Ce(ke);break;case 19:Ce(ke);break;case 10:Qp(r.type._context);break;case 22:case 23:dm()}n=n.return}if(Je=t,$e=t=jr(t.current,null),ot=$t=e,Ke=0,wa=null,lm=Vc=ki=0,Dt=Ks=null,pi!==null){for(e=0;e<pi.length;e++)if(n=pi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}pi=null}return t}function dE(t,e){do{var n=$e;try{if(Gp(),hu.current=qu,Wu){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wu=!1}if(xi=0,Xe=qe=Ne=null,Ws=!1,ya=0,am.current=null,n===null||n.return===null){Ke=1,wa=e,$e=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Gy(s);if(m!==null){m.flags&=-257,Qy(m,s,a,o,e),m.mode&1&&Ky(o,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Ky(o,u,e),hm();break e}l=Error(D(426))}}else if(xe&&a.mode&1){var E=Gy(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Qy(E,s,a,o,e),qp(Vo(l,a));break e}}o=l=Vo(l,a),Ke!==4&&(Ke=2),Ks===null?Ks=[o]:Ks.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var f=Gw(o,l,e);jy(o,f);break e;case 1:a=l;var p=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fr===null||!Fr.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=Qw(o,a,e);jy(o,g);break e}}o=o.return}while(o!==null)}pE(n)}catch(A){e=A,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function hE(){var t=Ku.current;return Ku.current=qu,t===null?qu:t}function hm(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||!(ki&268435455)&&!(Vc&268435455)||Rr(Je,ot)}function Yu(t,e){var n=de;de|=2;var r=hE();(Je!==t||ot!==e)&&(Hn=null,Ti(t,e));do try{GC();break}catch(i){dE(t,i)}while(1);if(Gp(),de=n,Ku.current=r,$e!==null)throw Error(D(261));return Je=null,ot=0,Ke}function GC(){for(;$e!==null;)fE($e)}function QC(){for(;$e!==null&&!wR();)fE($e)}function fE(t){var e=gE(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?pE(t):$e=e,am.current=null}function pE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zC(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,$e=null;return}}else if(n=$C(n,e,$t),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Ke===0&&(Ke=5)}function ci(t,e,n){var r=ye,i=on.transition;try{on.transition=null,ye=1,YC(t,e,n,r)}finally{on.transition=i,ye=r}return null}function YC(t,e,n,r){do Io();while(kr!==null);if(de&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(kR(t,o),t===Je&&($e=Je=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,yE(Nu,function(){return Io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=on.transition,on.transition=null;var s=ye;ye=1;var a=de;de|=4,am.current=null,HC(t,n),lE(n,t),gC(af),Ou=!!sf,af=sf=null,t.current=n,WC(n),ER(),de=a,ye=s,on.transition=o}else t.current=n;if(Hl&&(Hl=!1,kr=t,Qu=i),o=t.pendingLanes,o===0&&(Fr=null),SR(n.stateNode),Vt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,t=Af,Af=null,t;return Qu&1&&t.tag!==0&&Io(),o=t.pendingLanes,o&1?t===Pf?Gs++:(Gs=0,Pf=t):Gs=0,ri(),null}function Io(){if(kr!==null){var t=K0(Qu),e=on.transition,n=ye;try{if(on.transition=null,ye=16>t?16:t,kr===null)var r=!1;else{if(t=kr,kr=null,Qu=0,de&6)throw Error(D(331));var i=de;for(de|=4,F=t.current;F!==null;){var o=F,s=o.child;if(F.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:qs(8,c,o)}var d=c.child;if(d!==null)d.return=c,F=d;else for(;F!==null;){c=F;var h=c.sibling,m=c.return;if(oE(c),c===u){F=null;break}if(h!==null){h.return=m,F=h;break}F=m}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}F=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,F=s;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:qs(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,F=f;break e}F=o.return}}var p=t.current;for(F=p;F!==null;){s=F;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,F=_;else e:for(s=p;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lc(9,a)}}catch(A){be(a,a.return,A)}if(a===s){F=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,F=g;break e}F=a.return}}if(de=i,ri(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Pc,t)}catch{}r=!0}return r}finally{ye=n,on.transition=e}}return!1}function lv(t,e,n){e=Vo(n,e),e=Gw(t,e,1),t=Vr(t,e,1),e=Ct(),t!==null&&(za(t,1,e),Vt(t,e))}function be(t,e,n){if(t.tag===3)lv(t,t,n);else for(;e!==null;){if(e.tag===3){lv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=Vo(n,t),t=Qw(e,t,1),e=Vr(e,t,1),t=Ct(),e!==null&&(za(e,1,t),Vt(e,t));break}}e=e.return}}function XC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(ot&n)===n&&(Ke===4||Ke===3&&(ot&130023424)===ot&&500>Le()-um?Ti(t,0):lm|=n),Vt(t,e)}function mE(t,e){e===0&&(t.mode&1?(e=bl,bl<<=1,!(bl&130023424)&&(bl=4194304)):e=1);var n=Ct();t=rr(t,e),t!==null&&(za(t,e,n),Vt(t,n))}function JC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mE(t,n)}function ZC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),mE(t,n)}var gE;gE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,jC(t,e,n);bt=!!(t.flags&131072)}else bt=!1,xe&&e.flags&1048576&&_w(e,ju,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pu(t,e),t=e.pendingProps;var i=Oo(e,Et.current);To(e,n),i=nm(null,e,r,t,i,n);var o=rm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(o=!0,Fu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xp(e),i.updater=bc,e.stateNode=i,i._reactInternals=e,gf(e,r,t,n),e=_f(null,e,r,!0,o,n)):(e.tag=0,xe&&o&&Hp(e),St(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tA(r),t=hn(r,t),i){case 0:e=vf(null,e,r,t,n);break e;case 1:e=Jy(null,e,r,t,n);break e;case 11:e=Yy(null,e,r,t,n);break e;case 14:e=Xy(null,e,r,hn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),vf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Jy(t,e,r,i,n);case 3:e:{if(Zw(e),t===null)throw Error(D(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Iw(t,e),Bu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Vo(Error(D(423)),e),e=Zy(t,e,r,n,i);break e}else if(r!==i){i=Vo(Error(D(424)),e),e=Zy(t,e,r,n,i);break e}else for(zt=Lr(e.stateNode.containerInfo.firstChild),Ht=e,xe=!0,gn=null,n=Aw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bo(),r===i){e=ir(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 5:return Pw(e),t===null&&ff(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,lf(r,i)?s=null:o!==null&&lf(r,o)&&(e.flags|=32),Jw(t,e),St(t,e,s,n),e.child;case 6:return t===null&&ff(e),null;case 13:return eE(t,e,n);case 4:return Jp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mo(e,null,r,n):St(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Yy(t,e,r,i,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ee($u,r._currentValue),r._currentValue=s,o!==null)if(wn(o.value,s)){if(o.children===i.children&&!Mt.current){e=ir(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Zn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pf(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(D(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}St(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),i=an(i),r=r(i),e.flags|=1,St(t,e,r,n),e.child;case 14:return r=e.type,i=hn(r,e.pendingProps),i=hn(r.type,i),Xy(t,e,r,i,n);case 15:return Yw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),pu(t,e),e.tag=1,Lt(r)?(t=!0,Fu(e)):t=!1,To(e,n),Rw(e,r,i),gf(e,r,i,n),_f(null,e,r,!0,t,n);case 19:return tE(t,e,n);case 22:return Xw(t,e,n)}throw Error(D(156,e.tag))};function yE(t,e){return B0(t,e)}function eA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new eA(t,e,n,r)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tA(t){if(typeof t=="function")return fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dp)return 11;if(t===Op)return 14}return 2}function jr(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")fm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case to:return Ii(n.children,i,o,e);case Np:s=8,i|=8;break;case Uh:return t=rn(12,n,e,i|2),t.elementType=Uh,t.lanes=o,t;case jh:return t=rn(13,n,e,i),t.elementType=jh,t.lanes=o,t;case $h:return t=rn(19,n,e,i),t.elementType=$h,t.lanes=o,t;case C0:return Fc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S0:s=10;break e;case R0:s=9;break e;case Dp:s=11;break e;case Op:s=14;break e;case Er:s=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=rn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ii(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function Fc(t,e,n,r){return t=rn(22,t,r,e),t.elementType=C0,t.lanes=n,t.stateNode={isHidden:!1},t}function hh(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function fh(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pm(t,e,n,r,i,o,s,a,l){return t=new nA(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(o),t}function rA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vE(t){if(!t)return Kr;t=t._reactInternals;e:{if(zi(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Lt(n))return yw(t,n,e)}return e}function _E(t,e,n,r,i,o,s,a,l){return t=pm(n,r,!0,t,i,o,s,a,l),t.context=vE(null),n=t.current,r=Ct(),i=Ur(n),o=Zn(r,i),o.callback=e??null,Vr(n,o,i),t.current.lanes=i,za(t,i,r),Vt(t,r),t}function Uc(t,e,n,r){var i=e.current,o=Ct(),s=Ur(i);return n=vE(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vr(i,e,s),t!==null&&(vn(t,i,s,o),du(t,i,s)),s}function Xu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mm(t,e){uv(t,e),(t=t.alternate)&&uv(t,e)}function iA(){return null}var wE=typeof reportError=="function"?reportError:function(t){console.error(t)};function gm(t){this._internalRoot=t}jc.prototype.render=gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Uc(t,e,null,null)};jc.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){Uc(null,t,null,null)}),e[nr]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sr.length&&e!==0&&e<Sr[n].priority;n++);Sr.splice(n,0,t),n===0&&J0(t)}};function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cv(){}function oA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Xu(s);o.call(u)}}var s=_E(e,r,t,0,null,!1,!1,"",cv);return t._reactRootContainer=s,t[nr]=s.current,ha(t.nodeType===8?t.parentNode:t),Ni(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xu(l);a.call(u)}}var l=pm(t,0,!1,null,null,!1,!1,"",cv);return t._reactRootContainer=l,t[nr]=l.current,ha(t.nodeType===8?t.parentNode:t),Ni(function(){Uc(e,l,n,r)}),l}function zc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Xu(s);a.call(l)}}Uc(e,s,t,i)}else s=oA(n,e,t,i,r);return Xu(s)}G0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Os(e.pendingLanes);n!==0&&(Lp(e,n|1),Vt(e,Le()),!(de&6)&&(Fo=Le()+500,ri()))}break;case 13:Ni(function(){var r=rr(t,1);if(r!==null){var i=Ct();vn(r,t,1,i)}}),mm(t,1)}};Vp=function(t){if(t.tag===13){var e=rr(t,134217728);if(e!==null){var n=Ct();vn(e,t,134217728,n)}mm(t,134217728)}};Q0=function(t){if(t.tag===13){var e=Ur(t),n=rr(t,e);if(n!==null){var r=Ct();vn(n,t,e,r)}mm(t,e)}};Y0=function(){return ye};X0=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Xh=function(t,e,n){switch(e){case"input":if(Hh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dc(r);if(!i)throw Error(D(90));P0(r),Hh(r,i)}}}break;case"textarea":k0(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};V0=cm;F0=Ni;var sA={usingClientEntryPoint:!1,Events:[Ha,oo,Dc,M0,L0,cm]},Ss={findFiberByHostInstance:fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aA={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||iA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Pc=Wl.inject(aA),On=Wl}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sA;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(e))throw Error(D(200));return rA(t,e,null,n)};Kt.createRoot=function(t,e){if(!ym(t))throw Error(D(299));var n=!1,r="",i=wE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pm(t,1,!1,null,null,n,!1,r,i),t[nr]=e.current,ha(t.nodeType===8?t.parentNode:t),new gm(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=$0(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Ni(t)};Kt.hydrate=function(t,e,n){if(!$c(e))throw Error(D(200));return zc(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!ym(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=wE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=_E(e,null,t,1,n??null,i,!1,o,s),t[nr]=e.current,ha(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jc(e)};Kt.render=function(t,e,n){if(!$c(e))throw Error(D(200));return zc(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!$c(t))throw Error(D(40));return t._reactRootContainer?(Ni(function(){zc(null,null,t,!1,function(){t._reactRootContainer=null,t[nr]=null})}),!0):!1};Kt.unstable_batchedUpdates=cm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$c(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return zc(t,e,n,!1,r)};Kt.version="18.2.0-next-9e3b772b8-20220608";function EE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EE)}catch(t){console.error(t)}}EE(),_0.exports=Kt;var TE=_0.exports,dv=TE;Vh.createRoot=dv.createRoot,Vh.hydrateRoot=dv.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ie.apply(this,arguments)}var Ue;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ue||(Ue={}));const hv="popstate";function lA(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=$n(i.location.hash.substr(1));return Ea("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Gr(o))}function r(i,o){Di(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return cA(e,n,r,t)}function re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Di(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uA(){return Math.random().toString(36).substr(2,8)}function fv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ea(t,e,n,r){return n===void 0&&(n=null),Ie({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$n(e):e,{state:n,key:e&&e.key||r||uA()})}function Gr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $n(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ue.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ie({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Ue.Pop;let E=c(),f=E==null?null:E-u;u=E,l&&l({action:a,location:w.location,delta:f})}function h(E,f){a=Ue.Push;let p=Ea(w.location,E,f);n&&n(p,E),u=c()+1;let _=fv(p,u),g=w.createHref(p);try{s.pushState(_,"",g)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(g)}o&&l&&l({action:a,location:w.location,delta:1})}function m(E,f){a=Ue.Replace;let p=Ea(w.location,E,f);n&&n(p,E),u=c();let _=fv(p,u),g=w.createHref(p);s.replaceState(_,"",g),o&&l&&l({action:a,location:w.location,delta:0})}function v(E){let f=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:Gr(E);return re(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let w={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hv,d),l=E,()=>{i.removeEventListener(hv,d),l=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let f=v(E);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:m,go(E){return s.go(E)}};return w}var We;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(We||(We={}));const dA=new Set(["lazy","caseSensitive","path","id","index","children"]);function hA(t){return t.index===!0}function Nf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(re(i.index!==!0||!i.children,"Cannot specify children on an index route"),re(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),hA(i)){let l=Ie({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ie({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Nf(i.children,e,s,r)),l}})}function fo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$n(e):e,i=Qr(r.pathname||"/",n);if(i==null)return null;let o=IE(t);fA(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=TA(o[a],RA(i));return s}function IE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Mn([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(re(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IE(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:wA(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of SE(o.path))i(o,s,l)}),e}function SE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=SE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pA=/^:\w+$/,mA=3,gA=2,yA=1,vA=10,_A=-2,pv=t=>t==="*";function wA(t,e){let n=t.split("/"),r=n.length;return n.some(pv)&&(r+=_A),e&&(r+=gA),n.filter(i=>!pv(i)).reduce((i,o)=>i+(pA.test(o)?mA:o===""?yA:vA),r)}function EA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TA(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=IA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:Mn([i,c.pathname]),pathnameBase:xA(Mn([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Mn([i,c.pathnameBase]))}return o}function IA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";s=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=CA(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function SA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RA(t){try{return decodeURI(t)}catch(e){return Di(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function CA(t,e){try{return decodeURIComponent(t)}catch(n){return Di(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$n(t):t;return{pathname:n?n.startsWith("/")?n:PA(n,e):e,search:kA(r),hash:NA(i)}}function PA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ph(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bc(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$n(t):(i=Ie({},t),re(!i.pathname||!i.pathname.includes("?"),ph("?","pathname","search",i)),re(!i.pathname||!i.pathname.includes("#"),ph("#","pathname","hash",i)),re(!i.search||!i.search.includes("#"),ph("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=AA(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Mn=t=>t.join("/").replace(/\/\/+/g,"/"),xA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,DA=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,Ie({},r,{headers:i}))};class _m{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function RE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CE=["post","put","patch","delete"],OA=new Set(CE),bA=["get",...CE],MA=new Set(bA),LA=new Set([301,302,303,307,308]),VA=new Set([307,308]),mh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},FA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UA=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function jA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;re(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let T=t.detectErrorBoundary;i=S=>({hasErrorBoundary:T(S)})}else i=UA;let o={},s=Nf(t.routes,i,void 0,o),a,l=t.basename||"/",u=Ie({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,d=new Set,h=null,m=null,v=null,w=t.hydrationData!=null,E=fo(s,t.history.location,l),f=null;if(E==null){let T=Jt(404,{pathname:t.history.location.pathname}),{matches:S,route:N}=Tv(s);E=S,f={[N.id]:T}}let p=!E.some(T=>T.route.lazy)&&(!E.some(T=>T.route.loader)||t.hydrationData!=null),_,g={historyAction:t.history.action,location:t.history.location,matches:E,initialized:p,navigation:mh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},A=Ue.Pop,k=!1,I,b=!1,H=!1,B=[],He=[],ce=new Map,Qt=0,G=-1,q=new Map,he=new Set,R=new Map,C=new Map,V=new Map,$=!1;function ie(){return c=t.history.listen(T=>{let{action:S,location:N,delta:U}=T;if($){$=!1;return}Di(V.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Zg({currentLocation:g.location,nextLocation:N,historyAction:S});if(ne&&U!=null){$=!0,t.history.go(U*-1),Rl(ne,{state:"blocked",location:N,proceed(){Rl(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),t.history.go(U)},reset(){let Y=new Map(g.blockers);Y.set(ne,Rs),ge({blockers:Y})}});return}return gr(S,N)}),g.initialized||gr(Ue.Pop,g.location),_}function _e(){c&&c(),d.clear(),I&&I.abort(),g.fetchers.forEach((T,S)=>Ld(S)),g.blockers.forEach((T,S)=>Jg(S))}function kt(T){return d.add(T),()=>d.delete(T)}function ge(T){g=Ie({},g,T),d.forEach(S=>S(g))}function un(T,S){var N,U;let ne=g.actionData!=null&&g.navigation.formMethod!=null&&mn(g.navigation.formMethod)&&g.navigation.state==="loading"&&((N=T.state)==null?void 0:N._isRedirect)!==!0,Y;S.actionData?Object.keys(S.actionData).length>0?Y=S.actionData:Y=null:ne?Y=g.actionData:Y=null;let J=S.loaderData?Ev(g.loaderData,S.loaderData,S.matches||[],S.errors):g.loaderData,K=g.blockers;K.size>0&&(K=new Map(K),K.forEach((we,fe)=>K.set(fe,Rs)));let z=k===!0||g.navigation.formMethod!=null&&mn(g.navigation.formMethod)&&((U=T.state)==null?void 0:U._isRedirect)!==!0;a&&(s=a,a=void 0),b||A===Ue.Pop||(A===Ue.Push?t.history.push(T,T.state):A===Ue.Replace&&t.history.replace(T,T.state)),ge(Ie({},S,{actionData:Y,loaderData:J,historyAction:A,location:T,initialized:!0,navigation:mh,revalidation:"idle",restoreScrollPosition:ty(T,S.matches||g.matches),preventScrollReset:z,blockers:K})),A=Ue.Pop,k=!1,b=!1,H=!1,B=[],He=[]}async function Yt(T,S){if(typeof T=="number"){t.history.go(T);return}let N=Df(g.location,g.matches,l,u.v7_prependBasename,T,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:U,submission:ne,error:Y}=mv(u.v7_normalizeFormMethod,!1,N,S),J=g.location,K=Ea(g.location,U,S&&S.state);K=Ie({},K,t.history.encodeLocation(K));let z=S&&S.replace!=null?S.replace:void 0,we=Ue.Push;z===!0?we=Ue.Replace:z===!1||ne!=null&&mn(ne.formMethod)&&ne.formAction===g.location.pathname+g.location.search&&(we=Ue.Replace);let fe=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,Ut=Zg({currentLocation:J,nextLocation:K,historyAction:we});if(Ut){Rl(Ut,{state:"blocked",location:K,proceed(){Rl(Ut,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Yt(T,S)},reset(){let Qe=new Map(g.blockers);Qe.set(Ut,Rs),ge({blockers:Qe})}});return}return await gr(we,K,{submission:ne,pendingError:Y,preventScrollReset:fe,replace:S&&S.replace})}function mr(){if(Md(),ge({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){gr(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}gr(A||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function gr(T,S,N){I&&I.abort(),I=null,A=T,b=(N&&N.startUninterruptedRevalidation)===!0,DS(g.location,g.matches),k=(N&&N.preventScrollReset)===!0;let U=a||s,ne=N&&N.overrideNavigation,Y=fo(U,S,l);if(!Y){let Qe=Jt(404,{pathname:S.pathname}),{matches:Nt,route:Cn}=Tv(U);Vd(),un(S,{matches:Nt,loaderData:{},errors:{[Cn.id]:Qe}});return}if(g.initialized&&!H&&WA(g.location,S)&&!(N&&N.submission&&mn(N.submission.formMethod))){un(S,{matches:Y});return}I=new AbortController;let J=As(t.history,S,I.signal,N&&N.submission),K,z;if(N&&N.pendingError)z={[po(Y).route.id]:N.pendingError};else if(N&&N.submission&&mn(N.submission.formMethod)){let Qe=await RS(J,S,N.submission,Y,{replace:N.replace});if(Qe.shortCircuited)return;K=Qe.pendingActionData,z=Qe.pendingActionError,ne=ql(S,N.submission),J=new Request(J.url,{signal:J.signal})}let{shortCircuited:we,loaderData:fe,errors:Ut}=await CS(J,S,Y,ne,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,K,z);we||(I=null,un(S,Ie({matches:Y},K?{actionData:K}:{},{loaderData:fe,errors:Ut})))}async function RS(T,S,N,U,ne){ne===void 0&&(ne={}),Md();let Y=YA(S,N);ge({navigation:Y});let J,K=bf(U,S);if(!K.route.action&&!K.route.lazy)J={type:We.error,error:Jt(405,{method:T.method,pathname:S.pathname,routeId:K.route.id})};else if(J=await Cs("action",T,K,U,o,i,l),T.signal.aborted)return{shortCircuited:!0};if(So(J)){let z;return ne&&ne.replace!=null?z=ne.replace:z=J.location===g.location.pathname+g.location.search,await ps(g,J,{submission:N,replace:z}),{shortCircuited:!0}}if(Qs(J)){let z=po(U,K.route.id);return(ne&&ne.replace)!==!0&&(A=Ue.Push),{pendingActionData:{},pendingActionError:{[z.route.id]:J.error}}}if(gi(J))throw Jt(400,{type:"defer-action"});return{pendingActionData:{[K.route.id]:J.data}}}async function CS(T,S,N,U,ne,Y,J,K,z){let we=U||ql(S,ne),fe=ne||Y||Rv(we),Ut=a||s,[Qe,Nt]=gv(t.history,g,N,fe,S,H,B,He,R,he,Ut,l,K,z);if(Vd(Pe=>!(N&&N.some(Xt=>Xt.route.id===Pe))||Qe&&Qe.some(Xt=>Xt.route.id===Pe)),Qe.length===0&&Nt.length===0){let Pe=Yg();return un(S,Ie({matches:N,loaderData:{},errors:z||null},K?{actionData:K}:{},Pe?{fetchers:new Map(g.fetchers)}:{})),{shortCircuited:!0}}if(!b){Nt.forEach(Xt=>{let Qi=g.fetchers.get(Xt.key),tt=Ps(void 0,Qi?Qi.data:void 0);g.fetchers.set(Xt.key,tt)});let Pe=K||g.actionData;ge(Ie({navigation:we},Pe?Object.keys(Pe).length===0?{actionData:null}:{actionData:Pe}:{},Nt.length>0?{fetchers:new Map(g.fetchers)}:{}))}G=++Qt,Nt.forEach(Pe=>{ce.has(Pe.key)&&yr(Pe.key),Pe.controller&&ce.set(Pe.key,Pe.controller)});let Cn=()=>Nt.forEach(Pe=>yr(Pe.key));I&&I.signal.addEventListener("abort",Cn);let{results:ms,loaderResults:Fd,fetcherResults:Cl}=await Gg(g.matches,N,Qe,Nt,T);if(T.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Cn),Nt.forEach(Pe=>ce.delete(Pe.key));let Bn=Iv(ms);if(Bn)return await ps(g,Bn,{replace:J}),{shortCircuited:!0};let{loaderData:Al,errors:Ud}=wv(g,N,Qe,Fd,z,Nt,Cl,C);C.forEach((Pe,Xt)=>{Pe.subscribe(Qi=>{(Qi||Pe.done)&&C.delete(Xt)})});let jd=Yg(),$d=Xg(G),Pl=jd||$d||Nt.length>0;return Ie({loaderData:Al,errors:Ud},Pl?{fetchers:new Map(g.fetchers)}:{})}function Kg(T){return g.fetchers.get(T)||FA}function AS(T,S,N,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ce.has(T)&&yr(T);let ne=a||s,Y=Df(g.location,g.matches,l,u.v7_prependBasename,N,S,U==null?void 0:U.relative),J=fo(ne,Y,l);if(!J){Sl(T,S,Jt(404,{pathname:Y}));return}let{path:K,submission:z,error:we}=mv(u.v7_normalizeFormMethod,!0,Y,U);if(we){Sl(T,S,we);return}let fe=bf(J,K);if(k=(U&&U.preventScrollReset)===!0,z&&mn(z.formMethod)){PS(T,S,K,fe,J,z);return}R.set(T,{routeId:S,path:K}),xS(T,S,K,fe,J,z)}async function PS(T,S,N,U,ne,Y){if(Md(),R.delete(T),!U.route.action&&!U.route.lazy){let tt=Jt(405,{method:Y.formMethod,pathname:N,routeId:S});Sl(T,S,tt);return}let J=g.fetchers.get(T),K=XA(Y,J);g.fetchers.set(T,K),ge({fetchers:new Map(g.fetchers)});let z=new AbortController,we=As(t.history,N,z.signal,Y);ce.set(T,z);let fe=await Cs("action",we,U,ne,o,i,l);if(we.signal.aborted){ce.get(T)===z&&ce.delete(T);return}if(So(fe)){ce.delete(T),he.add(T);let tt=Ps(Y);return g.fetchers.set(T,tt),ge({fetchers:new Map(g.fetchers)}),ps(g,fe,{submission:Y,isFetchActionRedirect:!0})}if(Qs(fe)){Sl(T,S,fe.error);return}if(gi(fe))throw Jt(400,{type:"defer-action"});let Ut=g.navigation.location||g.location,Qe=As(t.history,Ut,z.signal),Nt=a||s,Cn=g.navigation.state!=="idle"?fo(Nt,g.navigation.location,l):g.matches;re(Cn,"Didn't find any matches after fetcher action");let ms=++Qt;q.set(T,ms);let Fd=Ps(Y,fe.data);g.fetchers.set(T,Fd);let[Cl,Bn]=gv(t.history,g,Cn,Y,Ut,H,B,He,R,he,Nt,l,{[U.route.id]:fe.data},void 0);Bn.filter(tt=>tt.key!==T).forEach(tt=>{let gs=tt.key,ny=g.fetchers.get(gs),bS=Ps(void 0,ny?ny.data:void 0);g.fetchers.set(gs,bS),ce.has(gs)&&yr(gs),tt.controller&&ce.set(gs,tt.controller)}),ge({fetchers:new Map(g.fetchers)});let Al=()=>Bn.forEach(tt=>yr(tt.key));z.signal.addEventListener("abort",Al);let{results:Ud,loaderResults:jd,fetcherResults:$d}=await Gg(g.matches,Cn,Cl,Bn,Qe);if(z.signal.aborted)return;z.signal.removeEventListener("abort",Al),q.delete(T),ce.delete(T),Bn.forEach(tt=>ce.delete(tt.key));let Pl=Iv(Ud);if(Pl)return ps(g,Pl);let{loaderData:Pe,errors:Xt}=wv(g,g.matches,Cl,jd,void 0,Bn,$d,C);if(g.fetchers.has(T)){let tt=vu(fe.data);g.fetchers.set(T,tt)}let Qi=Xg(ms);g.navigation.state==="loading"&&ms>G?(re(A,"Expected pending action"),I&&I.abort(),un(g.navigation.location,{matches:Cn,loaderData:Pe,errors:Xt,fetchers:new Map(g.fetchers)})):(ge(Ie({errors:Xt,loaderData:Ev(g.loaderData,Pe,Cn,Xt)},Qi||Bn.length>0?{fetchers:new Map(g.fetchers)}:{})),H=!1)}async function xS(T,S,N,U,ne,Y){let J=g.fetchers.get(T),K=Ps(Y,J?J.data:void 0);g.fetchers.set(T,K),ge({fetchers:new Map(g.fetchers)});let z=new AbortController,we=As(t.history,N,z.signal);ce.set(T,z);let fe=await Cs("loader",we,U,ne,o,i,l);if(gi(fe)&&(fe=await kE(fe,we.signal,!0)||fe),ce.get(T)===z&&ce.delete(T),we.signal.aborted)return;if(So(fe)){he.add(T),await ps(g,fe);return}if(Qs(fe)){let Qe=po(g.matches,S);g.fetchers.delete(T),ge({fetchers:new Map(g.fetchers),errors:{[Qe.route.id]:fe.error}});return}re(!gi(fe),"Unhandled fetcher deferred data");let Ut=vu(fe.data);g.fetchers.set(T,Ut),ge({fetchers:new Map(g.fetchers)})}async function ps(T,S,N){let{submission:U,replace:ne,isFetchActionRedirect:Y}=N===void 0?{}:N;S.revalidate&&(H=!0);let J=Ea(T.location,S.location,Ie({_isRedirect:!0},Y?{_isFetchActionRedirect:!0}:{}));if(re(J,"Expected a location on the redirect navigation"),AE.test(S.location)&&n){let we=t.history.createURL(S.location),fe=Qr(we.pathname,l)==null;if(e.location.origin!==we.origin||fe){ne?e.location.replace(S.location):e.location.assign(S.location);return}}I=null;let K=ne===!0?Ue.Replace:Ue.Push,z=U||Rv(T.navigation);if(VA.has(S.status)&&z&&mn(z.formMethod))await gr(K,J,{submission:Ie({},z,{formAction:S.location}),preventScrollReset:k});else if(Y)await gr(K,J,{overrideNavigation:ql(J),fetcherSubmission:z,preventScrollReset:k});else{let we=ql(J,z);await gr(K,J,{overrideNavigation:we,preventScrollReset:k})}}async function Gg(T,S,N,U,ne){let Y=await Promise.all([...N.map(z=>Cs("loader",ne,z,S,o,i,l)),...U.map(z=>z.matches&&z.match&&z.controller?Cs("loader",As(t.history,z.path,z.controller.signal),z.match,z.matches,o,i,l):{type:We.error,error:Jt(404,{pathname:z.path})})]),J=Y.slice(0,N.length),K=Y.slice(N.length);return await Promise.all([Sv(T,N,J,J.map(()=>ne.signal),!1,g.loaderData),Sv(T,U.map(z=>z.match),K,U.map(z=>z.controller?z.controller.signal:null),!0)]),{results:Y,loaderResults:J,fetcherResults:K}}function Md(){H=!0,B.push(...Vd()),R.forEach((T,S)=>{ce.has(S)&&(He.push(S),yr(S))})}function Sl(T,S,N){let U=po(g.matches,S);Ld(T),ge({errors:{[U.route.id]:N},fetchers:new Map(g.fetchers)})}function Ld(T){let S=g.fetchers.get(T);ce.has(T)&&!(S&&S.state==="loading"&&q.has(T))&&yr(T),R.delete(T),q.delete(T),he.delete(T),g.fetchers.delete(T)}function yr(T){let S=ce.get(T);re(S,"Expected fetch controller: "+T),S.abort(),ce.delete(T)}function Qg(T){for(let S of T){let N=Kg(S),U=vu(N.data);g.fetchers.set(S,U)}}function Yg(){let T=[],S=!1;for(let N of he){let U=g.fetchers.get(N);re(U,"Expected fetcher: "+N),U.state==="loading"&&(he.delete(N),T.push(N),S=!0)}return Qg(T),S}function Xg(T){let S=[];for(let[N,U]of q)if(U<T){let ne=g.fetchers.get(N);re(ne,"Expected fetcher: "+N),ne.state==="loading"&&(yr(N),q.delete(N),S.push(N))}return Qg(S),S.length>0}function kS(T,S){let N=g.blockers.get(T)||Rs;return V.get(T)!==S&&V.set(T,S),N}function Jg(T){g.blockers.delete(T),V.delete(T)}function Rl(T,S){let N=g.blockers.get(T)||Rs;re(N.state==="unblocked"&&S.state==="blocked"||N.state==="blocked"&&S.state==="blocked"||N.state==="blocked"&&S.state==="proceeding"||N.state==="blocked"&&S.state==="unblocked"||N.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+N.state+" -> "+S.state);let U=new Map(g.blockers);U.set(T,S),ge({blockers:U})}function Zg(T){let{currentLocation:S,nextLocation:N,historyAction:U}=T;if(V.size===0)return;V.size>1&&Di(!1,"A router only supports one blocker at a time");let ne=Array.from(V.entries()),[Y,J]=ne[ne.length-1],K=g.blockers.get(Y);if(!(K&&K.state==="proceeding")&&J({currentLocation:S,nextLocation:N,historyAction:U}))return Y}function Vd(T){let S=[];return C.forEach((N,U)=>{(!T||T(U))&&(N.cancel(),S.push(U),C.delete(U))}),S}function NS(T,S,N){if(h=T,v=S,m=N||null,!w&&g.navigation===mh){w=!0;let U=ty(g.location,g.matches);U!=null&&ge({restoreScrollPosition:U})}return()=>{h=null,v=null,m=null}}function ey(T,S){return m&&m(T,S.map(U=>QA(U,g.loaderData)))||T.key}function DS(T,S){if(h&&v){let N=ey(T,S);h[N]=v()}}function ty(T,S){if(h){let N=ey(T,S),U=h[N];if(typeof U=="number")return U}return null}function OS(T){o={},a=Nf(T,i,void 0,o)}return _={get basename(){return l},get state(){return g},get routes(){return s},initialize:ie,subscribe:kt,enableScrollRestoration:NS,navigate:Yt,fetch:AS,revalidate:mr,createHref:T=>t.history.createHref(T),encodeLocation:T=>t.history.encodeLocation(T),getFetcher:Kg,deleteFetcher:Ld,dispose:_e,getBlocker:kS,deleteBlocker:Jg,_internalFetchControllers:ce,_internalActiveDeferreds:C,_internalSetRoutes:OS},_}function $A(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Df(t,e,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===o){l=c;break}}else a=e,l=e[e.length-1];let u=vm(i||".",Bc(a).map(c=>c.pathnameBase),Qr(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!wm(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Mn([n,u.pathname])),Gr(u)}function mv(t,e,n,r){if(!r||!$A(r))return{path:n};if(r.formMethod&&!GA(r.formMethod))return{path:n,error:Jt(405,{method:r.formMethod})};let i=()=>({path:n,error:Jt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=xE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!mn(s))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,v)=>{let[w,E]=v;return""+m+w+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!mn(s))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}re(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Of(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Of(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=_v(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=_v(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(mn(c.formMethod))return{path:n,submission:c};let d=$n(n);return e&&d.search&&wm(d.search)&&l.append("index",""),d.search="?"+l,{path:Gr(d),submission:c}}function zA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function gv(t,e,n,r,i,o,s,a,l,u,c,d,h,m){let v=m?Object.values(m)[0]:h?Object.values(h)[0]:void 0,w=t.createURL(e.location),E=t.createURL(i),f=m?Object.keys(m)[0]:void 0,_=zA(n,f).filter((A,k)=>{if(A.route.lazy)return!0;if(A.route.loader==null)return!1;if(BA(e.loaderData,e.matches[k],A)||s.some(H=>H===A.route.id))return!0;let I=e.matches[k],b=A;return yv(A,Ie({currentUrl:w,currentParams:I.params,nextUrl:E,nextParams:b.params},r,{actionResult:v,defaultShouldRevalidate:o||w.pathname+w.search===E.pathname+E.search||w.search!==E.search||PE(I,b)}))}),g=[];return l.forEach((A,k)=>{if(!n.some(ce=>ce.route.id===A.routeId))return;let I=fo(c,A.path,d);if(!I){g.push({key:k,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(k),H=b&&b.state!=="idle"&&b.data===void 0&&!u.has(k),B=bf(I,A.path);(a.includes(k)||H||yv(B,Ie({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:o})))&&g.push({key:k,routeId:A.routeId,path:A.path,matches:I,match:B,controller:new AbortController})}),[_,g]}function BA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function PE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function yv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function vv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];re(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Di(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!dA.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ie({},e(i),{lazy:void 0}))}async function Cs(t,e,n,r,i,o,s,a){a===void 0&&(a={});let l,u,c,d=v=>{let w,E=new Promise((f,p)=>w=p);return c=()=>w(),e.signal.addEventListener("abort",c),Promise.race([v({request:e,params:n.params,context:a.requestContext}),E])};try{let v=n.route[t];if(n.route.lazy)if(v)u=(await Promise.all([d(v),vv(n.route,o,i)]))[0];else if(await vv(n.route,o,i),v=n.route[t],v)u=await d(v);else if(t==="action"){let w=new URL(e.url),E=w.pathname+w.search;throw Jt(405,{method:e.method,pathname:E,routeId:n.route.id})}else return{type:We.data,data:void 0};else if(v)u=await d(v);else{let w=new URL(e.url),E=w.pathname+w.search;throw Jt(404,{pathname:E})}re(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){l=We.error,u=v}finally{c&&e.signal.removeEventListener("abort",c)}if(KA(u)){let v=u.status;if(LA.has(v)){let f=u.headers.get("Location");if(re(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!AE.test(f))f=Df(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,f);else if(!a.isStaticRequest){let p=new URL(e.url),_=f.startsWith("//")?new URL(p.protocol+f):new URL(f),g=Qr(_.pathname,s)!=null;_.origin===p.origin&&g&&(f=_.pathname+_.search+_.hash)}if(a.isStaticRequest)throw u.headers.set("Location",f),u;return{type:We.redirect,status:v,location:f,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||We.data,response:u};let w,E=u.headers.get("Content-Type");return E&&/\bapplication\/json\b/.test(E)?w=await u.json():w=await u.text(),l===We.error?{type:l,error:new _m(v,u.statusText,w),headers:u.headers}:{type:We.data,data:w,statusCode:u.status,headers:u.headers}}if(l===We.error)return{type:l,error:u};if(qA(u)){var h,m;return{type:We.deferred,deferredData:u,statusCode:(h=u.init)==null?void 0:h.status,headers:((m=u.init)==null?void 0:m.headers)&&new Headers(u.init.headers)}}return{type:We.data,data:u}}function As(t,e,n,r){let i=t.createURL(xE(e)).toString(),o={signal:n};if(r&&mn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Of(r.formData):o.body=r.formData}return new Request(i,o)}function Of(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function _v(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function HA(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(re(!So(c),"Cannot handle redirect results in processLoaderData"),Qs(c)){let m=po(t,h),v=c.error;r&&(v=Object.values(r)[0],r=void 0),s=s||{},s[m.route.id]==null&&(s[m.route.id]=v),o[h]=void 0,l||(l=!0,a=RE(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else gi(c)?(i.set(h,c.deferredData),o[h]=c.deferredData.data):o[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function wv(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=HA(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:h,controller:m}=o[c];re(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let v=s[c];if(!(m&&m.signal.aborted))if(Qs(v)){let w=po(t.matches,h==null?void 0:h.route.id);u&&u[w.route.id]||(u=Ie({},u,{[w.route.id]:v.error})),t.fetchers.delete(d)}else if(So(v))re(!1,"Unhandled fetcher revalidation redirect");else if(gi(v))re(!1,"Unhandled fetcher deferred data");else{let w=vu(v.data);t.fetchers.set(d,w)}}return{loaderData:l,errors:u}}function Ev(t,e,n,r){let i=Ie({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function po(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Tv(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Jt(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new _m(t||500,s,new Error(a),!0)}function Iv(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(So(n))return n}}function xE(t){let e=typeof t=="string"?$n(t):t;return Gr(Ie({},e,{hash:""}))}function WA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function gi(t){return t.type===We.deferred}function Qs(t){return t.type===We.error}function So(t){return(t&&t.type)===We.redirect}function qA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function KA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function GA(t){return MA.has(t.toLowerCase())}function mn(t){return OA.has(t.toLowerCase())}async function Sv(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!PE(u,l)&&(o&&o[l.route.id])!==void 0;if(gi(a)&&(i||c)){let d=r[s];re(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await kE(a,d,i).then(h=>{h&&(n[s]=h||n[s])})}}}async function kE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:We.data,data:t.deferredData.unwrappedData}}catch(i){return{type:We.error,error:i}}return{type:We.data,data:t.deferredData.data}}}function wm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function QA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function bf(t,e){let n=typeof e=="string"?$n(e).search:e.search;if(t[t.length-1].route.index&&wm(n||""))return t[t.length-1];let r=Bc(t);return r[r.length-1]}function Rv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function ql(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ps(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function XA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function vu(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const qa=x.createContext(null),Em=x.createContext(null),fr=x.createContext(null),Hc=x.createContext(null),zn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),NE=x.createContext(null);function JA(t,e){let{relative:n}=e===void 0?{}:e;Ka()||re(!1);let{basename:r,navigator:i}=x.useContext(fr),{hash:o,pathname:s,search:a}=Wc(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Mn([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ka(){return x.useContext(Hc)!=null}function Bi(){return Ka()||re(!1),x.useContext(Hc).location}function DE(t){x.useContext(fr).static||x.useLayoutEffect(t)}function ns(){let{isDataRoute:t}=x.useContext(zn);return t?uP():ZA()}function ZA(){Ka()||re(!1);let t=x.useContext(qa),{basename:e,navigator:n}=x.useContext(fr),{matches:r}=x.useContext(zn),{pathname:i}=Bi(),o=JSON.stringify(Bc(r).map(l=>l.pathnameBase)),s=x.useRef(!1);return DE(()=>{s.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=vm(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Mn([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}const OE=x.createContext(null);function ii(){return x.useContext(OE)}function eP(t){let e=x.useContext(zn).outlet;return e&&x.createElement(OE.Provider,{value:t},e)}function Wc(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(zn),{pathname:i}=Bi(),o=JSON.stringify(Bc(r).map(s=>s.pathnameBase));return x.useMemo(()=>vm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function tP(t,e,n){Ka()||re(!1);let{navigator:r}=x.useContext(fr),{matches:i}=x.useContext(zn),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Bi(),u;if(e){var c;let w=typeof e=="string"?$n(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||re(!1),u=w}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",m=fo(t,{pathname:h}),v=sP(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Mn([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Mn([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&v?x.createElement(Hc.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ue.Pop}},v):v}function nP(){let t=FE(),e=RE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,o)}const rP=x.createElement(nP,null);class iP extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(zn.Provider,{value:this.props.routeContext},x.createElement(NE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oP(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(qa);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(zn.Provider,{value:e},r)}function sP(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||re(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||rP);let h=e.concat(o.slice(0,u+1)),m=()=>{let v;return c?v=d:l.route.Component?v=x.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,x.createElement(oP,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?x.createElement(iP,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var Zu;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Zu||(Zu={}));var En;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(En||(En={}));function bE(t){let e=x.useContext(qa);return e||re(!1),e}function Ga(t){let e=x.useContext(Em);return e||re(!1),e}function aP(t){let e=x.useContext(zn);return e||re(!1),e}function qc(t){let e=aP(),n=e.matches[e.matches.length-1];return n.route.id||re(!1),n.route.id}function lP(){return qc(En.UseRouteId)}function Qa(){return Ga(En.UseNavigation).navigation}function ME(){let t=bE(Zu.UseRevalidator),e=Ga(En.UseRevalidator);return{revalidate:t.router.revalidate,state:e.revalidation}}function LE(){let t=Ga(En.UseLoaderData),e=qc(En.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function VE(){let t=Ga(En.UseActionData);return x.useContext(zn)||re(!1),Object.values((t==null?void 0:t.actionData)||{})[0]}function FE(){var t;let e=x.useContext(NE),n=Ga(En.UseRouteError),r=qc(En.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function uP(){let{router:t}=bE(Zu.UseNavigateStable),e=qc(En.UseNavigateStable),n=x.useRef(!1);return DE(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ju({fromRouteId:e},o)))},[t,e])}const cP="startTransition",Cv=JS[cP];function dP(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=x.useState(n.state),{v7_startTransition:s}=r||{},a=x.useCallback(d=>{s&&Cv?Cv(()=>o(d)):o(d)},[o,s]);x.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,h,m)=>n.navigate(d,{state:h,preventScrollReset:m==null?void 0:m.preventScrollReset}),replace:(d,h,m)=>n.navigate(d,{replace:!0,state:h,preventScrollReset:m==null?void 0:m.preventScrollReset})}),[n]),u=n.basename||"/",c=x.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return x.createElement(x.Fragment,null,x.createElement(qa.Provider,{value:c},x.createElement(Em.Provider,{value:i},x.createElement(fP,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?x.createElement(hP,{routes:n.routes,state:i}):e))),null)}function hP(t){let{routes:e,state:n}=t;return tP(e,void 0,n)}function UE(t){return eP(t.context)}function jt(t){re(!1)}function fP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ue.Pop,navigator:o,static:s=!1}=t;Ka()&&re(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=$n(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:m="default"}=r,v=x.useMemo(()=>{let w=Qr(u,a);return w==null?null:{location:{pathname:w,search:c,hash:d,state:h,key:m},navigationType:i}},[a,u,c,d,h,m,i]);return v==null?null:x.createElement(fr.Provider,{value:l},x.createElement(Hc.Provider,{children:n,value:v}))}var Av;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Av||(Av={}));new Promise(()=>{});function Mf(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Mf(r.props.children,o));return}r.type!==jt&&re(!1),!r.props.index||!r.props.children||re(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Mf(r.props.children,o)),n.push(s)}),n}function pP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:x.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:x.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function or(){return or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},or.apply(this,arguments)}function Tm(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const _u="get",gh="application/x-www-form-urlencoded";function Kc(t){return t!=null&&typeof t.tagName=="string"}function mP(t){return Kc(t)&&t.tagName.toLowerCase()==="button"}function gP(t){return Kc(t)&&t.tagName.toLowerCase()==="form"}function yP(t){return Kc(t)&&t.tagName.toLowerCase()==="input"}function vP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _P(t,e){return t.button===0&&(!e||e==="_self")&&!vP(t)}function Lf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function wP(t,e){let n=Lf(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}let Kl=null;function EP(){if(Kl===null)try{new FormData(document.createElement("form"),0),Kl=!1}catch{Kl=!0}return Kl}const TP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yh(t){return t!=null&&!TP.has(t)?null:t}function IP(t,e){let n,r,i,o,s;if(gP(t)){let a=t.getAttribute("action");r=a?Qr(a,e):null,n=t.getAttribute("method")||_u,i=yh(t.getAttribute("enctype"))||gh,o=new FormData(t)}else if(mP(t)||yP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Qr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||_u,i=yh(t.getAttribute("formenctype"))||yh(a.getAttribute("enctype"))||gh,o=new FormData(a,t),!EP()){let{name:u,type:c,value:d}=t;if(c==="image"){let h=u?u+".":"";o.append(h+"x","0"),o.append(h+"y","0")}else u&&o.append(u,d)}}else{if(Kc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_u,r=null,i=gh,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}const SP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],RP=["aria-current","caseSensitive","className","end","style","to","children"],CP=["reloadDocument","replace","method","action","onSubmit","submit","relative","preventScrollReset"];function AP(t,e){return jA({basename:e==null?void 0:e.basename,future:or({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:lA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||PP(),routes:t,mapRouteProperties:pP}).initialize()}function PP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=or({},e,{errors:xP(e.errors)})),e}function xP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new _m(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}const kP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vf=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,d=Tm(e,SP),{basename:h}=x.useContext(fr),m,v=!1;if(typeof u=="string"&&NP.test(u)&&(m=u,kP))try{let p=new URL(window.location.href),_=u.startsWith("//")?new URL(p.protocol+u):new URL(u),g=Qr(_.pathname,h);_.origin===p.origin&&g!=null?u=g+_.search+_.hash:v=!0}catch{}let w=JA(u,{relative:i}),E=bP(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function f(p){r&&r(p),p.defaultPrevented||E(p)}return x.createElement("a",or({},d,{href:m||w,onClick:v||o?r:f,ref:n,target:l}))}),yi=x.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,children:u}=e,c=Tm(e,RP),d=Wc(l,{relative:c.relative}),h=Bi(),m=x.useContext(Em),{navigator:v}=x.useContext(fr),w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,E=h.pathname,f=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(E=E.toLowerCase(),f=f?f.toLowerCase():null,w=w.toLowerCase());let p=E===w||!s&&E.startsWith(w)&&E.charAt(w.length)==="/",_=f!=null&&(f===w||!s&&f.startsWith(w)&&f.charAt(w.length)==="/"),g=p?r:void 0,A;typeof o=="function"?A=o({isActive:p,isPending:_}):A=[o,p?"active":null,_?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:p,isPending:_}):a;return x.createElement(Vf,or({},c,{"aria-current":g,className:A,ref:n,style:k,to:l}),typeof u=="function"?u({isActive:p,isPending:_}):u)}),jE=x.forwardRef((t,e)=>{let n=LP();return x.createElement(DP,or({},t,{submit:n,ref:e}))}),DP=x.forwardRef((t,e)=>{let{reloadDocument:n,replace:r,method:i=_u,action:o,onSubmit:s,submit:a,relative:l,preventScrollReset:u}=t,c=Tm(t,CP),d=i.toLowerCase()==="get"?"get":"post",h=VP(o,{relative:l}),m=v=>{if(s&&s(v),v.defaultPrevented)return;v.preventDefault();let w=v.nativeEvent.submitter,E=(w==null?void 0:w.getAttribute("formmethod"))||i;a(w||v.currentTarget,{method:E,replace:r,relative:l,preventScrollReset:u})};return x.createElement("form",or({ref:e,method:d,action:h,onSubmit:n?s:m},c))});var Ff;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Ff||(Ff={}));var Pv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pv||(Pv={}));function OP(t){let e=x.useContext(qa);return e||re(!1),e}function bP(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=ns(),l=Bi(),u=Wc(t,{relative:s});return x.useCallback(c=>{if(_P(c,n)){c.preventDefault();let d=r!==void 0?r:Gr(l)===Gr(u);a(t,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}function Im(t){let e=x.useRef(Lf(t)),n=x.useRef(!1),r=Bi(),i=x.useMemo(()=>wP(r.search,n.current?null:e.current),[r.search]),o=ns(),s=x.useCallback((a,l)=>{const u=Lf(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}function MP(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}function LP(){let{router:t}=OP(Ff.UseSubmit),{basename:e}=x.useContext(fr),n=lP();return x.useCallback(function(r,i){i===void 0&&(i={}),MP();let{action:o,method:s,encType:a,formData:l,body:u}=IP(r,e);t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,fromRouteId:n})},[t,e,n])}function VP(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=x.useContext(fr),i=x.useContext(zn);i||re(!1);let[o]=i.matches.slice(-1),s=or({},Wc(t||".",{relative:n})),a=Bi();if(t==null&&(s.search=a.search,s.hash=a.hash,o.route.index)){let l=new URLSearchParams(s.search);l.delete("index"),s.search=l.toString()?"?"+l.toString():""}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Mn([r,s.pathname])),Gr(s)}function FP(){return y.jsx("h1",{children:"Not found goes here"})}function _r(){const t=FE();return y.jsxs(y.Fragment,{children:[y.jsxs("h1",{children:["Error: ",t.message]}),y.jsxs("pre",{children:[t.status," - ",t.statusText]})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(h=64)),r.push(n[c],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new jP;const h=o<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $P=function(t){const e=$E(t);return zE.encodeByteArray(e,!0)},ec=function(t){return $P(t).replace(/\./g,"")},BE=function(t){try{return zE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=()=>zP().__FIREBASE_DEFAULTS__,HP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BE(t[1]);return e&&JSON.parse(e)},Sm=()=>{try{return BP()||HP()||WP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HE=t=>{var e,n;return(n=(e=Sm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qP=t=>{const e=HE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WE=()=>{var t;return(t=Sm())===null||t===void 0?void 0:t.config},qE=t=>{var e;return(e=Sm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ec(JSON.stringify(n)),ec(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function YP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JP(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZP(){try{return typeof indexedDB=="object"}catch{return!1}}function ex(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="FirebaseError";class pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tx,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?nx(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new pr(i,a,r)}}function nx(t,e){return t.replace(rx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rx=/\{\$([^}]+)}/g;function ix(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(xv(o)&&xv(s)){if(!tc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ox(t,e){const n=new sx(t,e);return n.subscribe.bind(n)}class sx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ax(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vh),i.error===void 0&&(i.error=vh),i.complete===void 0&&(i.complete=vh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ax(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cx(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ux(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ux(t){return t===di?void 0:t}function cx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const hx={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},fx=pe.INFO,px={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},mx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=px[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=fx,this._logHandler=mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const gx=(t,e)=>e.some(n=>t instanceof n);let kv,Nv;function yx(){return kv||(kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vx(){return Nv||(Nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,Uf=new WeakMap,GE=new WeakMap,_h=new WeakMap,Cm=new WeakMap;function _x(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($r(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,t)}).catch(()=>{}),Cm.set(e,t),e}function wx(t){if(Uf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Uf.set(t,e)}let jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ex(t){jf=t(jf)}function Tx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wh(this),e,...n);return GE.set(r,e.sort?e.sort():[e]),$r(r)}:vx().includes(t)?function(...e){return t.apply(wh(this),e),$r(KE.get(this))}:function(...e){return $r(t.apply(wh(this),e))}}function Ix(t){return typeof t=="function"?Tx(t):(t instanceof IDBTransaction&&wx(t),gx(t,yx())?new Proxy(t,jf):t)}function $r(t){if(t instanceof IDBRequest)return _x(t);if(_h.has(t))return _h.get(t);const e=Ix(t);return e!==t&&(_h.set(t,e),Cm.set(e,t)),e}const wh=t=>Cm.get(t);function Sx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=$r(s);return r&&s.addEventListener("upgradeneeded",l=>{r($r(s.result),l.oldVersion,l.newVersion,$r(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Rx=["get","getKey","getAll","getAllKeys","count"],Cx=["put","add","delete","clear"],Eh=new Map;function Dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eh.get(e))return Eh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Cx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rx.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Eh.set(e,o),o}Ex(t=>({...t,get:(e,n,r)=>Dv(e,n)||t.get(e,n,r),has:(e,n)=>!!Dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Px(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Px(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $f="@firebase/app",Ov="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Rm("@firebase/app"),xx="@firebase/app-compat",kx="@firebase/analytics-compat",Nx="@firebase/analytics",Dx="@firebase/app-check-compat",Ox="@firebase/app-check",bx="@firebase/auth",Mx="@firebase/auth-compat",Lx="@firebase/database",Vx="@firebase/database-compat",Fx="@firebase/functions",Ux="@firebase/functions-compat",jx="@firebase/installations",$x="@firebase/installations-compat",zx="@firebase/messaging",Bx="@firebase/messaging-compat",Hx="@firebase/performance",Wx="@firebase/performance-compat",qx="@firebase/remote-config",Kx="@firebase/remote-config-compat",Gx="@firebase/storage",Qx="@firebase/storage-compat",Yx="@firebase/firestore",Xx="@firebase/firestore-compat",Jx="firebase",Zx="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",ek={[$f]:"fire-core",[xx]:"fire-core-compat",[Nx]:"fire-analytics",[kx]:"fire-analytics-compat",[Ox]:"fire-app-check",[Dx]:"fire-app-check-compat",[bx]:"fire-auth",[Mx]:"fire-auth-compat",[Lx]:"fire-rtdb",[Vx]:"fire-rtdb-compat",[Fx]:"fire-fn",[Ux]:"fire-fn-compat",[jx]:"fire-iid",[$x]:"fire-iid-compat",[zx]:"fire-fcm",[Bx]:"fire-fcm-compat",[Hx]:"fire-perf",[Wx]:"fire-perf-compat",[qx]:"fire-rc",[Kx]:"fire-rc-compat",[Gx]:"fire-gcs",[Qx]:"fire-gcs-compat",[Yx]:"fire-fst",[Xx]:"fire-fst-compat","fire-js":"fire-js",[Jx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,Bf=new Map;function tk(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uo(t){const e=t.name;if(Bf.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,t);for(const n of nc.values())tk(n,t);return!0}function Am(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zr=new Ya("app","Firebase",nk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=Zx;function QE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=WE()),!n)throw zr.create("no-options");const o=nc.get(i);if(o){if(tc(n,o.options)&&tc(r,o.config))return o;throw zr.create("duplicate-app",{appName:i})}const s=new dx(i);for(const l of Bf.values())s.addComponent(l);const a=new rk(n,r,s);return nc.set(i,a),a}function YE(t=zf){const e=nc.get(t);if(!e&&t===zf&&WE())return QE();if(!e)throw zr.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=ek[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}Uo(new Oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebase-heartbeat-database",ok=1,Ta="firebase-heartbeat-store";let Th=null;function XE(){return Th||(Th=Sx(ik,ok,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ta)}}}).catch(t=>{throw zr.create("idb-open",{originalErrorMessage:t.message})})),Th}async function sk(t){try{return await(await XE()).transaction(Ta).objectStore(Ta).get(JE(t))}catch(e){if(e instanceof pr)bi.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function bv(t,e){try{const r=(await XE()).transaction(Ta,"readwrite");await r.objectStore(Ta).put(e,JE(t)),await r.done}catch(n){if(n instanceof pr)bi.warn(n.message);else{const r=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function JE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=1024,lk=30*24*60*60*1e3;class uk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=lk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Mv(),{heartbeatsToSend:n,unsentEntries:r}=ck(this._heartbeatsCache.heartbeats),i=ec(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Mv(){return new Date().toISOString().substring(0,10)}function ck(t,e=ak){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Lv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZP()?ex().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await sk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Lv(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){Uo(new Oi("platform-logger",e=>new Ax(e),"PRIVATE")),Uo(new Oi("heartbeat",e=>new uk(e),"PRIVATE")),Br($f,Ov,t),Br($f,Ov,"esm2017"),Br("fire-js","")}hk("");function Pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fk=ZE,e1=new Ya("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Rm("@firebase/auth");function pk(t,...e){rc.logLevel<=pe.WARN&&rc.warn(`Auth (${rs}): ${t}`,...e)}function wu(t,...e){rc.logLevel<=pe.ERROR&&rc.error(`Auth (${rs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw xm(t,...e)}function Ln(t,...e){return xm(t,...e)}function t1(t,e,n){const r=Object.assign(Object.assign({},fk()),{[e]:n});return new Ya("auth","Firebase",r).create(e,{appName:t.name})}function mk(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Un(t,"argument-error"),t1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return e1.create(t,...e)}function te(t,e,...n){if(!t)throw xm(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wu(e),new Error(e)}function sr(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gk(){return Vv()==="http:"||Vv()==="https:"}function Vv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gk()||YP()||"connection"in navigator)?navigator.onLine:!0}function vk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=QP()||XP()}get(){return yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new Ja(3e4,6e4);function r1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Za(t,e,n,r,i={}){return i1(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Xa(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),n1.fetch()(o1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function i1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_k),e);try{const i=new Tk(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Gl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Gl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Gl(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw t1(t,c,u);Un(t,c)}}catch(i){if(i instanceof pr)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function Ek(t,e,n,r,i={}){const o=await Za(t,e,n,r,i);return"mfaPendingCredential"in o&&Un(t,"multi-factor-auth-required",{_serverResponse:o}),o}function o1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?km(t.config,i):`${t.config.apiScheme}://${i}`}class Tk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),wk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ln(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function Sk(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rk(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=Gc(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ys(Ih(i.auth_time)),issuedAtTime:Ys(Ih(i.iat)),expirationTime:Ys(Ih(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ih(t){return Number(t)*1e3}function Gc(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wu("JWT malformed, contained fewer than 3 sections"),null;try{const i=BE(n);return i?JSON.parse(i):(wu("Failed to decode base64 JWT payload"),null)}catch(i){return wu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ck(t){const e=Gc(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pr&&Ak(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ak({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ys(this.lastLoginAt),this.creationTime=Ys(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ia(t,Sk(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Nk(o.providerUserInfo):[],a=kk(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new s1(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function xk(t){const e=lt(t);await ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Nk(t){return t.map(e=>{var{providerId:n}=e,r=Pm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,e){const n=await i1(t,{},async()=>{const r=Xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=o1(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",n1.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ck(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return te(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Dk(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Sa;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new s1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ia(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Rk(this,e)}reload(){return xk(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ia(this,Ik(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,f=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:g,isAnonymous:A,providerData:k,stsTokenManager:I}=n;te(_&&I,e,"internal-error");const b=Sa.fromJSON(this.name,I);te(typeof _=="string",e,"internal-error"),wr(d,e.name),wr(h,e.name),te(typeof g=="boolean",e,"internal-error"),te(typeof A=="boolean",e,"internal-error"),wr(m,e.name),wr(v,e.name),wr(w,e.name),wr(E,e.name),wr(f,e.name),wr(p,e.name);const H=new Si({uid:_,auth:e,email:h,emailVerified:g,displayName:d,isAnonymous:A,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:b,createdAt:f,lastLoginAt:p});return k&&Array.isArray(k)&&(H.providerData=k.map(B=>Object.assign({},B))),E&&(H._redirectEventId=E),H}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sa;i.updateFromServerResponse(n);const o=new Si({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ic(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;function Yn(t){sr(t instanceof Function,"Expected a class definition");let e=Fv.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a1.type="NONE";const Uv=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Eu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Eu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ro(Yn(Uv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Yn(Uv);const s=Eu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Si._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ro(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ro(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h1(e))return"Blackberry";if(f1(e))return"Webos";if(Nm(e))return"Safari";if((e.includes("chrome/")||u1(e))&&!e.includes("edge/"))return"Chrome";if(d1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function l1(t=Tt()){return/firefox\//i.test(t)}function Nm(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u1(t=Tt()){return/crios\//i.test(t)}function c1(t=Tt()){return/iemobile/i.test(t)}function d1(t=Tt()){return/android/i.test(t)}function h1(t=Tt()){return/blackberry/i.test(t)}function f1(t=Tt()){return/webos/i.test(t)}function Qc(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ok(t=Tt()){var e;return Qc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bk(){return JP()&&document.documentMode===10}function p1(t=Tt()){return Qc(t)||d1(t)||f1(t)||h1(t)||/windows phone/i.test(t)||c1(t)}function Mk(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e=[]){let n;switch(t){case"Browser":n=jv(Tt());break;case"Worker":n=`${jv(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rs}/${r}`}async function g1(t,e){return Za(t,"GET","/v2/recaptchaConfig",r1(t,e))}function $v(t){return t!==void 0&&t.enterprise!==void 0}class y1{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function v1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ln("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Lk().appendChild(r)})}function Vk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Fk="https://www.google.com/recaptcha/enterprise.js?render=",Uk="recaptcha-enterprise",jk="NO_RECAPTCHA";class $k{constructor(e){this.type=Uk,this.auth=el(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{g1(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new y1(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;$v(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(jk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&$v(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}v1(Fk+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new zk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?lt(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}async initializeRecaptchaConfig(){const e=await g1(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new y1(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new $k(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return te(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function el(t){return lt(t)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ox(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){const n=Am(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(tc(o,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function Wk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qk(t,e,n){const r=el(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=_1(e),{host:s,port:a}=Kk(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Gk()}function _1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kk(t){const e=_1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Bv(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Bv(s)}}}function Bv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Gk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e){return Ek(t,"POST","/v1/accounts:signInWithIdp",r1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="http://localhost";class Mi extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Pm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Mi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:Qk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends Dm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends tl{constructor(){super("facebook.com")}static credential(e){return Mi._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mi._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qn.credential(n,r)}catch{return null}}}qn.GOOGLE_SIGN_IN_METHOD="google.com";qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends tl{constructor(){super("github.com")}static credential(e){return Mi._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends tl{constructor(){super("twitter.com")}static credential(e,n){return Mi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Si._fromIdTokenResponse(e,r,i),s=Hv(r);return new jo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Hv(r);return new jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Hv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends pr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oc(e,n,r,i)}}function E1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(t,o,e,r):o})}async function Yk(t,e,n=!1){const r=await Ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ia(t,E1(r,i,e,t),n);te(o.idToken,r,"internal-error");const s=Gc(o.idToken);te(s,r,"internal-error");const{sub:a}=s;return te(t.uid===a,r,"user-mismatch"),jo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(t,e,n=!1){const r="signIn",i=await E1(t,r,e),o=await jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const s=(n=(e=Gc(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new Ao(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new e2(o,i);case"github.com":return new t2(o,i);case"google.com":return new n2(o,i);case"twitter.com":return new r2(o,i,t.screenName||null);case"custom":case"anonymous":return new Ao(o,null);default:return new Ao(o,r,i)}}class Ao{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class T1 extends Ao{constructor(e,n,r,i){super(e,n,r),this.username=i}}class e2 extends Ao{constructor(e,n){super(e,"facebook.com",n)}}class t2 extends T1{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class n2 extends Ao{constructor(e,n){super(e,"google.com",n)}}class r2 extends T1{constructor(e,n,r){super(e,"twitter.com",n,r)}}function i2(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Zk(n)}function o2(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function s2(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function I1(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}const sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sc,"1"),this.storage.removeItem(sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){const t=Tt();return Nm(t)||Qc(t)}const l2=1e3,u2=10;class R1 extends S1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=a2()&&Mk(),this.fallbackToPolling=p1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);bk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,u2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R1.type="LOCAL";const c2=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends S1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C1.type="SESSION";const A1=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await d2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Om("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function f2(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function p2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function g2(){return P1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",y2=1,ac="firebaseLocalStorage",k1="fbase_key";class nl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(t,e){return t.transaction([ac],e?"readwrite":"readonly").objectStore(ac)}function v2(){const t=indexedDB.deleteDatabase(x1);return new nl(t).toPromise()}function Wf(){const t=indexedDB.open(x1,y2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ac,{keyPath:k1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ac)?e(r):(r.close(),await v2(),e(await Wf()))})})}async function Wv(t,e,n){const r=Xc(t,!0).put({[k1]:e,value:n});return new nl(r).toPromise()}async function _2(t,e){const n=Xc(t,!1).get(e),r=await new nl(n).toPromise();return r===void 0?null:r.value}function qv(t,e){const n=Xc(t,!0).delete(e);return new nl(n).toPromise()}const w2=800,E2=3;class N1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>E2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yc._getInstance(g2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await p2(),!this.activeServiceWorker)return;this.sender=new h2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wf();return await Wv(e,sc,"1"),await qv(e,sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Xc(i,!1).getAll();return new nl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N1.type="LOCAL";const T2=N1;new Ja(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e){return e?Yn(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends w1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I2(t){return Jk(t.auth,new bm(t),t.bypassAuthState)}function S2(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),Xk(n,new bm(t),t.bypassAuthState)}async function R2(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),Yk(n,new bm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I2;case"linkViaPopup":case"linkViaRedirect":return R2;case"reauthViaPopup":case"reauthViaRedirect":return S2;default:Un(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Ja(2e3,1e4);async function A2(t,e,n){const r=el(t);mk(t,e,Dm);const i=D1(r,n);return new vi(r,"signInViaPopup",e,i).executeNotNull()}class vi extends O1{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,vi.currentPopupAction&&vi.currentPopupAction.cancel(),vi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C2.get())};e()}}vi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="pendingRedirect",Tu=new Map;class x2 extends O1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tu.get(this.auth._key());if(!e){try{const r=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(t,e){const n=O2(e),r=D2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function N2(t,e){Tu.set(t._key(),e)}function D2(t){return Yn(t._redirectPersistence)}function O2(t){return Eu(P2,t.config.apiKey,t.name)}async function b2(t,e,n=!1){const r=el(t),i=D1(r,e),s=await new x2(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=10*60*1e3;class L2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!b1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(e))}saveEventToCache(e){this.cachedEventUids.add(Kv(e)),this.lastProcessedEventTime=Date.now()}}function Kv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j2=/^https?/;async function $2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F2(t);for(const n of e)try{if(z2(n))return}catch{}Un(t,"unauthorized-domain")}function z2(t){const e=Hf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!j2.test(n))return!1;if(U2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Ja(3e4,6e4);function Gv(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H2(t){return new Promise((e,n)=>{var r,i,o;function s(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),n(Ln(t,"network-request-failed"))},timeout:B2.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Vn().gapi)===null||o===void 0)&&o.load)s();else{const a=Vk("iframefcb");return Vn()[a]=()=>{gapi.load?s():n(Ln(t,"network-request-failed"))},v1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Iu=null,e})}let Iu=null;function W2(t){return Iu=Iu||H2(t),Iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Ja(5e3,15e3),K2="__/auth/iframe",G2="emulator/auth/iframe",Q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X2(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?km(e,G2):`https://${t.config.authDomain}/${K2}`,r={apiKey:e.apiKey,appName:t.name,v:rs},i=Y2.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Xa(r).slice(1)}`}async function J2(t){const e=await W2(t),n=Vn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:X2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q2,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ln(t,"network-request-failed"),a=Vn().setTimeout(()=>{o(s)},q2.get());function l(){Vn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eN=500,tN=600,nN="_blank",rN="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iN(t,e,n,r=eN,i=tN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Z2),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Tt().toLowerCase();n&&(a=u1(u)?nN:n),l1(u)&&(e=e||rN,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(Ok(u)&&a!=="_self")return oN(e||"",a),new Qv(null);const d=window.open(e||"",a,c);te(d,t,"popup-blocked");try{d.focus()}catch{}return new Qv(d)}function oN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="__/auth/handler",aN="emulator/auth/handler",lN=encodeURIComponent("fac");async function Yv(t,e,n,r,i,o){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rs,eventId:i};if(e instanceof Dm){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",ix(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof tl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${lN}=${encodeURIComponent(l)}`:"";return`${uN(t)}?${Xa(a).slice(1)}${u}`}function uN({config:t}){return t.emulator?km(t,aN):`https://${t.authDomain}/${sN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="webStorageSupport";class cN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A1,this._completeRedirectFn=b2,this._overrideRedirectResult=N2}async _openPopup(e,n,r,i){var o;sr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Yv(e,n,r,Hf(),i);return iN(e,s,Om())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Yv(e,n,r,Hf(),i);return f2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(sr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J2(e),r=new L2(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sh,{type:Sh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Sh];s!==void 0&&n(!!s),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p1()||Nm()||Qc()}}const dN=cN;var Xv="@firebase/auth",Jv="1.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function pN(t){Uo(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m1(t)},u=new Bk(r,i,o,l);return Wk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Uo(new Oi("auth-internal",e=>{const n=el(e.getProvider("auth").getImmediate());return(r=>new hN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(Xv,Jv,fN(t)),Br(Xv,Jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=5*60,gN=qE("authIdTokenMaxAge")||mN;let Zv=null;const yN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gN)return;const i=n==null?void 0:n.token;Zv!==i&&(Zv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Jc(t=YE()){const e=Am(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hk(t,{popupRedirectResolver:dN,persistence:[T2,c2,A1]}),r=qE("authTokenSyncURL");if(r){const o=yN(r);s2(n,o,()=>o(n.currentUser)),o2(n,s=>o(s))}const i=HE("auth");return i&&qk(n,`http://${i}`),n}pN("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Mm(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Lm(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mo=function(){return mo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mo.apply(this,arguments)},M1=function(t){return{loading:t==null,value:t}},vN=function(){return function(t,e){switch(e.type){case"error":return mo(mo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return M1(e.defaultValue);case"value":return mo(mo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},_N=function(t){var e=t?t():void 0,n=x.useReducer(vN(),M1(e)),r=n[0],i=n[1],o=x.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),s=x.useCallback(function(l){i({type:"error",error:l})},[]),a=x.useCallback(function(l){i({type:"value",value:l})},[]);return x.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:s,setValue:a,value:r.value}},[r.error,r.loading,o,s,a,r.value])},wN=function(t,e){var n=_N(function(){return t.currentUser}),r=n.error,i=n.loading,o=n.setError,s=n.setValue,a=n.value;return x.useEffect(function(){var l=I1(t,function(u){return Mm(void 0,void 0,void 0,function(){var c;return Lm(this,function(d){switch(d.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return d.sent(),[3,4];case 3:return c=d.sent(),o(c),[3,4];case 4:return s(u),[2]}})})},o);return function(){l()}},[t]),[a,i,r]},EN=function(t){var e=x.useCallback(function(n,r){var i=new qn;return n&&n.forEach(function(o){return i.addScope(o)}),r&&i.setCustomParameters(r),i},[]);return TN(t,e)},TN=function(t,e){var n=x.useState(),r=n[0],i=n[1],o=x.useState(),s=o[0],a=o[1],l=x.useState(!1),u=l[0],c=l[1],d=x.useCallback(function(h,m){return Mm(void 0,void 0,void 0,function(){var v,w,E;return Lm(this,function(f){switch(f.label){case 0:c(!0),i(void 0),f.label=1;case 1:return f.trys.push([1,3,4,5]),v=e(h,m),[4,A2(t,v)];case 2:return w=f.sent(),a(w),[2,w];case 3:return E=f.sent(),i(E),[3,5];case 4:return c(!1),[7];case 5:return[2]}})})},[t,e]);return[d,s,u,r]},IN=function(t){var e=x.useState(),n=e[0],r=e[1],i=x.useState(!1),o=i[0],s=i[1],a=x.useCallback(function(){return Mm(void 0,void 0,void 0,function(){var l;return Lm(this,function(u){switch(u.label){case 0:s(!0),r(void 0),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,t.signOut()];case 2:return u.sent(),[2,!0];case 3:return l=u.sent(),r(l),[2,!1];case 4:return s(!1),[7];case 5:return[2]}})})},[t]);return[a,o,n]},SN="firebase",RN="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(SN,RN,"app");var CN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,Vm=Vm||{},X=CN||self;function Zc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function AN(t){return Object.prototype.hasOwnProperty.call(t,Rh)&&t[Rh]||(t[Rh]=++PN)}var Rh="closure_uid_"+(1e9*Math.random()>>>0),PN=0;function xN(t,e,n){return t.call.apply(t.bind,arguments)}function kN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yt=xN:yt=kN,yt.apply(null,arguments)}function Ql(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function oi(){this.s=this.s,this.o=this.o}var NN=0;oi.prototype.s=!1;oi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),NN!=0)&&AN(this)};oi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const L1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function e_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var DN=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return t}();function Ra(t){return/^[\s\xa0]*$/.test(t)}function ed(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return ed().indexOf(t)!=-1}function Um(t){return Um[" "](t),t}Um[" "]=function(){};function ON(t,e){var n=RD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var bN=kn("Opera"),$o=kn("Trident")||kn("MSIE"),V1=kn("Edge"),qf=V1||$o,F1=kn("Gecko")&&!(ed().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),MN=ed().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function U1(){var t=X.document;return t?t.documentMode:void 0}var Kf;e:{var Ch="",Ah=function(){var t=ed();if(F1)return/rv:([^\);]+)(\)|;)/.exec(t);if(V1)return/Edge\/([\d\.]+)/.exec(t);if($o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(MN)return/WebKit\/(\S+)/.exec(t);if(bN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ah&&(Ch=Ah?Ah[1]:""),$o){var Ph=U1();if(Ph!=null&&Ph>parseFloat(Ch)){Kf=String(Ph);break e}}Kf=Ch}var Gf;if(X.document&&$o){var t_=U1();Gf=t_||parseInt(Kf,10)||void 0}else Gf=void 0;var LN=Gf;function Ca(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(F1){e:{try{Um(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:VN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ca.$.h.call(this)}}et(Ca,vt);var VN={2:"touch",3:"pen",4:"mouse"};Ca.prototype.h=function(){Ca.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var il="closure_listenable_"+(1e6*Math.random()|0),FN=0;function UN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++FN,this.fa=this.ia=!1}function td(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function jN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function j1(t){const e={};for(const n in t)e[n]=t[n];return e}const n_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<n_.length;o++)n=n_[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nd(t){this.src=t,this.g={},this.h=0}nd.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Yf(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new UN(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Qf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=L1(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(td(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Yf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var $m="closure_lm_"+(1e6*Math.random()|0),xh={};function z1(t,e,n,r,i){if(r&&r.once)return H1(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)z1(t,e[o],n,r,i);return null}return n=Hm(n),t&&t[il]?t.O(e,n,rl(r)?!!r.capture:!!r,i):B1(t,e,n,!1,r,i)}function B1(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=rl(i)?!!i.capture:!!i,a=Bm(t);if(a||(t[$m]=a=new nd(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=$N(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)DN||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(q1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $N(){function t(n){return e.call(t.src,t.listener,n)}const e=zN;return t}function H1(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)H1(t,e[o],n,r,i);return null}return n=Hm(n),t&&t[il]?t.P(e,n,rl(r)?!!r.capture:!!r,i):B1(t,e,n,!0,r,i)}function W1(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)W1(t,e[o],n,r,i);else r=rl(r)?!!r.capture:!!r,n=Hm(n),t&&t[il]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Yf(o,n,r,i),-1<n&&(td(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Yf(e,n,r,i)),(n=-1<t?e[t]:null)&&zm(n))}function zm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[il])Qf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(q1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bm(e))?(Qf(n,t),n.h==0&&(n.src=null,e[$m]=null)):td(t)}}}function q1(t){return t in xh?xh[t]:xh[t]="on"+t}function zN(t,e){if(t.fa)t=!0;else{e=new Ca(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zm(t),t=n.call(r,e)}return t}function Bm(t){return t=t[$m],t instanceof nd?t:null}var kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hm(t){return typeof t=="function"?t:(t[kh]||(t[kh]=function(e){return t.handleEvent(e)}),t[kh])}function Ze(){oi.call(this),this.i=new nd(this),this.S=this,this.J=null}et(Ze,oi);Ze.prototype[il]=!0;Ze.prototype.removeEventListener=function(t,e,n,r){W1(this,t,e,n,r)};function st(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new vt(e,t);else if(e instanceof vt)e.target=e.target||t;else{var i=e;e=new vt(r,t),$1(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Yl(s,r,!0,e)&&i}if(s=e.g=t,i=Yl(s,r,!0,e)&&i,i=Yl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Yl(s,r,!1,e)&&i}Ze.prototype.N=function(){if(Ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)td(n[r]);delete t.g[e],t.h--}}this.J=null};Ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ze.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Yl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Qf(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Wm=X.JSON.stringify;class BN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function HN(){var t=qm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class WN{constructor(){this.h=this.g=null}add(e,n){const r=K1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var K1=new BN(()=>new qN,t=>t.reset());class qN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function KN(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function GN(t){X.setTimeout(()=>{throw t},0)}let Aa,Pa=!1,qm=new WN,G1=()=>{const t=X.Promise.resolve(void 0);Aa=()=>{t.then(QN)}};var QN=()=>{for(var t;t=HN();){try{t.h.call(t.g)}catch(n){GN(n)}var e=K1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pa=!1};function rd(t,e){Ze.call(this),this.h=t||1,this.g=e||X,this.j=yt(this.qb,this),this.l=Date.now()}et(rd,Ze);M=rd.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),st(this,"tick"),this.ga&&(Km(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Km(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){rd.$.N.call(this),Km(this),delete this.g};function Gm(t,e,n){if(typeof t=="function")n&&(t=yt(t,n));else if(t&&typeof t.handleEvent=="function")t=yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function Q1(t){t.g=Gm(()=>{t.g=null,t.i&&(t.i=!1,Q1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class YN extends oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Q1(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xa(t){oi.call(this),this.h=t,this.g={}}et(xa,oi);var r_=[];function Y1(t,e,n,r){Array.isArray(n)||(n&&(r_[0]=n.toString()),n=r_);for(var i=0;i<n.length;i++){var o=z1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function X1(t){jm(t.g,function(e,n){this.g.hasOwnProperty(n)&&zm(e)},t),t.g={}}xa.prototype.N=function(){xa.$.N.call(this),X1(this)};xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function id(){this.g=!0}id.prototype.Ea=function(){this.g=!1};function XN(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function JN(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function go(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eD(t,n)+(r?" "+r:"")})}function ZN(t,e){t.info(function(){return"TIMEOUT: "+e})}id.prototype.info=function(){};function eD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Wm(n)}catch{return e}}var Hi={},i_=null;function od(){return i_=i_||new Ze}Hi.Ta="serverreachability";function J1(t){vt.call(this,Hi.Ta,t)}et(J1,vt);function ka(t){const e=od();st(e,new J1(e))}Hi.STAT_EVENT="statevent";function Z1(t,e){vt.call(this,Hi.STAT_EVENT,t),this.stat=e}et(Z1,vt);function Rt(t){const e=od();st(e,new Z1(e,t))}Hi.Ua="timingevent";function eT(t,e){vt.call(this,Hi.Ua,t),this.size=e}et(eT,vt);function ol(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}var sd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qm(){}Qm.prototype.h=null;function o_(t){return t.h||(t.h=t.i())}function nT(){}var sl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ym(){vt.call(this,"d")}et(Ym,vt);function Xm(){vt.call(this,"c")}et(Xm,vt);var Xf;function ad(){}et(ad,Qm);ad.prototype.g=function(){return new XMLHttpRequest};ad.prototype.i=function(){return{}};Xf=new ad;function al(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xa(this),this.P=tD,t=qf?125:void 0,this.V=new rd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rT}function rT(){this.i=null,this.g="",this.h=!1}var tD=45e3,Jf={},lc={};M=al.prototype;M.setTimeout=function(t){this.P=t};function Zf(t,e,n){t.L=1,t.v=ud(ar(e)),t.s=n,t.S=!0,iT(t,null)}function iT(t,e){t.G=Date.now(),ll(t),t.A=ar(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),hT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new rT,t.g=OT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new YN(yt(t.Pa,t,t.g),t.O)),Y1(t.U,t.g,"readystatechange",t.nb),e=t.I?j1(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ka(),XN(t.j,t.u,t.A,t.m,t.W,t.s)}M.nb=function(t){t=t.target;const e=this.M;e&&Nn(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const c=Nn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||qf||this.g&&(this.h.h||this.g.ja()||u_(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ka(3):ka(2)),ld(this);var n=this.g.da();this.ca=n;t:if(oT(this)){var r=u_(this.g);t="";var i=r.length,o=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),Xs(this);var s="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,JN(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ra(a)){var u=a;break t}}u=null}if(n=u)go(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ep(this,n);else{this.i=!1,this.o=3,Rt(12),_i(this),Xs(this);break e}}this.S?(sT(this,c,s),qf&&this.i&&c==3&&(Y1(this.U,this.V,"tick",this.mb),this.V.start())):(go(this.j,this.m,s,null),ep(this,s)),c==4&&_i(this),this.i&&!this.J&&(c==4?xT(this.l,this):(this.i=!1,ll(this)))}else TD(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Rt(12)):(this.o=0,Rt(13)),_i(this),Xs(this)}}}catch{}finally{}};function oT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function sT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=nD(t,n),i==lc){e==4&&(t.o=4,Rt(14),r=!1),go(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Jf){t.o=4,Rt(15),go(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else go(t.j,t.m,i,null),ep(t,i);oT(t)&&i!=lc&&i!=Jf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Rt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rg(e),e.M=!0,Rt(11))):(go(t.j,t.m,n,"[Invalid Chunked Response]"),_i(t),Xs(t))}M.mb=function(){if(this.g){var t=Nn(this.g),e=this.g.ja();this.C<e.length&&(ld(this),sT(this,t,e),this.i&&t!=4&&ll(this))}};function nD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?lc:(n=Number(e.substring(n,r)),isNaN(n)?Jf:(r+=1,r+n>e.length?lc:(e=e.slice(r,r+n),t.C=r+n,e)))}M.cancel=function(){this.J=!0,_i(this)};function ll(t){t.Y=Date.now()+t.P,aT(t,t.P)}function aT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ol(yt(t.lb,t),e)}function ld(t){t.B&&(X.clearTimeout(t.B),t.B=null)}M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(ZN(this.j,this.A),this.L!=2&&(ka(),Rt(17)),_i(this),this.o=2,Xs(this)):aT(this,this.Y-t)};function Xs(t){t.l.H==0||t.J||xT(t.l,t)}function _i(t){ld(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Km(t.V),X1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ep(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||tp(n.i,t))){if(!t.K&&tp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)dc(n),hd(n);else break e;ng(n),Rt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ol(yt(n.ib,n),6e3));if(1>=mT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wi(n,11)}else if((t.K||n.g==t)&&dc(n),!Ra(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Jm(o,o.h),o.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Se(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=DT(r,r.J?r.pa:null,r.Y),s.K){gT(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(ld(a),ll(a)),r.g=s}else AT(r);0<n.j.length&&fd(n)}else u[0]!="stop"&&u[0]!="close"||wi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wi(n,7):tg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ka(4)}catch{}}function rD(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Zc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iD(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function lT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Zc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iD(t),r=rD(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var uT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ri(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ri){this.h=t.h,uc(this,t.j),this.s=t.s,this.g=t.g,cc(this,t.m),this.l=t.l;var e=t.i,n=new Na;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),s_(this,n),this.o=t.o}else t&&(e=String(t).match(uT))?(this.h=!1,uc(this,e[1]||"",!0),this.s=Ms(e[2]||""),this.g=Ms(e[3]||"",!0),cc(this,e[4]),this.l=Ms(e[5]||"",!0),s_(this,e[6]||"",!0),this.o=Ms(e[7]||"")):(this.h=!1,this.i=new Na(null,this.h))}Ri.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ls(e,a_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ls(e,a_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ls(n,n.charAt(0)=="/"?lD:aD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ls(n,cD)),t.join("")};function ar(t){return new Ri(t)}function uc(t,e,n){t.j=n?Ms(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function s_(t,e,n){e instanceof Na?(t.i=e,dD(t.i,t.h)):(n||(e=Ls(e,uD)),t.i=new Na(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function ud(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ms(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ls(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var a_=/[#\/\?@]/g,aD=/[#\?:]/g,lD=/[#\?]/g,uD=/[#\?@]/g,cD=/#/g;function Na(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function si(t){t.g||(t.g=new Map,t.h=0,t.i&&oD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Na.prototype;M.add=function(t,e){si(this),this.i=null,t=is(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function cT(t,e){si(t),e=is(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dT(t,e){return si(t),e=is(t,e),t.g.has(e)}M.forEach=function(t,e){si(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){si(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};M.Z=function(t){si(this);let e=[];if(typeof t=="string")dT(this,t)&&(e=e.concat(this.g.get(is(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return si(this),this.i=null,t=is(this,t),dT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hT(t,e,n){cT(t,e),0<n.length&&(t.i=null,t.g.set(is(t,e),Fm(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function is(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dD(t,e){e&&!t.j&&(si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cT(this,r),hT(this,i,n))},t)),t.j=e}var hD=class{constructor(t,e){this.g=t,this.map=e}};function fT(t){this.l=t||fD,X.PerformanceNavigationTiming?(t=X.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fD=10;function pT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mT(t){return t.h?1:t.g?t.g.size:0}function tp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Jm(t,e){t.g?t.g.add(e):t.h=e}function gT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}fT.prototype.cancel=function(){if(this.i=yT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fm(t.i)}var pD=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function mD(){this.g=new pD}function gD(t,e,n){const r=n||"";try{lT(t,function(i,o){let s=i;rl(i)&&(s=Wm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yD(t,e){const n=new id;if(X.Image){const r=new Image;r.onload=Ql(Xl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ql(Xl,n,r,"TestLoadImage: error",!1,e),r.onabort=Ql(Xl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ql(Xl,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ul(t){this.l=t.fc||null,this.j=t.ob||!1}et(ul,Qm);ul.prototype.g=function(){return new cd(this.l,this.j)};ul.prototype.i=function(t){return function(){return t}}({});function cd(t,e){Ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Zm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(cd,Ze);var Zm=0;M=cd.prototype;M.open=function(t,e){if(this.readyState!=Zm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Da(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=Zm};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Da(this)),this.g&&(this.readyState=3,Da(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function vT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cl(this):Da(this),this.readyState==3&&vT(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,cl(this))};M.Ya=function(t){this.g&&(this.response=t,cl(this))};M.ka=function(){this.g&&cl(this)};function cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Da(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Da(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vD=X.JSON.parse;function Me(t){Ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_T,this.L=this.M=!1}et(Me,Ze);var _T="",_D=/^https?$/i,wD=["POST","PUT"];M=Me.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xf.g(),this.C=this.u?o_(this.u):o_(Xf),this.g.onreadystatechange=yt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){l_(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=X.FormData&&t instanceof X.FormData,!(0<=L1(wD,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TT(this),0<this.B&&((this.L=ED(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yt(this.ua,this)):this.A=Gm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){l_(this,o)}};function ED(t){return $o&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof Vm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,st(this,"timeout"),this.abort(8))};function l_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wT(t),dd(t)}function wT(t){t.F||(t.F=!0,st(t,"complete"),st(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,st(this,"complete"),st(this,"abort"),dd(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dd(this,!0)),Me.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?ET(this):this.kb())};M.kb=function(){ET(this)};function ET(t){if(t.h&&typeof Vm<"u"&&(!t.C[1]||Nn(t)!=4||t.da()!=2)){if(t.v&&Nn(t)==4)Gm(t.La,0,t);else if(st(t,"readystatechange"),Nn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(uT)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!_D.test(i?i.toLowerCase():"")}n=r}if(n)st(t,"complete"),st(t,"success");else{t.m=6;try{var o=2<Nn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",wT(t)}}finally{dd(t)}}}}function dd(t,e){if(t.g){TT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||st(t,"ready");try{n.onreadystatechange=r}catch{}}}function TT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function Nn(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vD(e)}};function u_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _T:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TD(t){const e={};t=(t.g&&2<=Nn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ra(t[r]))continue;var n=KN(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}jN(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function IT(t){let e="";return jm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function eg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=IT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Se(t,e,n))}function xs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ST(t){this.Ga=0,this.j=[],this.l=new id,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xs("baseRetryDelayMs",5e3,t),this.hb=xs("retryDelaySeedMs",1e4,t),this.eb=xs("forwardChannelMaxRetries",2,t),this.xa=xs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fT(t&&t.concurrentRequestLimit),this.Ja=new mD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=ST.prototype;M.ra=8;M.H=1;function tg(t){if(RT(t),t.H==3){var e=t.W++,n=ar(t.I);if(Se(n,"SID",t.K),Se(n,"RID",e),Se(n,"TYPE","terminate"),dl(t,n),e=new al(t,t.l,e),e.L=2,e.v=ud(ar(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&X.Image&&(new Image().src=e.v,n=!0),n||(e.g=OT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ll(e)}NT(t)}function hd(t){t.g&&(rg(t),t.g.cancel(),t.g=null)}function RT(t){hd(t),t.u&&(X.clearTimeout(t.u),t.u=null),dc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&X.clearTimeout(t.m),t.m=null)}function fd(t){if(!pT(t.i)&&!t.m){t.m=!0;var e=t.Na;Aa||G1(),Pa||(Aa(),Pa=!0),qm.add(e,t),t.C=0}}function ID(t,e){return mT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ol(yt(t.Na,t,e),kT(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new al(this,this.l,t);let o=this.s;if(this.U&&(o?(o=j1(o),$1(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=CT(this,i,e),n=ar(this.I),Se(n,"RID",t),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),dl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(IT(o)))+"&"+e:this.o&&eg(n,this.o,o)),Jm(this.i,i),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",e),Se(n,"SID","null"),i.aa=!0,Zf(i,n,null)):Zf(i,n,e),this.H=2}}else this.H==3&&(t?c_(this,t):this.j.length==0||pT(this.i)||c_(this))};function c_(t,e){var n;e?n=e.m:n=t.W++;const r=ar(t.I);Se(r,"SID",t.K),Se(r,"RID",n),Se(r,"AID",t.V),dl(t,r),t.o&&t.s&&eg(r,t.o,t.s),n=new al(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=CT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Jm(t.i,n),Zf(n,r,e)}function dl(t,e){t.na&&jm(t.na,function(n,r){Se(e,r,n)}),t.h&&lT({},function(n,r){Se(e,r,n)})}function CT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?yt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{gD(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function AT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Aa||G1(),Pa||(Aa(),Pa=!0),qm.add(e,t),t.A=0}}function ng(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ol(yt(t.Ma,t),kT(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,PT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ol(yt(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rt(10),hd(this),PT(this))};function rg(t){t.B!=null&&(X.clearTimeout(t.B),t.B=null)}function PT(t){t.g=new al(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ar(t.wa);Se(e,"RID","rpc"),Se(e,"SID",t.K),Se(e,"AID",t.V),Se(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Se(e,"TO",t.qa),Se(e,"TYPE","xmlhttp"),dl(t,e),t.o&&t.s&&eg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ud(ar(e)),n.s=null,n.S=!0,iT(n,t)}M.ib=function(){this.v!=null&&(this.v=null,hd(this),ng(this),Rt(19))};function dc(t){t.v!=null&&(X.clearTimeout(t.v),t.v=null)}function xT(t,e){var n=null;if(t.g==e){dc(t),rg(t),t.g=null;var r=2}else if(tp(t.i,e))n=e.F,gT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=od(),st(r,new eT(r,n)),fd(t)}else AT(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&ID(t,e)||r==2&&ng(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wi(t,5);break;case 4:wi(t,10);break;case 3:wi(t,6);break;default:wi(t,2)}}}function kT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=yt(t.pb,t);n||(n=new Ri("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||uc(n,"https"),ud(n)),yD(n.toString(),r)}else Rt(2);t.H=0,t.h&&t.h.za(e),NT(t),RT(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rt(2)):(this.l.info("Failed to ping google.com"),Rt(1))};function NT(t){if(t.H=0,t.ma=[],t.h){const e=yT(t.i);(e.length!=0||t.j.length!=0)&&(e_(t.ma,e),e_(t.ma,t.j),t.i.i.length=0,Fm(t.j),t.j.length=0),t.h.ya()}}function DT(t,e,n){var r=n instanceof Ri?ar(n):new Ri(n);if(r.g!="")e&&(r.g=e+"."+r.g),cc(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ri(null);r&&uc(o,r),e&&(o.g=e),i&&cc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Se(r,n,e),Se(r,"VER",t.ra),dl(t,r),r}function OT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Me(new ul({ob:!0})):new Me(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function bT(){}M=bT.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function hc(){if($o&&!(10<=Number(LN)))throw Error("Environmental error: no available transport.")}hc.prototype.g=function(t,e){return new qt(t,e)};function qt(t,e){Ze.call(this),this.g=new ST(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ra(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ra(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new os(this)}et(qt,Ze);qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=DT(t,null,t.Y),fd(t)};qt.prototype.close=function(){tg(this.g)};qt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Wm(t),t=n);e.j.push(new hD(e.fb++,t)),e.H==3&&fd(e)};qt.prototype.N=function(){this.g.h=null,delete this.j,tg(this.g),delete this.g,qt.$.N.call(this)};function MT(t){Ym.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}et(MT,Ym);function LT(){Xm.call(this),this.status=1}et(LT,Xm);function os(t){this.g=t}et(os,bT);os.prototype.Ba=function(){st(this.g,"a")};os.prototype.Aa=function(t){st(this.g,new MT(t))};os.prototype.za=function(t){st(this.g,new LT)};os.prototype.ya=function(){st(this.g,"b")};function SD(){this.blockSize=-1}function Tn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}et(Tn,SD);Tn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Nh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Tn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Nh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Nh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Nh(this,r),i=0;break}}this.h=i,this.i+=e};Tn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var RD={};function ig(t){return-128<=t&&128>t?ON(t,function(e){return new ve([e|0],0>e?-1:0)}):new ve([t|0],0>t?-1:0)}function Dn(t){if(isNaN(t)||!isFinite(t))return Po;if(0>t)return it(Dn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=np;return new ve(e,0)}function VT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return it(VT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Dn(Math.pow(e,8)),r=Po,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Dn(Math.pow(e,o)),r=r.R(o).add(Dn(s))):(r=r.R(n),r=r.add(Dn(s)))}return r}var np=4294967296,Po=ig(0),rp=ig(1),d_=ig(16777216);M=ve.prototype;M.ea=function(){if(nn(this))return-it(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:np+r)*e,e*=np}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xn(this))return"0";if(nn(this))return"-"+it(this).toString(t);for(var e=Dn(Math.pow(t,6)),n=this,r="";;){var i=pc(n,e).g;n=fc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Xn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nn(t){return t.h==-1}M.X=function(t){return t=fc(this,t),nn(t)?-1:Xn(t)?0:1};function it(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ve(n,~t.h).add(rp)}M.abs=function(){return nn(this)?it(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ve(n,n[n.length-1]&-2147483648?-1:0)};function fc(t,e){return t.add(it(e))}M.R=function(t){if(Xn(this)||Xn(t))return Po;if(nn(this))return nn(t)?it(this).R(it(t)):it(it(this).R(t));if(nn(t))return it(this.R(it(t)));if(0>this.X(d_)&&0>t.X(d_))return Dn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Jl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Jl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Jl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Jl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ve(n,0)};function Jl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ks(t,e){this.g=t,this.h=e}function pc(t,e){if(Xn(e))throw Error("division by zero");if(Xn(t))return new ks(Po,Po);if(nn(t))return e=pc(it(t),e),new ks(it(e.g),it(e.h));if(nn(e))return e=pc(t,it(e)),new ks(it(e.g),e.h);if(30<t.g.length){if(nn(t)||nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=rp,r=e;0>=r.X(t);)n=h_(n),r=h_(r);var i=Xi(n,1),o=Xi(r,1);for(r=Xi(r,2),n=Xi(n,2);!Xn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Xi(r,1),n=Xi(n,1)}return e=fc(t,i.R(e)),new ks(i,e)}for(i=Po;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Dn(n),s=o.R(e);nn(s)||0<s.X(t);)n-=r,o=Dn(n),s=o.R(e);Xn(o)&&(o=rp),i=i.add(o),t=fc(t,s)}return new ks(i,t)}M.gb=function(t){return pc(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ve(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ve(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ve(n,this.h^t.h)};function h_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ve(n,t.h)}function Xi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ve(i,t.h)}hc.prototype.createWebChannel=hc.prototype.g;qt.prototype.send=qt.prototype.u;qt.prototype.open=qt.prototype.m;qt.prototype.close=qt.prototype.close;sd.NO_ERROR=0;sd.TIMEOUT=8;sd.HTTP_ERROR=6;tT.COMPLETE="complete";nT.EventType=sl;sl.OPEN="a";sl.CLOSE="b";sl.ERROR="c";sl.MESSAGE="d";Ze.prototype.listen=Ze.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;Tn.prototype.digest=Tn.prototype.l;Tn.prototype.reset=Tn.prototype.reset;Tn.prototype.update=Tn.prototype.j;ve.prototype.add=ve.prototype.add;ve.prototype.multiply=ve.prototype.R;ve.prototype.modulo=ve.prototype.gb;ve.prototype.compare=ve.prototype.X;ve.prototype.toNumber=ve.prototype.ea;ve.prototype.toString=ve.prototype.toString;ve.prototype.getBits=ve.prototype.D;ve.fromNumber=Dn;ve.fromString=VT;var CD=function(){return new hc},AD=function(){return od()},Dh=sd,PD=tT,xD=Hi,f_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kD=ul,Zl=nT,ND=Me,DD=Tn,xo=ve;const p_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ss="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Rm("@firebase/firestore");function m_(){return Li.logLevel}function j(t,...e){if(Li.logLevel<=pe.DEBUG){const n=e.map(og);Li.debug(`Firestore (${ss}): ${t}`,...n)}}function lr(t,...e){if(Li.logLevel<=pe.ERROR){const n=e.map(og);Li.error(`Firestore (${ss}): ${t}`,...n)}}function zo(t,...e){if(Li.logLevel<=pe.WARN){const n=e.map(og);Li.warn(`Firestore (${ss}): ${t}`,...n)}}function og(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Ae(t,e){t||Q()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class bD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MD{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new FT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new ft(e)}}class LD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new FD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=jD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ge(0,0))}static max(){return new ee(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends Oa{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const $D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Oa{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return $D.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new L(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(Re.fromString(e))}static fromName(e){return new W(Re.fromString(e).popFirst(5))}static empty(){return new W(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Re(e.slice()))}}function zD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Yr(i,W.empty(),e)}function BD(t){return new Yr(t.readTime,t.key,-1)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(ee.min(),W.empty(),-1)}static max(){return new Yr(ee.max(),W.empty(),-1)}}function HD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==WD)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sg.ae=-1;function pd(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function KD(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eu(this.root,e,this.comparator,!0)}}class eu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rt.RED,this.left=i??rt.EMPTY,this.right=o??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new rt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new _t(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $T("Invalid base64 string: "+o):o}}(e);return new It(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const GD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=GD.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lg(t){const e=t.mapValue.fields.__previous_value__;return ag(e)?lg(e):e}function ba(t){const e=Xr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ma{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:YD(t)?9007199254740991:10:Q()}function jn(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ba(t).isEqual(ba(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Xr(i.timestampValue),a=Xr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Vi(i.bytesValue).isEqual(Vi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=je(i.doubleValue),a=je(o.doubleValue);return s===a?mc(s)===mc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(g_(s)!==g_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!jn(s[l],a[l])))return!1;return!0}(t,e);default:return Q()}}function La(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function Ho(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=je(o.integerValue||o.doubleValue),l=je(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return v_(t.timestampValue,e.timestampValue);case 4:return v_(ba(t),ba(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Vi(o),l=Vi(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=me(a[u],l[u]);if(c!==0)return c}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=me(je(o.latitude),je(s.latitude));return a!==0?a:me(je(o.longitude),je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ho(a[u],l[u]);if(c)return c}return me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===tu.mapValue&&s===tu.mapValue)return 0;if(o===tu.mapValue)return 1;if(s===tu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=me(l[d],c[d]);if(h!==0)return h;const m=Ho(a[l[d]],u[c[d]]);if(m!==0)return m}return me(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Q()}}function v_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Xr(t),r=Xr(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function Wo(t){return ip(t)}function ip(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ip(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ip(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function __(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function op(t){return!!t&&"integerValue"in t}function ug(t){return!!t&&"arrayValue"in t}function w_(t){return!!t&&"nullValue"in t}function E_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Su(t){return!!t&&"mapValue"in t}function Js(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Js(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Js(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Js(n)}setAll(e){let n=gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Js(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Su(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ot(Js(this.value))}}function zT(t){const e=[];return Wi(t.fields,(n,r)=>{const i=new gt([n]);if(Su(r)){const o=zT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,ee.min(),ee.min(),ee.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,ee.min(),ee.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,ee.min(),ee.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.position=e,this.inclusive=n}}function T_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Ho(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function I_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n="asc"){this.field=e,this.dir=n}}function XD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{}class ze extends BT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZD(e,n,r):n==="array-contains"?new nO(e,r):n==="in"?new rO(e,r):n==="not-in"?new iO(e,r):n==="array-contains-any"?new oO(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eO(e,r):new tO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ho(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends BT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new In(e,n)}matches(e){return HT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function HT(t){return t.op==="and"}function WT(t){return JD(t)&&HT(t)}function JD(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function sp(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if(WT(t))return t.filters.map(e=>sp(e)).join(",");{const e=t.filters.map(n=>sp(n)).join(",");return`${t.op}(${e})`}}function qT(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qT(s,i.filters[a]),!0):!1}(t,e):void Q()}function KT(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"}(t):"Filter"}class ZD extends ze{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class eO extends ze{constructor(e,n){super(e,"in",n),this.keys=GT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tO extends ze{constructor(e,n){super(e,"not-in",n),this.keys=GT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class nO extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ug(n)&&La(n.arrayValue,this.value)}}class rO extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&La(this.value.arrayValue,n)}}class iO extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(La(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!La(this.value.arrayValue,n)}}class oO extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>La(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.he=null}}function S_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new sO(t,e,n,r,i,o,s)}function cg(t){const e=oe(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.he=n}return e.he}function dg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I_(t.startAt,e.startAt)&&I_(t.endAt,e.endAt)}function ap(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function aO(t,e,n,r,i,o,s,a){return new pl(t,e,n,r,i,o,s,a)}function md(t){return new pl(t)}function R_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function hg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function YT(t){return t.collectionGroup!==null}function ko(t){const e=oe(t);if(e.Pe===null){e.Pe=[];const n=hg(e),r=QT(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Zs(n)),e.Pe.push(new Zs(gt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Zs(gt.keyField(),o))}}}return e.Pe}function ur(t){const e=oe(t);if(!e.Ie)if(e.limitType==="F")e.Ie=S_(e.path,e.collectionGroup,ko(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ko(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Zs(o.field,s))}const r=e.endAt?new gc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gc(e.startAt.position,e.startAt.inclusive):null;e.Ie=S_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function lp(t,e){e.getFirstInequalityField(),hg(t);const n=t.filters.concat([e]);return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function up(t,e,n){return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gd(t,e){return dg(ur(t),ur(e))&&t.limitType===e.limitType}function XT(t){return`${cg(ur(t))}|lt:${t.limitType}`}function cp(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>KT(i)).join(", ")}]`),pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wo(i)).join(",")),`Target(${r})`}(ur(t))}; limitType=${t.limitType})`}function yd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ko(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=T_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ko(r),i)||r.endAt&&!function(s,a,l){const u=T_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ko(r),i))}(t,e)}function lO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JT(t){return(e,n)=>{let r=!1;for(const i of ko(t)){const o=uO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function uO(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ho(l,u):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new Oe(W.comparator);function cr(){return cO}const ZT=new Oe(W.comparator);function Vs(...t){let e=ZT;for(const n of t)e=e.insert(n.key,n);return e}function eI(t){let e=ZT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return ea()}function tI(){return ea()}function ea(){return new as(t=>t.toString(),(t,e)=>t.isEqual(e))}const dO=new Oe(W.comparator),hO=new _t(W.comparator);function se(...t){let e=hO;for(const n of t)e=e.add(n);return e}const fO=new _t(me);function pO(){return fO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function rI(t){return{integerValue:""+t}}function mO(t,e){return KD(e)?rI(e):nI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function gO(t,e,n){return t instanceof Va?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ag(o)&&(o=lg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof qo?oI(t,e):t instanceof Ko?sI(t,e):function(i,o){const s=iI(i,o),a=C_(s)+C_(i.Te);return op(s)&&op(i.Te)?rI(a):nI(i.serializer,a)}(t,e)}function yO(t,e,n){return t instanceof qo?oI(t,e):t instanceof Ko?sI(t,e):n}function iI(t,e){return t instanceof yc?function(r){return op(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Va extends vd{}class qo extends vd{constructor(e){super(),this.elements=e}}function oI(t,e){const n=aI(e);for(const r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ko extends vd{constructor(e){super(),this.elements=e}}function sI(t,e){let n=aI(e);for(const r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}class yc extends vd{constructor(e,n){super(),this.serializer=e,this.Te=n}}function C_(t){return je(t.integerValue||t.doubleValue)}function aI(t){return ug(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.field=e,this.transform=n}}function vO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qo&&i instanceof qo||r instanceof Ko&&i instanceof Ko?Bo(r.elements,i.elements,jn):r instanceof yc&&i instanceof yc?jn(r.Te,i.Te):r instanceof Va&&i instanceof Va}(t.transform,e.transform)}class _O{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ru(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _d{}function lI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pg(t.key,sn.none()):new ml(t.key,t.data,sn.none());{const n=t.data,r=Ot.empty();let i=new _t(gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ai(t.key,r,new Bt(i.toArray()),sn.none())}}function wO(t,e,n){t instanceof ml?function(i,o,s){const a=i.value.clone(),l=P_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(i,o,s){if(!Ru(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=P_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(uI(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ta(t,e,n,r){return t instanceof ml?function(o,s,a,l){if(!Ru(o.precondition,s))return a;const u=o.value.clone(),c=x_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(o,s,a,l){if(!Ru(o.precondition,s))return a;const u=x_(o.fieldTransforms,l,s),c=s.data;return c.setAll(uI(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Ru(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function EO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=iI(r.transform,i||null);o!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,o))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bo(r,i,(o,s)=>vO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ml extends _d{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends _d{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P_(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,yO(s,a,n[i]))}return r}function x_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,gO(o,s,e))}return r}class pg extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TO extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ta(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ta(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tI();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=lI(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>A_(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>A_(n,r))}}class mg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return dO}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new mg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,le;function CO(t){switch(t){default:return Q();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function cI(t){if(t===void 0)return lr("GRPC error has no .code"),P.UNKNOWN;switch(t){case Fe.OK:return P.OK;case Fe.CANCELLED:return P.CANCELLED;case Fe.UNKNOWN:return P.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return P.INTERNAL;case Fe.UNAVAILABLE:return P.UNAVAILABLE;case Fe.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Fe.NOT_FOUND:return P.NOT_FOUND;case Fe.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Fe.ABORTED:return P.ABORTED;case Fe.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Fe.DATA_LOSS:return P.DATA_LOSS;default:return Q()}}(le=Fe||(Fe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return nu}static getOrCreateInstance(){return nu===null&&(nu=new gg),nu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let nu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new xo([4294967295,4294967295],0);function k_(t){const e=AO().encode(t),n=new DD;return n.update(e),new Uint8Array(n.digest())}function N_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,o],0)]}class yg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fs(`Invalid padding: ${n}`);if(r<0)throw new Fs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fs(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=xo.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(PO)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=k_(e),[r,i]=N_(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);if(!this.Ve(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new yg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.de===0)return;const n=k_(e),[r,i]=N_(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);this.me(s)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wd(ee.min(),i,new Oe(me),cr(),se())}}class gl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gl(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class dI{constructor(e,n){this.targetId=e,this.pe=n}}class hI{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class D_{constructor(){this.ye=0,this.we=b_(),this.Se=It.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=se(),n=se(),r=se();return this.we.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new gl(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=b_()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class xO{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=cr(),this.$e=O_(),this.Ue=new Oe(me)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,o=e.pe.count,s=this.Xe(i);if(s){const a=s.target;if(ap(a))if(o===0){const l=new W(a.path);this.ze(i,l,mt.newNoDocument(l,ee.min()))}else Ae(o===1);else{const l=this.et(i);if(l!==o){const u=this.tt(e,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=gg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,h,m,v){var w,E,f,p,_,g;const A={localCacheCount:m,existenceFilterCount:v.count},k=v.unchangedNames;return k&&(A.bloomFilter={applied:d===0,hashCount:(w=k==null?void 0:k.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(p=(f=(E=k==null?void 0:k.bits)===null||E===void 0?void 0:E.bitmap)===null||f===void 0?void 0:f.length)!==null&&p!==void 0?p:0,padding:(g=(_=k==null?void 0:k.bits)===null||_===void 0?void 0:_.padding)!==null&&g!==void 0?g:0},h&&(A.bloomFilter.mightContain=h)),A}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=Vi(o).toUint8Array()}catch(d){if(d instanceof $T)return zo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw d}try{u=new yg(l,s,a)}catch(d){return zo(d instanceof Fs?"BloomFilter error: ":"Applying bloom filter failed: ",d),{status:1}}const c=d=>{const h=this.qe.rt();return u.mightContain(`projects/${h.projectId}/databases/${h.database}/documents/${d}`)};return u.de===0?{status:1}:{status:i===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{n(o.path.canonicalString())||(this.ze(e,o,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&ap(a.target)){const l=new W(a.target.path);this.Ke.get(l)!==null||this.ot(s,l)||this.ze(s,l,mt.newNoDocument(l,e))}o.Ce&&(n.set(s,o.Me()),o.xe())}});let r=se();this.$e.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ke.forEach((o,s)=>s.setReadTime(e));const i=new wd(e,n,this.Ue,this.Ke,r);return this.Ke=cr(),this.$e=O_(),this.Ue=new Oe(me),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new D_,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new _t(me),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new D_),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function O_(){return new Oe(W.comparator)}function b_(){return new Oe(W.comparator)}const kO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),NO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),DO=(()=>({and:"AND",or:"OR"}))();class OO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(t,e){return t.useProto3Json||pd(e)?e:{value:e}}function vc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bO(t,e){return vc(t,e.toTimestamp())}function Fn(t){return Ae(!!t),ee.fromTimestamp(function(n){const r=Xr(n);return new Ge(r.seconds,r.nanos)}(t))}function vg(t,e){return function(r){return new Re(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function pI(t){const e=Re.fromString(t);return Ae(vI(e)),e}function hp(t,e){return vg(t.databaseId,e.path)}function Oh(t,e){const n=pI(e);if(n.get(1)!==t.databaseId.projectId)throw new L(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(mI(n))}function fp(t,e){return vg(t.databaseId,e)}function MO(t){const e=pI(t);return e.length===4?Re.emptyPath():mI(e)}function pp(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mI(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function M_(t,e,n){return{name:hp(t,e),fields:n.value.mapValue.fields}}function LO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ae(c===void 0||typeof c=="string"),It.fromBase64String(c||"")):(Ae(c===void 0||c instanceof Uint8Array),It.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?P.UNKNOWN:cI(u.code);return new L(c,u.message||"")}(s);n=new hI(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Oh(t,r.document.name),o=Fn(r.document.updateTime),s=r.document.createTime?Fn(r.document.createTime):ee.min(),a=new Ot({mapValue:{fields:r.document.fields}}),l=mt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Cu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Oh(t,r.document),o=r.readTime?Fn(r.readTime):ee.min(),s=mt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Cu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Oh(t,r.document),o=r.removedTargetIds||[];n=new Cu([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new RO(i,o),a=r.targetId;n=new dI(a,s)}}return n}function VO(t,e){let n;if(e instanceof ml)n={update:M_(t,e.key,e.value)};else if(e instanceof pg)n={delete:hp(t,e.key)};else if(e instanceof ai)n={update:M_(t,e.key,e.data),updateMask:qO(e.fieldMask)};else{if(!(e instanceof TO))return Q();n={verify:hp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Va)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yc)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function FO(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Fn(i.updateTime):Fn(o);return s.isEqual(ee.min())&&(s=Fn(o)),new _O(s,i.transformResults||[])}(n,e))):[]}function UO(t,e){return{documents:[fp(t,e.path)]}}function jO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=fp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return yI(In.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Ji(d.field),direction:BO(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=dp(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function $O(t){let e=MO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=gI(d);return h instanceof In&&WT(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new Zs(Zi(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,pd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new gc(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new gc(m,h)}(n.endAt)),aO(e,i,s,o,a,"F",l,u)}function zO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zi(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zi(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zi(n.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zi(n.unaryFilter.field);return ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(Zi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(r=>gI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function BO(t){return kO[t]}function HO(t){return NO[t]}function WO(t){return DO[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Zi(t){return gt.fromServerFormat(t.fieldPath)}function yI(t){return t instanceof ze?function(n){if(n.op==="=="){if(E_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(w_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(w_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:HO(n.op),value:n.value}}}(t):t instanceof In?function(n){const r=n.getFilters().map(i=>yI(i));return r.length===1?r[0]:{compositeFilter:{op:WO(n.op),filters:r}}}(t):Q()}function qO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.ct=e}}function GO(t){const e=$O({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.sn=new YO}addToCollectionParentIndex(e,n){return this.sn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Yr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class YO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Go(0)}static On(){return new Go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.changes=new as(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ta(r.mutation,i,Bt.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Vs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=cr();const s=ea(),a=function(){return ea()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ai)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ta(c.mutation,u,c.mutation.getFieldMask(),Ge.now())):s.set(u.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new JO(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ea();let i=new Oe((s,a)=>s-a),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=tI();c.forEach(h=>{if(!o.has(h)){const m=lI(n.get(h),r.get(h));m!==null&&d.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(o){return W.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Ei());let a=-1,l=o;return s.next(u=>O.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,se())).next(c=>({batchId:a,changes:eI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=Vs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Vs();return this.indexManager.getCollectionParents(e,i).next(s=>O.forEach(s,a=>{const l=function(c,d){return new pl(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,mt.newInvalidDocument(u)))});let s=Vs();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&ta(u.mutation,l,Bt.empty(),Ge.now()),yd(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return O.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:GO(i.bundledQuery),readTime:Fn(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.overlays=new Oe(W.comparator),this.cr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.cr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Ei(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ei(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ei(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new SO(n,r));let o=this.cr.get(n);o===void 0&&(o=se(),this.cr.set(n,o)),this.cr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.lr=new _t(Ye.hr),this.Pr=new _t(Ye.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new Ye(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new Ye(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new W(new Re([])),r=new Ye(n,e),i=new Ye(n,e+1),o=[];return this.Pr.forEachInRange([r,i],s=>{this.Er(s),o.push(s.key)}),o}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new W(new Re([])),r=new Ye(n,e),i=new Ye(n,e+1);let o=se();return this.Pr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ye(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ye{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return W.comparator(e.key,n.key)||me(e.mr,n.mr)}static Ir(e,n){return me(e.mr,n.mr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new _t(Ye.hr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new IO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.pr=this.pr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ye(n,0),i=new Ye(n,Number.POSITIVE_INFINITY),o=[];return this.pr.forEachInRange([r,i],s=>{const a=this.yr(s.mr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(me);return n.forEach(i=>{const o=new Ye(i,0),s=new Ye(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([o,s],a=>{r=r.add(a.mr)})}),O.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const s=new Ye(new W(o),0);let a=new _t(me);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},s),O.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return O.forEach(n.mutations,i=>{const o=new Ye(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new Ye(n,0),i=this.pr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.Dr=e,this.docs=function(){return new Oe(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=cr();const s=n.path,a=new W(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||HD(BD(c),r)<=0||(i.has(c.key)||yd(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}vr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ib(this)}getSize(e){return O.resolve(this.size)}}class ib extends XO{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.persistence=e,this.Cr=new as(n=>cg(n),dg),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new _g,this.targetCount=0,this.Or=Go.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),O.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Ln(n),O.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Cr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.Nr={},this.overlays={},this.Br=new sg(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new ob(this),this.indexManager=new QO,this.remoteDocumentCache=function(i){return new rb(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new KO(n),this.Qr=new eb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new nb(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new ab(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(o=>this.referenceDelegate.$r(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ur(e,n){return O.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class ab extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Wr=new _g,this.Gr=null}static zr(e){return new wg(e)}get jr(){if(this.Gr)return this.Gr;throw Q()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.jr,r=>{const i=W.fromPath(r);return this.Hr(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return O.or([()=>O.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=se(),i=se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Eg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(o=>o||this.Ui(e,n,i,r)).next(o=>o||this.Wi(e,n))}$i(e,n){if(R_(n))return O.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=up(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=se(...o);return this.Ki.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,s,l.readTime)?this.$i(e,up(n,null,"F")):this.ji(e,u,n,l)}))})))}Ui(e,n,r,i){return R_(n)||i.isEqual(ee.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(o=>{const s=this.Gi(n,o);return this.zi(n,s,r,i)?this.Wi(e,n):(m_()<=pe.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cp(n)),this.ji(e,s,n,zD(i,-1)))})}Gi(e,n){let r=new _t(JT(e));return n.forEach((i,o)=>{yd(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Wi(e,n){return m_()<=pe.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",cp(n)),this.Ki.getDocumentsMatchingQuery(e,n,Yr.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(me),this.Yi=new as(o=>cg(o),dg),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function cb(t,e,n,r){return new ub(t,e,n,r)}async function _I(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=se();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:s,addedBatchIds:a}))})})}function db(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let m=O.resolve();return h.forEach(v=>{m=m.next(()=>c.getEntry(l,v)).next(w=>{const E=u.docVersions.get(v);Ae(E!==null),w.version.compareTo(E)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wI(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function hb(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.kr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.kr.addMatchingKeys(o,c.addedDocuments,d)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(It.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(w,E,f){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size>0}(h,m,c)&&a.push(n.kr.updateTargetData(o,m))});let l=cr(),u=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(fb(o,s,e.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(ee.min())){const c=n.kr.getLastRemoteSnapshotVersion(o).next(d=>n.kr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function fb(t,e,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=cr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:s,rs:i}})}function pb(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mb(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.kr.allocateTargetId(r).next(s=>(i=new Nr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function mp(t,e,n){const r=oe(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!fl(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function L_(t,e,n){const r=oe(t);let i=ee.min(),o=se();return r.persistence.runTransaction("Execute query","readonly",s=>function(l,u,c){const d=oe(l),h=d.Yi.get(c);return h!==void 0?O.resolve(d.Ji.get(h)):d.kr.getTargetData(u,c)}(r,s,ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:se())).next(a=>(gb(r,lO(e),a),{documents:a,ss:o})))}function gb(t,e,n){let r=t.Zi.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Zi.set(e,r)}class V_{constructor(){this.activeTargetIds=pO()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yb{constructor(){this.Hs=new V_,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new V_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru=null;function bh(){return ru===null?ru=function(){return 268435456+Math.round(2147483648*Math.random())}():ru++,"0x"+ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="WebChannelConnection";class Eb extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http";this.To=r+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,r,i,o,s){const a=bh(),l=this.Vo(n,r);j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={};return this.mo(u,o,s),this.fo(n,l,u,i).then(c=>(j("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw zo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}po(n,r,i,o,s,a){return this.Ro(n,r,i,o,s)}mo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ss}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Vo(n,r){const i=_b[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,n,r,i){const o=bh();return new Promise((s,a)=>{const l=new ND;l.setWithCredentials(!0),l.listenOnce(PD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dh.NO_ERROR:const c=l.getResponseJson();j(dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Dh.TIMEOUT:j(dt,`RPC '${e}' ${o} timed out`),a(new L(P.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const d=l.getStatus();if(j(dt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const v=function(E){const f=E.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(f)>=0?f:P.UNKNOWN}(m.status);a(new L(v,m.message))}else a(new L(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(P.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{j(dt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);j(dt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}yo(e,n,r){const i=bh(),o=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=CD(),a=AD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new kD({})),this.mo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");j(dt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,m=!1;const v=new wb({so:E=>{m?j(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(j(dt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),j(dt,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},oo:()=>d.close()}),w=(E,f,p)=>{E.listen(f,_=>{try{p(_)}catch(g){setTimeout(()=>{throw g},0)}})};return w(d,Zl.EventType.OPEN,()=>{m||j(dt,`RPC '${e}' stream ${i} transport opened.`)}),w(d,Zl.EventType.CLOSE,()=>{m||(m=!0,j(dt,`RPC '${e}' stream ${i} transport closed`),v.Po())}),w(d,Zl.EventType.ERROR,E=>{m||(m=!0,zo(dt,`RPC '${e}' stream ${i} transport errored:`,E),v.Po(new L(P.UNAVAILABLE,"The operation could not be completed")))}),w(d,Zl.EventType.MESSAGE,E=>{var f;if(!m){const p=E.data[0];Ae(!!p);const _=p,g=_.error||((f=_[0])===null||f===void 0?void 0:f.error);if(g){j(dt,`RPC '${e}' stream ${i} received error:`,g);const A=g.status;let k=function(H){const B=Fe[H];if(B!==void 0)return cI(B)}(A),I=g.message;k===void 0&&(k=P.INTERNAL,I="Unknown error status: "+A+" with message "+g.message),m=!0,v.Po(new L(k,I)),d.close()}else j(dt,`RPC '${e}' stream ${i} received:`,p),v.Io(p)}}),w(a,xD.STAT_EVENT,E=>{E.stat===f_.PROXY?j(dt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===f_.NOPROXY&&j(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.ho()},0),v}}function Mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return new OO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.wo=r,this.So=i,this.bo=o,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,i,o,s,a,l){this.ii=e,this.No=r,this.Bo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new EI(e,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,e!==4?this.Qo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Lo===n&&this.Xo(r,i)},r=>{e(()=>{const i=new L(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.e_(i)})})}Xo(e,n){const r=this.Zo(this.Lo);this.stream=this.t_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.e_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return n=>{this.ii.enqueueAndForget(()=>this.Lo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tb extends TI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}t_(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.Qo.reset();const n=LO(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Fn(s.readTime):ee.min()}(e);return this.listener.n_(n,r)}r_(e){const n={};n.database=pp(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=ap(l)?{documents:UO(o,l)}:{query:jO(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fI(o,s.resumeToken);const u=dp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=vc(o,s.snapshotVersion.toTimestamp());const u=dp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=zO(this.serializer,e);r&&(n.labels=r),this.jo(n)}i_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.jo(n)}}class Ib extends TI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const n=FO(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.a_(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=pp(this.serializer),this.jo(e)}__(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VO(this.serializer,r))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.l_=!1}h_(){if(this.l_)throw new L(P.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Ro(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(P.UNKNOWN,i.toString())})}po(e,n,r,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.po(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(P.UNKNOWN,o.toString())})}terminate(){this.l_=!0}}class Rb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,e==="Online"&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(lr(n),this.E_=!1):j("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=o,this.w_.Ys(s=>{r.enqueueAndForget(async()=>{qi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.p_.add(4),await yl(u),u.S_.set("Unknown"),u.p_.delete(4),await Td(u)}(this))})}),this.S_=new Rb(r,i)}}async function Td(t){if(qi(t))for(const e of t.y_)await e(!0)}async function yl(t){for(const e of t.y_)await e(!1)}function II(t,e){const n=oe(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),Sg(n)?Ig(n):ls(n).$o()&&Tg(n,e))}function SI(t,e){const n=oe(t),r=ls(n);n.g_.delete(e),r.$o()&&RI(n,e),n.g_.size===0&&(r.$o()?r.Go():qi(n)&&n.S_.set("Unknown"))}function Tg(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ls(t).r_(e)}function RI(t,e){t.b_.Be(e),ls(t).i_(e)}function Ig(t){t.b_=new xO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),ls(t).start(),t.S_.d_()}function Sg(t){return qi(t)&&!ls(t).Ko()&&t.g_.size>0}function qi(t){return oe(t).p_.size===0}function CI(t){t.b_=void 0}async function Ab(t){t.g_.forEach((e,n)=>{Tg(t,e)})}async function Pb(t,e){CI(t),Sg(t)?(t.S_.V_(e),Ig(t)):t.S_.set("Unknown")}async function xb(t,e,n){if(t.S_.set("Online"),e instanceof hI&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.g_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.g_.delete(a),i.b_.removeTarget(a))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _c(t,r)}else if(e instanceof Cu?t.b_.We(e):e instanceof dI?t.b_.Ze(e):t.b_.je(e),!n.isEqual(ee.min()))try{const r=await wI(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.b_.st(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.g_.get(u);c&&o.g_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.g_.get(l);if(!c)return;o.g_.set(l,c.withResumeToken(It.EMPTY_BYTE_STRING,c.snapshotVersion)),RI(o,l);const d=new Nr(c.target,l,u,c.sequenceNumber);Tg(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await _c(t,r)}}async function _c(t,e,n){if(!fl(e))throw e;t.p_.add(1),await yl(t),t.S_.set("Offline"),n||(n=()=>wI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await Td(t)})}function AI(t,e){return e().catch(n=>_c(t,n,e))}async function Id(t){const e=oe(t),n=Jr(e);let r=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;kb(e);)try{const i=await pb(e.localStore,r);if(i===null){e.f_.length===0&&n.Go();break}r=i.batchId,Nb(e,i)}catch(i){await _c(e,i)}PI(e)&&xI(e)}function kb(t){return qi(t)&&t.f_.length<10}function Nb(t,e){t.f_.push(e);const n=Jr(t);n.$o()&&n.o_&&n.__(e.mutations)}function PI(t){return qi(t)&&!Jr(t).Ko()&&t.f_.length>0}function xI(t){Jr(t).start()}async function Db(t){Jr(t).c_()}async function Ob(t){const e=Jr(t);for(const n of t.f_)e.__(n.mutations)}async function bb(t,e,n){const r=t.f_.shift(),i=mg.from(r,e,n);await AI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Id(t)}async function Mb(t,e){e&&Jr(t).o_&&await async function(r,i){if(function(s){return CO(s)&&s!==P.ABORTED}(i.code)){const o=r.f_.shift();Jr(r).Wo(),await AI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Id(r)}}(t,e),PI(t)&&xI(t)}async function U_(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=qi(n);n.p_.add(3),await yl(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await Td(n)}async function Lb(t,e){const n=oe(t);e?(n.p_.delete(2),await Td(n)):e||(n.p_.add(2),await yl(n),n.S_.set("Unknown"))}function ls(t){return t.D_||(t.D_=function(n,r,i){const o=oe(n);return o.h_(),new Tb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:Ab.bind(null,t),uo:Pb.bind(null,t),n_:xb.bind(null,t)}),t.y_.push(async e=>{e?(t.D_.Wo(),Sg(t)?Ig(t):t.S_.set("Unknown")):(await t.D_.stop(),CI(t))})),t.D_}function Jr(t){return t.v_||(t.v_=function(n,r,i){const o=oe(n);return o.h_(),new Ib(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:Db.bind(null,t),uo:Mb.bind(null,t),u_:Ob.bind(null,t),a_:bb.bind(null,t)}),t.y_.push(async e=>{e?(t.v_.Wo(),await Id(t)):(await t.v_.stop(),t.f_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Rg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(t,e){if(lr("AsyncQueue",`${e}: ${t}`),fl(t))return new L(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Vs(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new No(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.C_=new Oe(W.comparator)}track(e){const n=e.doc.key,r=this.C_.get(n);r?e.type!==0&&r.type===3?this.C_=this.C_.insert(n,e):e.type===3&&r.type!==1?this.C_=this.C_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.C_=this.C_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.C_=this.C_.remove(n):e.type===1&&r.type===2?this.C_=this.C_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):Q():this.C_=this.C_.insert(n,e)}F_(){const e=[];return this.C_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Qo(e,n,No.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.M_=void 0,this.listeners=[]}}class Fb{constructor(){this.queries=new as(e=>XT(e),gd),this.onlineState="Unknown",this.x_=new Set}}async function Ag(t,e){const n=oe(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Vb),i)try{o.M_=await n.onListen(r)}catch(s){const a=Cg(s,`Initialization of query '${cp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.O_(n.onlineState),o.M_&&e.N_(o.M_)&&xg(n)}async function Pg(t,e){const n=oe(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ub(t,e){const n=oe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.N_(i)&&(r=!0);s.M_=i}}r&&xg(n)}function jb(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function xg(t){t.x_.forEach(e=>{e.next()})}class kg{constructor(e,n,r){this.query=e,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}N_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.L_?this.q_(e)&&(this.B_.next(e),n=!0):this.Q_(e,this.onlineState)&&(this.K_(e),n=!0),this.k_=e,n}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),n=!0),n}Q_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.U_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}q_(e){if(e.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.key=e}}class NI{constructor(e){this.key=e}}class $b{constructor(e,n){this.query=e,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=se(),this.mutatedKeys=se(),this.ta=JT(e),this.na=new No(this.ta)}get ra(){return this.Z_}ia(e,n){const r=n?n.sa:new j_,i=n?n.na:this.na;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),m=yd(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),E=!0):this.oa(h,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.ta(m,l)>0||u&&this.ta(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(m?(s=s.add(m),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{na:s,sa:r,zi:a,mutatedKeys:o}}oa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const o=e.sa.F_();o.sort((u,c)=>function(h,m){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return v(h)-v(m)}(u.type,c.type)||this.ta(u.doc,c.doc)),this._a(r);const s=n?this.aa():[],a=this.ea.size===0&&this.current?1:0,l=a!==this.X_;return this.X_=a,o.length!==0||l?{snapshot:new Qo(this.query,e.na,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ua:s}:{ua:s}}O_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new j_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=se(),this.na.forEach(r=>{this.ca(r.key)&&(this.ea=this.ea.add(r.key))});const n=[];return e.forEach(r=>{this.ea.has(r)||n.push(new NI(r))}),this.ea.forEach(r=>{e.has(r)||n.push(new kI(r))}),n}la(e){this.Z_=e.ss,this.ea=se();const n=this.ia(e.documents);return this.applyChanges(n,!0)}ha(){return Qo.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class zb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Bb{constructor(e){this.key=e,this.Pa=!1}}class Hb{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ia={},this.Ta=new as(a=>XT(a),gd),this.Ea=new Map,this.da=new Set,this.Aa=new Oe(W.comparator),this.Ra=new Map,this.Va=new _g,this.ma={},this.fa=new Map,this.ga=Go.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function Wb(t,e){const n=tM(t);let r,i;const o=n.Ta.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ha();else{const s=await mb(n.localStore,ur(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await qb(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&II(n.remoteStore,s)}return i}async function qb(t,e,n,r,i){t.ya=(d,h,m)=>async function(w,E,f,p){let _=E.view.ia(f);_.zi&&(_=await L_(w.localStore,E.query,!1).then(({documents:k})=>E.view.ia(k,_)));const g=p&&p.targetChanges.get(E.targetId),A=E.view.applyChanges(_,w.isPrimaryClient,g);return z_(w,E.targetId,A.ua),A.snapshot}(t,d,h,m);const o=await L_(t.localStore,e,!0),s=new $b(e,o.ss),a=s.ia(o.documents),l=gl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);z_(t,n,u.ua);const c=new zb(e,n,s);return t.Ta.set(e,c),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),u.snapshot}async function Kb(t,e){const n=oe(t),r=n.Ta.get(e),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter(o=>!gd(o,e))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),SI(n.remoteStore,r.targetId),gp(n,r.targetId)}).catch(hl)):(gp(n,r.targetId),await mp(n.localStore,r.targetId,!0))}async function Gb(t,e,n){const r=nM(t);try{const i=await function(s,a){const l=oe(s),u=Ge.now(),c=a.reduce((m,v)=>m.add(v.key),se());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=cr(),w=se();return l.Xi.getEntries(m,c).next(E=>{v=E,v.forEach((f,p)=>{p.isValidDocument()||(w=w.add(f))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(E=>{d=E;const f=[];for(const p of a){const _=EO(p,d.get(p.key).overlayedDocument);_!=null&&f.push(new ai(p.key,_,zT(_.value.mapValue),sn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,f,a)}).next(E=>{h=E;const f=E.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(m,E.batchId,f)})}).then(()=>({batchId:h.batchId,changes:eI(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.ma[s.currentUser.toKey()];u||(u=new Oe(me)),u=u.insert(a,l),s.ma[s.currentUser.toKey()]=u}(r,i.batchId,n),await vl(r,i.changes),await Id(r.remoteStore)}catch(i){const o=Cg(i,"Failed to persist write");n.reject(o)}}async function DI(t,e){const n=oe(t);try{const r=await hb(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ra.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Pa=!0:i.modifiedDocuments.size>0?Ae(s.Pa):i.removedDocuments.size>0&&(Ae(s.Pa),s.Pa=!1))}),await vl(n,r,e)}catch(r){await hl(r)}}function $_(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ta.forEach((o,s)=>{const a=s.view.O_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=oe(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.O_(a)&&(u=!0)}),u&&xg(l)}(r.eventManager,e),i.length&&r.Ia.n_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Qb(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ra.get(e),o=i&&i.key;if(o){let s=new Oe(W.comparator);s=s.insert(o,mt.newNoDocument(o,ee.min()));const a=se().add(o),l=new wd(ee.min(),new Map,new Oe(me),s,a);await DI(r,l),r.Aa=r.Aa.remove(o),r.Ra.delete(e),Ng(r)}else await mp(r.localStore,e,!1).then(()=>gp(r,e,n)).catch(hl)}async function Yb(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await db(n.localStore,e);bI(n,r,null),OI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vl(n,i)}catch(i){await hl(i)}}async function Xb(t,e,n){const r=oe(t);try{const i=await function(s,a){const l=oe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ae(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);bI(r,e,n),OI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vl(r,i)}catch(i){await hl(i)}}function OI(t,e){(t.fa.get(e)||[]).forEach(n=>{n.resolve()}),t.fa.delete(e)}function bI(t,e,n){const r=oe(t);let i=r.ma[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.ma[r.currentUser.toKey()]=i}}function gp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ea.get(e))t.Ta.delete(r),n&&t.Ia.wa(r,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach(r=>{t.Va.containsKey(r)||MI(t,r)})}function MI(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);n!==null&&(SI(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),Ng(t))}function z_(t,e,n){for(const r of n)r instanceof kI?(t.Va.addReference(r.key,e),Jb(t,r)):r instanceof NI?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Va.removeReference(r.key,e),t.Va.containsKey(r.key)||MI(t,r.key)):Q()}function Jb(t,e){const n=e.key,r=n.path.canonicalString();t.Aa.get(n)||t.da.has(r)||(j("SyncEngine","New document in limbo: "+n),t.da.add(r),Ng(t))}function Ng(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new W(Re.fromString(e)),r=t.ga.next();t.Ra.set(r,new Bb(n)),t.Aa=t.Aa.insert(n,r),II(t.remoteStore,new Nr(ur(md(n.path)),r,"TargetPurposeLimboResolution",sg.ae))}}async function vl(t,e,n){const r=oe(t),i=[],o=[],s=[];r.Ta.isEmpty()||(r.Ta.forEach((a,l)=>{s.push(r.ya(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Eg.qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Ia.n_(i),await async function(l,u){const c=oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>O.forEach(u,h=>O.forEach(h.Li,m=>c.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>O.forEach(h.ki,m=>c.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!fl(d))throw d;j("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const m=c.Ji.get(h),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);c.Ji=c.Ji.insert(h,w)}}}(r.localStore,o))}async function Zb(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await _I(n.localStore,e);n.currentUser=e,function(o,s){o.fa.forEach(a=>{a.forEach(l=>{l.reject(new L(P.CANCELLED,s))})}),o.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vl(n,r.ts)}}function eM(t,e){const n=oe(t),r=n.Ra.get(e);if(r&&r.Pa)return se().add(r.key);{let i=se();const o=n.Ea.get(e);if(!o)return i;for(const s of o){const a=n.Ta.get(s);i=i.unionWith(a.view.ra)}return i}}function tM(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qb.bind(null,e),e.Ia.n_=Ub.bind(null,e.eventManager),e.Ia.wa=jb.bind(null,e.eventManager),e}function nM(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xb.bind(null,e),e}class B_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return cb(this.persistence,new lb,e.initialUser,this.serializer)}createPersistence(e){return new sb(wg.zr,this.serializer)}createSharedClientState(e){return new yb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zb.bind(null,this.syncEngine),await Lb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Fb}()}createDatastore(e){const n=Ed(e.databaseInfo.databaseId),r=function(o){return new Eb(o)}(e.databaseInfo);return function(o,s,a,l){return new Sb(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Cb(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$_(this.syncEngine,n,0),function(){return F_.v()?new F_:new vb}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new Hb(i,o,s,a,l,u);return c&&(d.pa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=oe(n);j("RemoteStore","RemoteStore shutting down."),r.p_.add(5),await yl(r),r.w_.shutdown(),r.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=UT.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{j("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lh(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _I(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function H_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sM(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>U_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>U_(e.remoteStore,o)),t._onlineComponents=e}function oM(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!oM(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await Lh(t,new B_)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await Lh(t,new B_);return t._offlineComponents}async function LI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await H_(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await H_(t,new rM))),t._onlineComponents}function aM(t){return LI(t).then(e=>e.syncEngine)}async function wc(t){const e=await LI(t),n=e.eventManager;return n.onListen=Wb.bind(null,e.syncEngine),n.onUnlisten=Kb.bind(null,e.syncEngine),n}function lM(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Dg({next:h=>{s.enqueueAndForget(()=>Pg(o,d));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new L(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new L(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new kg(md(a.path),c,{includeMetadataChanges:!0,U_:!0});return Ag(o,d)}(await wc(t),t.asyncQueue,e,n,r)),r.promise}function uM(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Dg({next:h=>{s.enqueueAndForget(()=>Pg(o,d)),h.fromCache&&l.source==="server"?u.reject(new L(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new kg(a,c,{includeMetadataChanges:!0,U_:!0});return Ag(o,d)}(await wc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e,n){if(!n)throw new L(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cM(t,e,n,r){if(e===!0&&r===!0)throw new L(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function q_(t){if(!W.isDocumentKey(t))throw new L(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K_(t){if(W.isDocumentKey(t))throw new L(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Ft(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sd(t);throw new L(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OD;switch(r.type){case"firstParty":return new VD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W_.get(n);r&&(j("ComponentProvider","Removing Datastore"),W_.delete(n),r.terminate())}(this),Promise.resolve()}}function dM(t,e,n,r={}){var i;const o=(t=Ft(t,Rd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ft.MOCK_USER;else{a=GP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ft(u)}t._authCredentials=new bD(new FT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}}class Hr extends Ki{constructor(e,n,r){super(e,n,md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new W(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function UI(t,e,...n){if(t=lt(t),FI("collection","path",e),t instanceof Rd){const r=Re.fromString(e,...n);return K_(r),new Hr(t,null,r)}{if(!(t instanceof wt||t instanceof Hr))throw new L(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return K_(r),new Hr(t.firestore,null,r)}}function Be(t,e,...n){if(t=lt(t),arguments.length===1&&(e=UT.V()),FI("doc","path",e),t instanceof Rd){const r=Re.fromString(e,...n);return q_(r),new wt(t,null,new W(r))}{if(!(t instanceof wt||t instanceof Hr))throw new L(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return q_(r),new wt(t.firestore,t instanceof Hr?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new EI(this,"async_queue_retry"),this.Za=()=>{const n=Mh();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const e=Mh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const n=Mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new er;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!fl(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(e){const n=this.Ua.then(()=>(this.Ha=!0,e().catch(r=>{this.ja=r,this.Ha=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ha=!1,r))));return this.Ua=n,n}enqueueAfterDelay(e,n,r){this.Xa(),this.Ya.indexOf(e)>-1&&(n=0);const i=Rg.createAndSchedule(this,e,n,r,o=>this.nu(o));return this.za.push(i),i}Xa(){this.ja&&Q()}verifyOperationInProgress(){}async ru(){let e;do e=this.Ua,await e;while(e!==this.Ua)}iu(e){for(const n of this.za)if(n.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.za)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const n=this.za.indexOf(e);this.za.splice(n,1)}}function Q_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class dr extends Rd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new hM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jI(this),this._firestoreClient.terminate()}}function fM(t,e){const n=typeof t=="object"?t:YE(),r=typeof t=="string"?t:e||"(default)",i=Am(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=qP("firestore");o&&dM(i,...o)}return i}function Cd(t){return t._firestoreClient||jI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jI(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new QD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,VI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new iM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(It.fromBase64String(e))}catch(n){throw new L(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yo(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=/^__.*__$/;class mM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}class $I{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Pd{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._u(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new Pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i.hu(e),i}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i._u(),i}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return Ec(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(e.length===0)throw this.Tu("Document fields must not be empty");if(zI(this.au)&&pM.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class gM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(e)}Au(e,n,r,i=!1){return new Pd({au:e,methodName:n,du:r,path:gt.emptyPath(),lu:!1,Eu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(t){const e=t._freezeSettings(),n=Ed(t._databaseId);return new gM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BI(t,e,n,r,i,o={}){const s=t.Au(o.merge||o.mergeFields?2:0,e,n,i);Mg("Data must be an object, but it was:",s,r);const a=WI(r,s);let l,u;if(o.merge)l=new Bt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=yp(e,d,n);if(!s.contains(h))throw new L(P.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KI(c,h)||c.push(h)}l=new Bt(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new mM(new Ot(a),l,u)}class kd extends us{_toFieldTransform(e){if(e.au!==2)throw e.au===1?e.Tu(`${this._methodName}() can only appear at the top level of your update data`):e.Tu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function HI(t,e,n){return new Pd({au:3,du:e.settings.du,methodName:t._methodName,lu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bg extends us{_toFieldTransform(e){return new fg(e.path,new Va)}isEqual(e){return e instanceof bg}}class yM extends us{constructor(e,n){super(e),this.Ru=n}_toFieldTransform(e){const n=HI(this,e,!0),r=this.Ru.map(o=>Gi(o,n)),i=new qo(r);return new fg(e.path,i)}isEqual(e){return this===e}}class vM extends us{constructor(e,n){super(e),this.Ru=n}_toFieldTransform(e){const n=HI(this,e,!0),r=this.Ru.map(o=>Gi(o,n)),i=new Ko(r);return new fg(e.path,i)}isEqual(e){return this===e}}function _M(t,e,n,r){const i=t.Au(1,e,n);Mg("Data must be an object, but it was:",i,r);const o=[],s=Ot.empty();Wi(r,(l,u)=>{const c=Lg(e,l,n);u=lt(u);const d=i.Pu(c);if(u instanceof kd)o.push(c);else{const h=Gi(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Bt(o);return new $I(s,a,i.fieldTransforms)}function wM(t,e,n,r,i,o){const s=t.Au(1,e,n),a=[yp(e,r,n)],l=[i];if(o.length%2!=0)throw new L(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(yp(e,o[h])),l.push(o[h+1]);const u=[],c=Ot.empty();for(let h=a.length-1;h>=0;--h)if(!KI(u,a[h])){const m=a[h];let v=l[h];v=lt(v);const w=s.Pu(m);if(v instanceof kd)u.push(m);else{const E=Gi(v,w);E!=null&&(u.push(m),c.set(m,E))}}const d=new Bt(u);return new $I(c,d,s.fieldTransforms)}function EM(t,e,n,r=!1){return Gi(n,t.Au(r?4:3,e))}function Gi(t,e){if(qI(t=lt(t)))return Mg("Unsupported field value:",e,t),WI(t,e);if(t instanceof us)return function(r,i){if(!zI(i.au))throw i.Tu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&e.au!==4)throw e.Tu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Gi(a,i.Iu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ge.fromDate(r);return{timestampValue:vc(i.serializer,o)}}if(r instanceof Ge){const o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vc(i.serializer,o)}}if(r instanceof Og)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yo)return{bytesValue:fI(i.serializer,r._byteString)};if(r instanceof wt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Tu(`Unsupported field value: ${Sd(r)}`)}(t,e)}function WI(t,e){const n={};return jT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,(r,i)=>{const o=Gi(i,e.cu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function qI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Og||t instanceof Yo||t instanceof wt||t instanceof us)}function Mg(t,e,n){if(!qI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sd(n);throw r==="an object"?e.Tu(t+" a custom object"):e.Tu(t+" "+r)}}function yp(t,e,n){if((e=lt(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return Lg(t,e);throw Ec("Field path arguments must be of type string or ",t,!1,void 0,n)}const TM=new RegExp("[~\\*/\\[\\]]");function Lg(t,e,n){if(e.search(TM)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ad(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ec(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new L(P.INVALID_ARGUMENT,a+t+l)}function KI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IM extends GI{data(){return super.data()}}function Vg(t,e){return typeof e=="string"?Lg(t,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class SM extends Fg{}function cs(t,e,...n){let r=[];e instanceof Fg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof ds).length,a=o.filter(l=>l instanceof _l).length;if(s>1||s>0&&a>0)throw new L(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _l extends SM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _l(e,n,r)}_apply(e){const n=this._parse(e);return YI(e._query,n),new Ki(e.firestore,e.converter,lp(e._query,n))}_parse(e){const n=xd(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){J_(d,c);const m=[];for(const v of d)m.push(X_(l,o,v));h={arrayValue:{values:m}}}else h=X_(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||J_(d,c),h=EM(a,s,d,c==="in"||c==="not-in");return ze.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jn(t,e,n){const r=e,i=Vg("where",t);return _l._create(i,r,n)}class ds extends Fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ds(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)YI(s,l),s=lp(s,l)}(e._query,n),new Ki(e.firestore,e.converter,lp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function RM(...t){return t.forEach(e=>XI("or",e)),ds._create("or",t)}function Y_(...t){return t.forEach(e=>XI("and",e)),ds._create("and",t)}function X_(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new L(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YT(e)&&n.indexOf("/")!==-1)throw new L(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!W.isDocumentKey(r))throw new L(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return __(t,new W(r))}if(n instanceof wt)return __(t,n._key);throw new L(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sd(n)}.`)}function J_(t,e){if(!Array.isArray(t)||t.length===0)throw new L(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YI(t,e){if(e.isInequality()){const r=hg(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new L(P.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=QT(t);o!==null&&CM(t,i,o)}const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function CM(t,e,n){if(!n.isEqual(e))throw new L(P.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function XI(t,e){if(!(e instanceof _l||e instanceof ds))throw new L(P.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class AM{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Og(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);Ae(vI(r));const i=new Ma(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZI extends GI{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Au extends ZI{data(e={}){return super.data(e)}}class eS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Au(this._firestore,this._userDataWriter,r.key,r,new Us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Au(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Us(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Au(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Us(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:PM(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){t=Ft(t,wt);const e=Ft(t.firestore,dr);return lM(Cd(e),t._key).then(n=>iS(e,t,n))}class Ug extends AM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function tS(t){t=Ft(t,Ki);const e=Ft(t.firestore,dr),n=Cd(e),r=new Ug(e);return QI(t._query),uM(n,t._query).then(i=>new eS(e,r,t,i))}function xM(t,e,n){t=Ft(t,wt);const r=Ft(t.firestore,dr),i=JI(t.converter,e,n);return Dd(r,[BI(xd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sn.none())])}function At(t,e,n,...r){t=Ft(t,wt);const i=Ft(t.firestore,dr),o=xd(i);let s;return s=typeof(e=lt(e))=="string"||e instanceof Ad?wM(o,"updateDoc",t._key,e,n,r):_M(o,"updateDoc",t._key,e),Dd(i,[s.toMutation(t._key,sn.exists(!0))])}function nS(t){return Dd(Ft(t.firestore,dr),[new pg(t._key,sn.none())])}function rS(t,e){const n=Ft(t.firestore,dr),r=Be(t),i=JI(t.converter,e);return Dd(n,[BI(xd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sn.exists(!1))]).then(()=>r)}function Nd(t,...e){var n,r,i;t=lt(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||Q_(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Q_(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof wt)u=Ft(t.firestore,dr),c=md(t._key.path),l={next:d=>{e[s]&&e[s](iS(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Ft(t,Ki);u=Ft(d.firestore,dr),c=d._query;const h=new Ug(u);l={next:m=>{e[s]&&e[s](new eS(u,h,d,m))},error:e[s+1],complete:e[s+2]},QI(t._query)}return function(h,m,v,w){const E=new Dg(w),f=new kg(m,E,v);return h.asyncQueue.enqueueAndForget(async()=>Ag(await wc(h),f)),()=>{E.va(),h.asyncQueue.enqueueAndForget(async()=>Pg(await wc(h),f))}}(Cd(u),c,a,l)}function Dd(t,e){return function(r,i){const o=new er;return r.asyncQueue.enqueueAndForget(async()=>Gb(await aM(r),i,o)),o.promise}(Cd(t),e)}function iS(t,e,n){const r=n.docs.get(e._key),i=new Ug(t);return new ZI(t,i,e._key,r,new Us(n.hasPendingWrites,n.fromCache),e.converter)}function Ui(){return new bg("serverTimestamp")}function Tc(...t){return new yM("arrayUnion",t)}function kM(...t){return new vM("arrayRemove",t)}(function(e,n=!0){(function(i){ss=i})(rs),Uo(new Oi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new dr(new MD(r.getProvider("auth-internal")),new UD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new L(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Br(p_,"4.0.0",e),Br(p_,"4.0.0","esm2017")})();const NM={apiKey:"AIzaSyBmBIk0-qSvkGSUSAs46Uxsw4mRtbrxinI",authDomain:"mario-off.firebaseapp.com",projectId:"mario-off",storageBucket:"mario-off.appspot.com",messagingSenderId:"940790753598",appId:"1:940790753598:web:f1a676270a7d4256c9a46f"},DM=QE(NM),Ve=fM(DM),jg=UI(Ve,"competitions"),El=UI(Ve,"userInfo"),OM=Jc();var vp=!1;I1(OM,async t=>{t?vp=!0:vp=!1});async function bM(){return vp}async function MM(t){const e={username:"",profilePic:t.photoURL,userid:t.uid,friends:[]},n=await rS(El,e);await At(n,{username:n.id})}async function LM(t,e){const n=cs(El,Jn("userid","==",t));await Nd(n,r=>{const i=r.docs.map(o=>({...o.data()}))[0];e(i)})}async function Xo(t){const e=await cs(El,Jn("userid","==",t));return(await tS(e)).docs.map(i=>({...i.data()}))[0]}async function VM(t){try{if(!t.username)throw"Username needs to filled";if(t.username==t.myInfo.username&&t.profilePic==t.myInfo.profilePic)throw"Nothing's changed";const n=Be(Ve,"userInfo",t.username),i=(await wl(n)).data();if(i&&i.userid!=t.myInfo.userid)throw"Username taken"}catch(n){return n}const e={...t.myInfo,username:t.username,profilePic:t.profilePic};if(t.myInfo.username!=e.username){const n=Be(Ve,"userInfo",t.myInfo.username);await nS(n),await xM(Be(Ve,"userInfo",e.username),e)}else{const n=Be(Ve,"userInfo",t.myInfo.username);await At(n,e)}return null}var oS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Z_=ue.createContext&&ue.createContext(oS),Wr=globalThis&&globalThis.__assign||function(){return Wr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wr.apply(this,arguments)},FM=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function sS(t){return t&&t.map(function(e,n){return ue.createElement(e.tag,Wr({key:n},e.attr),sS(e.child))})}function li(t){return function(e){return ue.createElement(UM,Wr({attr:Wr({},t.attr)},e),sS(t.child))}}function UM(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=FM(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ue.createElement("svg",Wr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Wr(Wr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ue.createElement("title",null,o),t.children)};return Z_!==void 0?ue.createElement(Z_.Consumer,null,function(n){return e(n)}):e(oS)}function jM(t){return li({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]})(t)}function $M(t){return li({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]})(t)}function zM(t){return li({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attr:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 0 0-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]})(t)}function BM(t){return li({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(t)}function Fa(t){return li({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0112.28 0C16.43 19.18 14.03 20 12 20z"}}]})(t)}function HM(t){return li({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5zm10.79-1.38a9.947 9.947 0 00-12.28 0A7.957 7.957 0 014 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12z"}},{tag:"path",attr:{d:"M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"}}]})(t)}var aS={},lS={exports:{}},WM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qM=WM,KM=qM;function uS(){}function cS(){}cS.resetWarningCache=uS;var GM=function(){function t(r,i,o,s,a,l){if(l!==KM){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cS,resetWarningCache:uS};return n.PropTypes=n,n};lS.exports=GM();var $g=lS.exports,zg={};/*!
 * html-attributes
 * https://github.com/alexmingoia/html-attributes
 */var QM={abbr:"abbr",accept:"accept",acceptCharset:"accept-charset",accessKey:"accesskey",action:"action",allowFullScreen:"allowfullscreen",allowTransparency:"allowtransparency",alt:"alt",async:"async",autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",cellPadding:"cellpadding",cellSpacing:"cellspacing",challenge:"challenge",charset:"charset",checked:"checked",cite:"cite",class:"class",className:"class",cols:"cols",colSpan:"colspan",command:"command",content:"content",contentEditable:"contenteditable",contextMenu:"contextmenu",controls:"controls",coords:"coords",crossOrigin:"crossorigin",data:"data",dateTime:"datetime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",dropzone:"dropzone",encType:"enctype",for:"for",form:"form",formAction:"formaction",formEncType:"formenctype",formMethod:"formmethod",formNoValidate:"formnovalidate",formTarget:"formtarget",frameBorder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hrefLang:"hreflang",htmlFor:"for",httpEquiv:"http-equiv",icon:"icon",id:"id",inputMode:"inputmode",isMap:"ismap",itemId:"itemid",itemProp:"itemprop",itemRef:"itemref",itemScope:"itemscope",itemType:"itemtype",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",manifest:"manifest",max:"max",maxLength:"maxlength",media:"media",mediaGroup:"mediagroup",method:"method",min:"min",minLength:"minlength",multiple:"multiple",muted:"muted",name:"name",noValidate:"novalidate",open:"open",optimum:"optimum",pattern:"pattern",ping:"ping",placeholder:"placeholder",poster:"poster",preload:"preload",radioGroup:"radiogroup",readOnly:"readonly",rel:"rel",required:"required",role:"role",rows:"rows",rowSpan:"rowspan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",sortable:"sortable",span:"span",spellCheck:"spellcheck",src:"src",srcDoc:"srcdoc",srcSet:"srcset",start:"start",step:"step",style:"style",tabIndex:"tabindex",target:"target",title:"title",translate:"translate",type:"type",typeMustMatch:"typemustmatch",useMap:"usemap",value:"value",width:"width",wmode:"wmode",wrap:"wrap"};Object.defineProperty(zg,"__esModule",{value:!0});zg.default=tL;var YM=QM,XM=JM(YM);function JM(t){return t&&t.__esModule?t:{default:t}}var ZM={onCopy:!0,onCut:!0,onPaste:!0,onLoad:!0,onError:!0,onWheel:!0,onScroll:!0,onCompositionEnd:!0,onCompositionStart:!0,onCompositionUpdate:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onFocus:!0,onBlur:!0,onChange:!0,onInput:!0,onSubmit:!0,onClick:!0,onContextMenu:!0,onDoubleClick:!0,onDrag:!0,onDragEnd:!0,onDragEnter:!0,onDragExit:!0,onDragLeave:!0,onDragOver:!0,onDragStart:!0,onDrop:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOut:!0,onMouseOver:!0,onMouseUp:!0,onSelect:!0,onTouchCancel:!0,onTouchEnd:!0,onTouchMove:!0,onTouchStart:!0,onAnimationStart:!0,onAnimationEnd:!0,onAnimationIteration:!0,onTransitionEnd:!0};function eL(t){return ZM[t]||XM.default[t]}function tL(t){var e={};for(var n in t)t.hasOwnProperty(n)&&eL(n)&&(e[n]=t[n]);return e}Object.defineProperty(aS,"__esModule",{value:!0});var nL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rL=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),iL=$g,dn=Bg(iL),dS=x,oL=Bg(dS),sL=zg,aL=Bg(sL);function Bg(t){return t&&t.__esModule?t:{default:t}}function lL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Od=function(t){cL(e,t);function e(n){lL(this,e);var r=uL(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.state={imageSource:null},r.setDisplayImage=r.setDisplayImage.bind(r),r.handleInitialTimeout=r.handleInitialTimeout.bind(r),r.isLoaded=!1,r}return rL(e,[{key:"handleInitialTimeout",value:function(){var r=this;this.props.initialTimeout&&this.props.initialTimeout>0?setTimeout(function(){r.isLoaded||r.setState({imageSource:r.props.initialImage})},this.props.initialTimeout):this.setState({imageSource:this.props.initialImage})}},{key:"componentDidMount",value:function(){this.handleInitialTimeout(),this.displayImage=new window.Image,this.setDisplayImage({image:this.props.src,fallbacks:this.props.fallbackImage})}},{key:"componentWillReceiveProps",value:function(r){r.src!==this.props.src&&(this.isLoaded=!1,r.initialImage&&this.handleInitialTimeout(),this.setDisplayImage({image:r.src,fallbacks:r.fallbackImage}))}},{key:"componentWillUnmount",value:function(){this.displayImage&&(this.displayImage.onerror=null,this.displayImage.onload=null,this.displayImage=null)}},{key:"setDisplayImage",value:function(r){var i=this,o=r.image,s=r.fallbacks,a=[o].concat(s).filter(function(l){return!!l});this.displayImage.onerror=function(){if(a.length>2&&typeof a[1]=="string"){var l=a.slice(2);i.setDisplayImage({image:a[1],fallbacks:l});return}i.isLoaded=!0,i.setState({imageSource:a[1]||null},function(){i.props.onError&&i.props.onError(i.props.src)})},this.displayImage.onload=function(){i.isLoaded=!0,i.setState({imageSource:a[0]},function(){i.props.onLoad&&i.props.onLoad(a[0])})},typeof a[0]=="string"?this.displayImage.src=a[0]:this.setState({imageSource:a[0]},function(){i.props.onLoad&&i.props.onLoad(a[0])})}},{key:"render",value:function(){return typeof this.state.imageSource=="string"?oL.default.createElement("img",nL({},(0,aL.default)(this.props),{src:this.state.imageSource})):this.state.imageSource}}]),e}(dS.Component),Zr=aS.default=Od;Od.displayName="ReactImageFallback";Od.propTypes={src:dn.default.string,fallbackImage:dn.default.oneOfType([dn.default.string,dn.default.element,dn.default.array]).isRequired,initialImage:dn.default.oneOfType([dn.default.string,dn.default.element]),onLoad:dn.default.func,onError:dn.default.func,initialTimeout:dn.default.number};Od.defaultProps={initialImage:null};const ei="/mario-off/assets/image-not-found-19c954f8.png";function dL({isLoggedIn:t,myInfo:e}){const n={textDecoration:"underline",fontWeight:"500"};return y.jsx("header",{className:"h-12 p-4 w-screen flex justify-center items-center bg-gray-400 sticky top-0  z-10",children:y.jsxs("div",{className:"w-80 flex justify-between ",children:[y.jsx(yi,{to:"/",className:"flex items-center mr-auto",end:!0,children:({isActive:r})=>r?y.jsx($M,{size:30}):y.jsx(BM,{size:30})}),t&&y.jsxs(y.Fragment,{children:[y.jsx(yi,{to:"friends",className:"flex items-center mr-2",style:({isActive:r})=>r?n:null,end:!0,children:"Friends"}),y.jsx(yi,{to:"competitions",className:"flex items-center w-24",style:({isActive:r})=>r?n:null,end:!0,children:"Competitions"})]}),y.jsx(yi,{to:t?"profile ":"login",className:"flex items-center ml-2",children:({isActive:r})=>r?e&&e.profilePic&&y.jsx(Zr,{src:e.profilePic,fallbackImage:ei,alt:e.username,className:"w-8 h-8 object-cover bg-gray-200 rounded-full border-2 border-black"})||y.jsx(Fa,{size:32}):e&&e.profilePic&&y.jsx(Zr,{src:e.profilePic,fallbackImage:ei,alt:e.username,className:"w-8 h-8 object-cover bg-gray-200 rounded-full border-2"})||y.jsx(HM,{size:32})})]})})}function hL(){return y.jsx("footer",{className:"min-h-min w-screen flex items-center justify-center mt-auto bg-gray-200 ",children:y.jsxs("div",{className:"h-6 w-80 flex justify-end items-center",children:[y.jsx("p",{className:"ml-2 mr-auto text-xs",children:"Mario-off"}),y.jsx("a",{href:"https://github.com/ZainMunir/mario-off/issues",target:"_blank",className:"mr-2",children:y.jsx(zM,{size:20})}),y.jsx("a",{href:"https://github.com/ZainMunir/mario-off",target:"_blank",className:"mr-2",children:y.jsx(jM,{size:20})})]})})}function fL(){const[t,e]=ue.useState(null),[n,r,i]=wN(Jc());return ue.useEffect(()=>{async function o(){n?await LM(n.uid,e):e(null)}o()},[n]),y.jsxs("div",{className:"w-screen h-screen flex flex-col justify-center items-center",children:[y.jsx(dL,{isLoggedIn:n&&!0,myInfo:t}),y.jsx("main",{className:"flex-grow w-80 overflow-y-auto no-scrollbar relative border-x-2 border-gray-300",children:r||n&&!t?y.jsx("h1",{className:"m-2 text-xl",children:"Loading..."}):y.jsx(UE,{context:{myInfo:t}})}),y.jsx(hL,{})]})}function pL(){return y.jsxs("div",{className:"m-2",children:[y.jsx("h1",{className:"font-bold text-2xl",children:"Welcome to the Mario-Off Competitions app!"}),y.jsx("p",{children:"This app was made for competitions between me and a friend while we played various mario games, but can work for any sort of round based competition. If you haven't already, please login!"})]})}function mL({request:t}){return new URL(t.url).searchParams}function gL(){const t=LE(),{myInfo:e}=ii(),n=ns(),[r,i,o,s]=EN(Jc());ue.useEffect(()=>{if(e){const l=t.get("redirectTo")||"/competitions";return n(l,{replace:!0})}},[e]);async function a(){r().then(async l=>{i2(l).isNewUser&&await MM(l.user)})}return y.jsxs("div",{className:"p-2",children:[y.jsx("h1",{className:"font-bold text-center text-2xl",children:"Sign in to your account"}),t.get("message")&&y.jsx("h3",{className:"font-bold text-center text-xl text-red-600",children:t.get("message")}),y.jsx("div",{className:"flex flex-col items-center m-5",children:y.jsx("button",{disabled:o,className:`${o?"bg-gray-200":"bg-blue-500"} text-white drop-shadow-xl rounded py-1 px-2 m-2 w-2/3`,onClick:a,children:o?"Logging in...":"Sign in with Google"})})]})}function yL(){const t=Qa(),e=ns(),{myInfo:n}=ii(),[r,i,o]=IN(Jc()),[s,a]=ue.useState({username:n&&n.username,profilePic:n&&n.profilePic}),[l,u]=ue.useState(null);if(!n)return e("/",{replace:!0});function c(h){const{name:m,value:v}=h.target;a(w=>({...w,[m]:v}))}async function d(h){h.preventDefault();const m=await VM({myInfo:n,username:s.username,profilePic:s.profilePic});u(m)}return y.jsxs("div",{className:"flex flex-col items-center h-full",children:[l&&y.jsx("h3",{className:"font-bold text-center text-lg text-red-600",children:l}),y.jsx("h3",{className:"font-bold text-center text-2xl",children:"Profile"}),y.jsx("div",{className:"h-32",children:s.profilePic?y.jsx(Zr,{src:s.profilePic,fallbackImage:ei,className:"w-32 rounded-full h-32 object-cover bg-gray-100 border-2"}):y.jsx(Fa,{size:128})}),y.jsxs("form",{type:"post",className:"flex flex-col items-center w-full p-5 ",children:[y.jsx("label",{htmlFor:"username",children:"Username"}),y.jsx("input",{type:"text",name:"username",placeholder:"Username",value:s.username,onChange:c,className:"border-2 rounded p-1 m-2 w-5/6 text-center"}),y.jsx("label",{htmlFor:"profilpic",children:"Profile Pic"}),y.jsx("input",{type:"url",name:"profilePic",placeholder:"Profile Picture",value:s.profilePic,onChange:c,className:"border-2 rounded p-1 m-2 w-5/6 text-center"}),y.jsx("button",{disabled:t.state==="submitting",className:`${t.state==="submitting"?"bg-gray-200":"bg-blue-500"} text-white drop-shadow-xl rounded py-1 px-2 m-2 w-1/2`,onClick:h=>d(h),children:t.state==="submitting"?"Updating...":"Update Profile"})]}),y.jsx("button",{className:"mt-auto mb-2 p-1 px-3 text-lg mx-auto bg-red-500 rounded-full drop-shadow-md text-white cursor-pointer",onClick:async()=>await r(),children:"Sign out"})]})}async function Ir(t){const e=new URL(t.url),n=e.pathname+e.search;if(!await bM())throw DA(`/login?message=You must log in first.&redirectTo=${n}`);return null}const hS={valid:!1,winner:"draw",nestedRounds:[]};async function vL(t,e){const n=await cs(jg,Jn("players","array-contains",t.userid));await Nd(n,r=>{const i=r.docs.map(o=>({...o.data(),id:o.id}));e(i)})}async function _L(t){const e=Be(Ve,"competitions",t),n=await wl(e);if(n.data())return{...n.data(),id:n.id};throw{message:"Competition not found",statusText:"Error",status:404}}async function wL(t,e){const n={name:t.name,image:t.image,players:[e.userid,t.player],creationDate:Ui(),updatedDate:Ui(),description:"",rules:[],status:"ongoing",currentScore:[0,0],winner:"draw",rounds:[hS]};return(await rS(jg,n)).id}async function EL(t){const e=Be(Ve,"competitions",t),r=(await wl(e)).data().players;await nS(e),await fS(r)}async function TL(t){const e=Be(Ve,"competitions",t.id);await At(e,{name:t.name,image:t.image,status:t.status,description:t.description,updatedDate:Ui()});const r=(await wl(e)).data().players;await fS(r)}async function fS(t){const e=cs(jg,RM(Y_(Jn("players","==",t),Jn("status","==","complete")),Y_(Jn("players","==",[t[1],t[0]]),Jn("status","==","complete")))),r=(await tS(e)).docs.map(c=>({...c.data()})),i=[0,0];for(let c=0;c<r.length;c++)r[c].winner==t[0]?i[0]++:(r[c].winner==t[1]||i[0]++,i[1]++);const o=await Xo(t[0]),s=await Xo(t[1]);let a=!1,l=o.friends.map(c=>c.userid==s.userid?(c.score[0]==i[0]&&c.score[1]==i[1]&&(a=!0),{...c,score:i}):c);if(a)return null;let u=s.friends.map(c=>c.userid==o.userid?{...c,score:[i[1],i[0]]}:c);try{await At(Be(Ve,"userInfo",o.username),{friends:l}),await At(Be(Ve,"userInfo",s.username),{friends:u})}catch(c){throw c}return null}async function IL(t){const e=Be(Ve,"competitions",t.id);await At(e,{rules:Tc(t.rule),updatedDate:Ui()})}async function SL(t){const e=Be(Ve,"competitions",t.id);await At(e,{rules:kM(t.rule),updatedDate:Ui()})}async function RL(t){const e=Be(Ve,"competitions",t);await At(e,{rounds:Tc(hS),updatedDate:Ui()})}async function iu(t){const e=Be(Ve,"competitions",t.id),{rounds:n,score:r}=CL(t.rounds,t.players),i=r[0]>r[1]?t.players[0]:r[1]>r[0]?t.players[1]:"draw";await At(e,{rounds:n,currentScore:r,winner:i,updatedDate:Ui()})}function CL(t,e){let n=[0,0];const r=[...t];for(let i=0;i<r.length;i++){let o=[0,0];r[i].nestedRounds;for(let s=0;s<r[i].nestedRounds.length;s++)r[i].nestedRounds[s].player==e[0]?o[0]+=parseInt(r[i].nestedRounds[s].points):(r[i].nestedRounds[s].player==e[1]||(o[0]+=parseInt(r[i].nestedRounds[s].points)),o[1]+=parseInt(r[i].nestedRounds[s].points));if(o[0]>o[1]){if(r[i].winner=e[0],!r[i].valid)continue;n[0]++}else if(o[0]<o[1]){if(r[i].winner=e[1],!r[i].valid)continue;n[1]++}else{if(r[i].winner="draw",!r[i].valid)continue;n[0]++,n[1]++}}return{rounds:r,score:n}}async function AL(t,e){try{if(!t)throw"Please enter something";if(t==e.username)throw"That's you!";const n=Be(Ve,"userInfo",t),i=(await wl(n)).data();if(!i)throw"No user with that exact name";if(e.friends.find(o=>o.userid==i.userid)!=null)throw"Invite already sent / Friends already";return await At(n,{friends:Tc({sender:!1,accepted:!1,userid:e.userid,score:[0,0]})}),await At(Be(Ve,"userInfo",e.username),{friends:Tc({sender:!0,accepted:!1,userid:i.userid,score:[0,0]})}),null}catch(n){return n}}async function pS(t,e){const n=t.friends.filter(i=>i.accepted).map(i=>i.userid);if(!n.length)return;const r=await cs(El,Jn("userid","in",n));await Nd(r,i=>{const o=i.docs.map(s=>({...s.data()}));e(o)})}async function PL(t,e){const n=t.friends.map(i=>i.userid);if(!n.length)return;const r=await cs(El,Jn("userid","in",n));await Nd(r,i=>{const o=i.docs.map(s=>({...s.data()}));e(o)})}async function xL(t,e){let n=e.friends.map(i=>i.userid==t.userid?{...i,accepted:!0}:i),r=t.friends.map(i=>i.userid==e.userid?{...i,accepted:!0}:i);try{await At(Be(Ve,"userInfo",t.username),{friends:r}),await At(Be(Ve,"userInfo",e.username),{friends:n})}catch(i){throw i}return null}async function kL(t,e){let n=e.friends.filter(i=>i.userid!=t.userid),r=t.friends.filter(i=>i.userid!=e.userid);try{await At(Be(Ve,"userInfo",t.username),{friends:r}),await At(Be(Ve,"userInfo",e.username),{friends:n})}catch(i){throw i}return null}function Hg(t){const[e,n]=ue.useState([]);return ue.useEffect(()=>{async function r(){n([await Xo(t.players[0]),await Xo(t.players[1])])}r()},[t]),e[1]||(e[1]={profilePic:"",username:""}),e[0]||(e[0]={profilePic:"",username:""}),y.jsxs("div",{className:"flex flex-row w-full place-content-center",children:[y.jsx("abbr",{className:"self-center mr-2",title:e[0].username,children:e[0].profilePic?y.jsx(Zr,{src:e[0].profilePic,fallbackImage:ei,alt:e[0].username,className:"w-5 h-5 object-cover bg-gray-200 rounded-full"}):y.jsx(Fa,{size:20})}),t.currentScore[0]," - ",t.currentScore[1],y.jsx("abbr",{className:"self-center ml-2",title:e[1].username,children:e[1].profilePic?y.jsx(Zr,{src:e[1].profilePic,fallbackImage:ei,alt:e[1].username,className:"w-5 bg-gray-200 rounded-full"}):y.jsx(Fa,{size:20})})]})}function mS(t){return li({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5"}},{tag:"line",attr:{x1:"13",x2:"19",y1:"19",y2:"13"}},{tag:"line",attr:{x1:"16",x2:"20",y1:"16",y2:"20"}},{tag:"line",attr:{x1:"19",x2:"21",y1:"21",y2:"19"}},{tag:"polyline",attr:{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5"}},{tag:"line",attr:{x1:"5",x2:"9",y1:"14",y2:"18"}},{tag:"line",attr:{x1:"7",x2:"4",y1:"17",y2:"20"}},{tag:"line",attr:{x1:"3",x2:"5",y1:"19",y2:"21"}}]})(t)}function gS(t){const e=t.status=="complete"?"bg-green-400":t.status=="ongoing"?"bg-orange-400":"bg-red-500";return y.jsxs("div",{className:"flex flex-col items-center font text-lg w-36 h-60 drop-shadow-md bg-slate-300 rounded-lg",children:[y.jsx("p",{className:`w-full max-h-8 rounded-lg text-center capitalize ${e}`,children:t.status}),y.jsx("div",{className:"flex-grow flex flex-col flex-wrap place-content-center m-1 items-center ",children:t.image?y.jsx(Zr,{src:t.image,fallbackImage:ei,alt:t.name,className:"max-h-44 object-contain"}):y.jsxs(y.Fragment,{children:[y.jsx(mS,{size:50}),y.jsx("p",{className:"text-center",children:t.name})]})}),y.jsx(Hg,{players:t.players,currentScore:t.currentScore})]})}async function NL({request:t}){return await Ir(t),null}function DL(){const[t,e]=ue.useState([]),[n,r]=Im(),i=n.get("status"),o=n.get("friend"),{myInfo:s}=ii(),[a,l]=ue.useState([]);ue.useEffect(()=>{async function f(){await pS(s,l)}f()},[s]);function u(){r(f=>(f.delete("status"),f.delete("friend"),f))}ue.useEffect(()=>{async function f(){await vL(s,e)}f()},[]);function c(f){const{name:p,value:_}=f.target;r(g=>(_===""?g.delete(p):g.set(p,_),g))}function d(f){const{name:p,value:_}=f.target;r(g=>(_===""?g.delete(p):g.set(p,f.target[f.target.selectedIndex].id),g))}function h(f){return f?a.find(p=>p.userid==f).username:null}const m=a?a.map(f=>y.jsx("option",{id:f.userid,className:"bg-black text-white",children:f.username},f.userid)):[];let v=i?t.filter(f=>f.status===i):t;v=o?v.filter(f=>f.players.includes(o)):v;let w=v.sort((f,p)=>p.updatedDate-f.updatedDate).map(f=>y.jsx(Vf,{to:f.id,children:y.jsx(gS,{status:f.status,image:f.image,name:f.name,players:f.players,currentScore:f.currentScore})},f.id));w.length==0&&!i&&!o&&(w=null);const E=i=="complete"?"bg-green-400":i=="ongoing"?"bg-orange-400":i=="abandoned"?"bg-red-500":"bg-gray-100";return y.jsxs("div",{className:"flex flex-col h-full overflow-y-auto no-scrollbar p-1",children:[w&&y.jsxs("div",{className:"mb-2 flex flex-row gap-2 text-sm justify-between",children:[y.jsxs("select",{name:"status",className:`w-28 rounded-xl p-1 ${E}`,value:i||"Status",onChange:c,children:[y.jsx("option",{value:"",className:"bg-gray-100",children:"Status"}),y.jsx("option",{value:"abandoned",className:"bg-red-500  ",children:"Abandoned"}),y.jsx("option",{value:"ongoing",className:"bg-orange-400",children:"Ongoing"}),y.jsx("option",{value:"complete",className:"bg-green-400",children:"Complete"})]}),y.jsxs("select",{name:"friend",className:`w-24 rounded-xl p-1 mr-auto ${o?"bg-black text-white":"bg-gray-100 "}`,value:h(o)||"Friend",onChange:d,children:[y.jsx("option",{value:"",className:"bg-gray-100 text-black",children:"Friend"}),m]}),(i||o)&&y.jsx("button",{onClick:u,className:"",children:"Clear filters"})]}),y.jsx("div",{className:"grid grid-cols-2 w-full gap-5 scroll-auto",children:w}),y.jsx("div",{className:`flex pt-1 ${w?"justify-end mt-auto absolute bottom-4 right-4":"place-content-center"}`,children:y.jsx(Vf,{to:"../competition-creation",className:"flex items-center",children:y.jsx("button",{className:`rounded-full bg-teal-500 drop-shadow-md text-white mb-2 place-content-center flex ${w?"text-3xl w-10 h-10":"text-lg p-2"}`,children:w?"+":"Create Competition"})})})]})}async function OL({params:t,request:e}){return await Ir(e),await _L(t.id)}function bL(){const t=LE(),[e,n]=Im(),r=e.get("round"),i={textDecoration:"underline",fontWeight:"500"};return y.jsxs("div",{className:"flex flex-col w-full h-full",children:[y.jsx("h1",{className:"font-bold text-xl text-center",children:t.name}),y.jsxs("div",{className:"flex flex-col bg-gray-100 flex-grow",children:[y.jsxs("div",{className:"w-full flex justify-around border-b-2 border-b-gray-300",children:[y.jsx(yi,{to:`./${r?`?round=${r}`:""}`,className:"w-20 text-center",style:({isActive:o})=>o?i:null,end:!0,children:"Info"}),y.jsx(yi,{to:`rules${r?`?round=${r}`:""}`,className:"w-20 text-center",style:({isActive:o})=>o?i:null,children:"Rules"}),y.jsx(yi,{to:`rounds${r?`?round=${r}`:""}`,className:"w-20 text-center",style:({isActive:o})=>o?i:null,children:"Rounds"})]}),y.jsx("div",{className:"flex-grow px-2 pt-2",children:y.jsx(UE,{context:{currCompetition:t}})})]})]})}var _p={exports:{}},ji={},wp={exports:{}},Sn={},Ep={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function o(d,h){return h.getPropertyValue("overflow")!=="visible"||d.scrollWidth<=0&&d.scrollHeight<=0}function s(d){var h=d.offsetWidth<=0&&d.offsetHeight<=0;if(h&&!d.innerHTML)return!0;try{var m=window.getComputedStyle(d),v=m.getPropertyValue("display");return h?v!==r&&o(d,m):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(d){for(var h=d,m=d.getRootNode&&d.getRootNode();h&&h!==document.body;){if(m&&h===m&&(h=m.host.parentNode),s(h))return!1;h=h.parentNode}return!0}function l(d,h){var m=d.nodeName.toLowerCase(),v=i.test(m)&&!d.disabled||m==="a"&&d.href||h;return v&&a(d)}function u(d){var h=d.getAttribute("tabindex");h===null&&(h=void 0);var m=isNaN(h);return(m||h>=0)&&l(d,!m)}function c(d){var h=[].slice.call(d.querySelectorAll("*"),0).reduce(function(m,v){return m.concat(v.shadowRoot?c(v.shadowRoot):[v])},[]);return h.filter(u)}t.exports=e.default})(Ep,Ep.exports);var yS=Ep.exports;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.resetState=FL;Sn.log=UL;Sn.handleBlur=Ua;Sn.handleFocus=ja;Sn.markForFocusLater=jL;Sn.returnFocus=$L;Sn.popWithoutFocus=zL;Sn.setupScopedFocus=BL;Sn.teardownScopedFocus=HL;var ML=yS,LL=VL(ML);function VL(t){return t&&t.__esModule?t:{default:t}}var Jo=[],yo=null,Tp=!1;function FL(){Jo=[]}function UL(){}function Ua(){Tp=!0}function ja(){if(Tp){if(Tp=!1,!yo)return;setTimeout(function(){if(!yo.contains(document.activeElement)){var t=(0,LL.default)(yo)[0]||yo;t.focus()}},0)}}function jL(){Jo.push(document.activeElement)}function $L(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Jo.length!==0&&(e=Jo.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function zL(){Jo.length>0&&Jo.pop()}function BL(t){yo=t,window.addEventListener?(window.addEventListener("blur",Ua,!1),document.addEventListener("focus",ja,!0)):(window.attachEvent("onBlur",Ua),document.attachEvent("onFocus",ja))}function HL(){yo=null,window.addEventListener?(window.removeEventListener("blur",Ua),document.removeEventListener("focus",ja)):(window.detachEvent("onBlur",Ua),document.detachEvent("onFocus",ja))}var Ip={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=yS,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?o(a.activeElement.shadowRoot):a.activeElement}function s(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var c=void 0,d=l.shiftKey,h=u[0],m=u[u.length-1],v=o();if(a===v){if(!d)return;c=m}if(m===v&&!d&&(c=h),h===v&&d&&(c=m),c){l.preventDefault(),c.focus();return}var w=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=w!=null&&w[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(E){var f=u.indexOf(v);if(f>-1&&(f+=d?-1:1),c=u[f],typeof c>"u"){l.preventDefault(),c=d?m:h,c.focus();return}l.preventDefault(),c.focus()}}t.exports=e.default})(Ip,Ip.exports);var WL=Ip.exports,Rn={},qL=function(){},KL=qL,_n={},vS={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(vS);var GL=vS.exports;Object.defineProperty(_n,"__esModule",{value:!0});_n.canUseDOM=_n.SafeNodeList=_n.SafeHTMLCollection=void 0;var QL=GL,YL=XL(QL);function XL(t){return t&&t.__esModule?t:{default:t}}var bd=YL.default,JL=bd.canUseDOM?window.HTMLElement:{};_n.SafeHTMLCollection=bd.canUseDOM?window.HTMLCollection:{};_n.SafeNodeList=bd.canUseDOM?window.NodeList:{};_n.canUseDOM=bd.canUseDOM;_n.default=JL;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.resetState=rV;Rn.log=iV;Rn.assertNodeList=_S;Rn.setElement=oV;Rn.validateElement=Wg;Rn.hide=sV;Rn.show=aV;Rn.documentNotReadyOrSSRTesting=lV;var ZL=KL,eV=nV(ZL),tV=_n;function nV(t){return t&&t.__esModule?t:{default:t}}var Zt=null;function rV(){Zt&&(Zt.removeAttribute?Zt.removeAttribute("aria-hidden"):Zt.length!=null?Zt.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Zt).forEach(function(t){return t.removeAttribute("aria-hidden")})),Zt=null}function iV(){}function _S(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function oV(t){var e=t;if(typeof e=="string"&&tV.canUseDOM){var n=document.querySelectorAll(e);_S(n,e),e=n}return Zt=e||Zt,Zt}function Wg(t){var e=t||Zt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,eV.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function sV(t){var e=!0,n=!1,r=void 0;try{for(var i=Wg(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function aV(t){var e=!0,n=!1,r=void 0;try{for(var i=Wg(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function lV(){Zt=null}var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.resetState=uV;hs.log=cV;var na={},ra={};function e0(t,e){t.classList.remove(e)}function uV(){var t=document.getElementsByTagName("html")[0];for(var e in na)e0(t,na[e]);var n=document.body;for(var r in ra)e0(n,ra[r]);na={},ra={}}function cV(){}var dV=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},hV=function(e,n){return e[n]&&(e[n]-=1),n},fV=function(e,n,r){r.forEach(function(i){dV(n,i),e.add(i)})},pV=function(e,n,r){r.forEach(function(i){hV(n,i),n[i]===0&&e.remove(i)})};hs.add=function(e,n){return fV(e.classList,e.nodeName.toLowerCase()=="html"?na:ra,n.split(" "))};hs.remove=function(e,n){return pV(e.classList,e.nodeName.toLowerCase()=="html"?na:ra,n.split(" "))};var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.log=gV;fs.resetState=yV;function mV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var wS=function t(){var e=this;mV(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Ic=new wS;function gV(){console.log("portalOpenInstances ----------"),console.log(Ic.openInstances.length),Ic.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function yV(){Ic=new wS}fs.default=Ic;var qg={};Object.defineProperty(qg,"__esModule",{value:!0});qg.resetState=EV;qg.log=TV;var vV=fs,_V=wV(vV);function wV(t){return t&&t.__esModule?t:{default:t}}var ht=void 0,fn=void 0,Ci=[];function EV(){for(var t=[ht,fn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}ht=fn=null,Ci=[]}function TV(){console.log("bodyTrap ----------"),console.log(Ci.length);for(var t=[ht,fn],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function t0(){Ci.length!==0&&Ci[Ci.length-1].focusContent()}function IV(t,e){!ht&&!fn&&(ht=document.createElement("div"),ht.setAttribute("data-react-modal-body-trap",""),ht.style.position="absolute",ht.style.opacity="0",ht.setAttribute("tabindex","0"),ht.addEventListener("focus",t0),fn=ht.cloneNode(),fn.addEventListener("focus",t0)),Ci=e,Ci.length>0?(document.body.firstChild!==ht&&document.body.insertBefore(ht,document.body.firstChild),document.body.lastChild!==fn&&document.body.appendChild(fn)):(ht.parentElement&&ht.parentElement.removeChild(ht),fn.parentElement&&fn.parentElement.removeChild(fn))}_V.default.subscribe(IV);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(G){for(var q=1;q<arguments.length;q++){var he=arguments[q];for(var R in he)Object.prototype.hasOwnProperty.call(he,R)&&(G[R]=he[R])}return G},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},i=function(){function G(q,he){for(var R=0;R<he.length;R++){var C=he[R];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(q,C.key,C)}}return function(q,he,R){return he&&G(q.prototype,he),R&&G(q,R),q}}(),o=x,s=$g,a=A(s),l=Sn,u=g(l),c=WL,d=A(c),h=Rn,m=g(h),v=hs,w=g(v),E=_n,f=A(E),p=fs,_=A(p);function g(G){if(G&&G.__esModule)return G;var q={};if(G!=null)for(var he in G)Object.prototype.hasOwnProperty.call(G,he)&&(q[he]=G[he]);return q.default=G,q}function A(G){return G&&G.__esModule?G:{default:G}}function k(G,q){if(!(G instanceof q))throw new TypeError("Cannot call a class as a function")}function I(G,q){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:G}function b(G,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);G.prototype=Object.create(q&&q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,q):G.__proto__=q)}var H={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},B=function(q){return q.code==="Tab"||q.keyCode===9},He=function(q){return q.code==="Escape"||q.keyCode===27},ce=0,Qt=function(G){b(q,G);function q(he){k(this,q);var R=I(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,he));return R.setOverlayRef=function(C){R.overlay=C,R.props.overlayRef&&R.props.overlayRef(C)},R.setContentRef=function(C){R.content=C,R.props.contentRef&&R.props.contentRef(C)},R.afterClose=function(){var C=R.props,V=C.appElement,$=C.ariaHideApp,ie=C.htmlOpenClassName,_e=C.bodyOpenClassName,kt=C.parentSelector,ge=kt&&kt().ownerDocument||document;_e&&w.remove(ge.body,_e),ie&&w.remove(ge.getElementsByTagName("html")[0],ie),$&&ce>0&&(ce-=1,ce===0&&m.show(V)),R.props.shouldFocusAfterRender&&(R.props.shouldReturnFocusAfterClose?(u.returnFocus(R.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),R.props.onAfterClose&&R.props.onAfterClose(),_.default.deregister(R)},R.open=function(){R.beforeOpen(),R.state.afterOpen&&R.state.beforeClose?(clearTimeout(R.closeTimer),R.setState({beforeClose:!1})):(R.props.shouldFocusAfterRender&&(u.setupScopedFocus(R.node),u.markForFocusLater()),R.setState({isOpen:!0},function(){R.openAnimationFrame=requestAnimationFrame(function(){R.setState({afterOpen:!0}),R.props.isOpen&&R.props.onAfterOpen&&R.props.onAfterOpen({overlayEl:R.overlay,contentEl:R.content})})}))},R.close=function(){R.props.closeTimeoutMS>0?R.closeWithTimeout():R.closeWithoutTimeout()},R.focusContent=function(){return R.content&&!R.contentHasFocus()&&R.content.focus({preventScroll:!0})},R.closeWithTimeout=function(){var C=Date.now()+R.props.closeTimeoutMS;R.setState({beforeClose:!0,closesAt:C},function(){R.closeTimer=setTimeout(R.closeWithoutTimeout,R.state.closesAt-Date.now())})},R.closeWithoutTimeout=function(){R.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},R.afterClose)},R.handleKeyDown=function(C){B(C)&&(0,d.default)(R.content,C),R.props.shouldCloseOnEsc&&He(C)&&(C.stopPropagation(),R.requestClose(C))},R.handleOverlayOnClick=function(C){R.shouldClose===null&&(R.shouldClose=!0),R.shouldClose&&R.props.shouldCloseOnOverlayClick&&(R.ownerHandlesClose()?R.requestClose(C):R.focusContent()),R.shouldClose=null},R.handleContentOnMouseUp=function(){R.shouldClose=!1},R.handleOverlayOnMouseDown=function(C){!R.props.shouldCloseOnOverlayClick&&C.target==R.overlay&&C.preventDefault()},R.handleContentOnClick=function(){R.shouldClose=!1},R.handleContentOnMouseDown=function(){R.shouldClose=!1},R.requestClose=function(C){return R.ownerHandlesClose()&&R.props.onRequestClose(C)},R.ownerHandlesClose=function(){return R.props.onRequestClose},R.shouldBeClosed=function(){return!R.state.isOpen&&!R.state.beforeClose},R.contentHasFocus=function(){return document.activeElement===R.content||R.content.contains(document.activeElement)},R.buildClassName=function(C,V){var $=(typeof V>"u"?"undefined":r(V))==="object"?V:{base:H[C],afterOpen:H[C]+"--after-open",beforeClose:H[C]+"--before-close"},ie=$.base;return R.state.afterOpen&&(ie=ie+" "+$.afterOpen),R.state.beforeClose&&(ie=ie+" "+$.beforeClose),typeof V=="string"&&V?ie+" "+V:ie},R.attributesFromObject=function(C,V){return Object.keys(V).reduce(function($,ie){return $[C+"-"+ie]=V[ie],$},{})},R.state={afterOpen:!1,beforeClose:!1},R.shouldClose=null,R.moveFromContentToOverlay=null,R}return i(q,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(R,C){this.props.isOpen&&!R.isOpen?this.open():!this.props.isOpen&&R.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!C.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var R=this.props,C=R.appElement,V=R.ariaHideApp,$=R.htmlOpenClassName,ie=R.bodyOpenClassName,_e=R.parentSelector,kt=_e&&_e().ownerDocument||document;ie&&w.add(kt.body,ie),$&&w.add(kt.getElementsByTagName("html")[0],$),V&&(ce+=1,m.hide(C)),_.default.register(this)}},{key:"render",value:function(){var R=this.props,C=R.id,V=R.className,$=R.overlayClassName,ie=R.defaultStyles,_e=R.children,kt=V?{}:ie.content,ge=$?{}:ie.overlay;if(this.shouldBeClosed())return null;var un={ref:this.setOverlayRef,className:this.buildClassName("overlay",$),style:n({},ge,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Yt=n({id:C,ref:this.setContentRef,style:n({},kt,this.props.style.content),className:this.buildClassName("content",V),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),mr=this.props.contentElement(Yt,_e);return this.props.overlayElement(un,mr)}}]),q}(o.Component);Qt.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Qt.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(f.default),a.default.instanceOf(E.SafeHTMLCollection),a.default.instanceOf(E.SafeNodeList),a.default.arrayOf(a.default.instanceOf(f.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=Qt,t.exports=e.default})(wp,wp.exports);var SV=wp.exports;function ES(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function TS(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function IS(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ES.__suppressDeprecationWarning=!0;TS.__suppressDeprecationWarning=!0;IS.__suppressDeprecationWarning=!0;function RV(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=ES,e.componentWillReceiveProps=TS),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=IS;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,h)}}return t}const CV=Object.freeze(Object.defineProperty({__proto__:null,polyfill:RV},Symbol.toStringTag,{value:"Module"})),AV=LS(CV);Object.defineProperty(ji,"__esModule",{value:!0});ji.bodyOpenClassName=ji.portalClassName=void 0;var n0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),SS=x,Sc=Tl(SS),xV=TE,Rc=Tl(xV),kV=$g,Z=Tl(kV),NV=SV,r0=Tl(NV),DV=Rn,OV=MV(DV),Dr=_n,i0=Tl(Dr),bV=AV;function MV(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Tl(t){return t&&t.__esModule?t:{default:t}}function LV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function VV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FV=ji.portalClassName="ReactModalPortal",UV=ji.bodyOpenClassName="ReactModal__Body--open",hi=Dr.canUseDOM&&Rc.default.createPortal!==void 0,s0=function(e){return document.createElement(e)},a0=function(){return hi?Rc.default.createPortal:Rc.default.unstable_renderSubtreeIntoContainer};function ou(t){return t()}var Il=function(t){VV(e,t);function e(){var n,r,i,o;LV(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=o0(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!hi&&Rc.default.unmountComponentAtNode(i.node);var u=ou(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=a0(),d=c(i,Sc.default.createElement(r0.default,n0({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(d)},r),o0(i,o)}return PV(e,[{key:"componentDidMount",value:function(){if(Dr.canUseDOM){hi||(this.node=s0("div")),this.node.className=this.props.portalClassName;var r=ou(this.props.parentSelector);r.appendChild(this.node),!hi&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=ou(r.parentSelector),o=ou(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(Dr.canUseDOM){var s=this.props,a=s.isOpen,l=s.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=o.prevParent,c=o.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!hi&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Dr.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!Dr.canUseDOM||!hi)return null;!this.node&&hi&&(this.node=s0("div"));var r=a0();return r(Sc.default.createElement(r0.default,n0({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){OV.setElement(r)}}]),e}(SS.Component);Il.propTypes={isOpen:Z.default.bool.isRequired,style:Z.default.shape({content:Z.default.object,overlay:Z.default.object}),portalClassName:Z.default.string,bodyOpenClassName:Z.default.string,htmlOpenClassName:Z.default.string,className:Z.default.oneOfType([Z.default.string,Z.default.shape({base:Z.default.string.isRequired,afterOpen:Z.default.string.isRequired,beforeClose:Z.default.string.isRequired})]),overlayClassName:Z.default.oneOfType([Z.default.string,Z.default.shape({base:Z.default.string.isRequired,afterOpen:Z.default.string.isRequired,beforeClose:Z.default.string.isRequired})]),appElement:Z.default.oneOfType([Z.default.instanceOf(i0.default),Z.default.instanceOf(Dr.SafeHTMLCollection),Z.default.instanceOf(Dr.SafeNodeList),Z.default.arrayOf(Z.default.instanceOf(i0.default))]),onAfterOpen:Z.default.func,onRequestClose:Z.default.func,closeTimeoutMS:Z.default.number,ariaHideApp:Z.default.bool,shouldFocusAfterRender:Z.default.bool,shouldCloseOnOverlayClick:Z.default.bool,shouldReturnFocusAfterClose:Z.default.bool,preventScroll:Z.default.bool,parentSelector:Z.default.func,aria:Z.default.object,data:Z.default.object,role:Z.default.string,contentLabel:Z.default.string,shouldCloseOnEsc:Z.default.bool,overlayRef:Z.default.func,contentRef:Z.default.func,id:Z.default.string,overlayElement:Z.default.func,contentElement:Z.default.func};Il.defaultProps={isOpen:!1,portalClassName:FV,bodyOpenClassName:UV,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Sc.default.createElement("div",e,n)},contentElement:function(e,n){return Sc.default.createElement("div",e,n)}};Il.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,bV.polyfill)(Il);ji.default=Il;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=ji,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,t.exports=e.default})(_p,_p.exports);var jV=_p.exports;const $V=l0(jV);async function zV({request:t}){const e=await t.formData(),n=e.get("name"),r=e.get("image"),i=e.get("status"),o=e.get("description"),s=new URL(t.url).pathname;if(!n)return"Competitions should have names";try{return await TL({id:s.split("/")[2],name:n,image:r,status:i,description:o}),null}catch(a){return a.message}}function BV(){const{currCompetition:t}=ii(),e=ns(),n=VE(),r=Qa();function i(m){var v=new Date(m),w=""+(v.getMonth()+1),E=""+v.getDate(),f=v.getFullYear();return w.length<2&&(w="0"+w),E.length<2&&(E="0"+E),[f,w,E].join("-")}const o=i(t.creationDate.toDate());async function s(){await EL(t.id),e("../competitions",{replace:!0})}const[a,l]=ue.useState({name:t.name,image:t.image,description:t.description,status:t.status});function u(m){const{name:v,value:w}=m.target;l(E=>({...E,[v]:w}))}const[c,d]=ue.useState(!1),h=a.status=="complete"?"bg-green-400":a.status=="ongoing"?"bg-orange-400":"bg-red-500";return y.jsxs(jE,{method:"post",className:"flex flex-col h-full",children:[n&&y.jsx("h3",{className:"font-bold text-center text-lg text-red-600",children:n}),y.jsxs($V,{isOpen:c,contentLabel:"DeleteModal",overlayClassName:"bg-opacity-50 bg-black w-screen h-screen fixed top-0 left-0 z-20",className:"w-72 h-40 centerModal flex flex-col place-content-center text-center bg-gray-200 p-4 justify-between rounded-xl drop-shadow-xl ",appElement:document.getElementById("root"),children:[y.jsxs("p",{children:["Are you sure you want to delete this competition? ",y.jsx("br",{})," This action is irreversible"]}),y.jsxs("div",{className:"flex flex-row ",children:[y.jsx("div",{className:"mt-auto text-md w-24 mx-auto bg-green-400 rounded-full drop-shadow-md text-white cursor-pointer",onClick:()=>d(!1),children:"Cancel"}),y.jsx("div",{className:"mt-auto text-md w-24 mx-auto bg-red-500 rounded-full drop-shadow-md text-white cursor-pointer",onClick:s,children:"Delete"})]})]}),y.jsxs("div",{className:"flex flex-row mb-2 ",children:[y.jsx("div",{className:"h-48 w-1/2 flex flex-wrap place-content-center",children:a.image?y.jsx(Zr,{src:a.image,fallbackImage:ei,alt:a.name,className:"max-h-48 object-contain rounded"}):y.jsx(mS,{size:80})}),y.jsxs("div",{className:"flex flex-col align-middle w-1/2 text-center text-sm p-2",children:[y.jsxs("div",{className:"mb-3",children:["Started: ",o]}),y.jsx(Hg,{players:t.players,currentScore:t.currentScore}),y.jsxs("select",{name:"status",className:`mt-8 mx-auto w-28 rounded-xl p-1 ${h}`,value:a.status,onChange:u,children:[y.jsx("option",{value:"abandoned",className:"bg-red-500  ",children:"Abandoned"}),y.jsx("option",{value:"ongoing",className:"bg-orange-400",children:"Ongoing"}),y.jsx("option",{value:"complete",className:"bg-green-400",children:"Complete"})]}),y.jsx("div",{className:"mt-auto text-lg w-20 mx-auto bg-red-500 rounded-full drop-shadow-md text-white cursor-pointer",onClick:()=>d(!0),children:"Delete"})]})]}),y.jsxs("div",{className:"flex flex-col items-center flex-grow",children:[y.jsx("input",{type:"text",name:"name",placeholder:"Competition Name",value:a.name,onChange:u,className:"border-2 rounded p-1 m-2 w-full"}),y.jsx("input",{type:"url",name:"image",placeholder:"Thumbnail picture",value:a.image,onChange:u,className:"border-2 rounded p-1 m-2 w-full text-center"}),y.jsx("textarea",{placeholder:"Description",className:"border-2 rounded p-1 m-2 w-full h-32",name:"description",value:a.description,onChange:u}),y.jsx("button",{className:`${r.state==="submitting"?"bg-gray-300":"bg-teal-500"} rounded-full drop-shadow-md text-white mb-2 place-content-center flex text-lg p-2 w-24`,children:r.state==="submitting"?"Saving":"Save info"})]})]})}function Cc(t){return li({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(t)}async function HV({request:t}){const n=(await t.formData()).get("rule");if(n=="")return"Please enter something";const r=new URL(t.url).pathname;try{return await IL({id:r.split("/")[2],rule:n}),null}catch(i){return i.message}}function WV(){const{currCompetition:t}=ii(),e=Qa(),n=ME(),r=VE();async function i(s){await SL({id:t.id,rule:s}),n.revalidate()}const o=t.rules.map(s=>y.jsxs("div",{className:"group relative",children:["- ",s,t.status==="ongoing"&&y.jsx("button",{className:"right-0 top-1 absolute opacity-0 group-hover:opacity-100 transition-opacity duration-100",onClick:()=>i(s),children:y.jsx(Cc,{})})]},t.rules.indexOf(s)));return y.jsxs("div",{className:"flex flex-col h-full",children:[r&&y.jsx("h3",{className:"font-bold text-center text-lg text-red-600",children:r}),y.jsx("div",{children:o}),t.status==="ongoing"&&y.jsxs(jE,{method:"post",className:"flex flex-col justify-center mt-auto",children:[y.jsx("input",{type:"text",name:"rule",placeholder:"New Rule",className:"border-2 rounded p-1 my-2 w-full"}),y.jsx("button",{className:`${e.state==="submitting"?"bg-gray-300":"bg-teal-500"} rounded-full drop-shadow-md text-white mb-2 place-content-center flex text-md p-1 w-20 mx-auto`,children:e.state==="submitting"?"Adding...":"Add rule"})]})]})}function qV(){const{currCompetition:t}=ii(),[e,n]=ue.useState([]),r=Qa(),i=ME(),[o,s]=Im();ue.useEffect(()=>{async function I(){n([await Xo(t.players[0]),await Xo(t.players[1])])}I()},[]);const a=o.get("round")||1;ue.useEffect(()=>{i.revalidate()},[a]);const[l,u]=ue.useState({name:"",player:"draw",points:1});function c(I){const{name:b,value:H}=I.target;u(B=>({...B,[b]:H}))}if(a>t.rounds.length)return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"Round not found"}),y.jsx("button",{className:"bg-teal-500 rounded-full drop-shadow-md text-white place-content-center flex text-xs p-1 px-2",onClick:()=>s(I=>(I.delete("round"),I)),children:"Back to safety"})]});const d=t.rounds[a-1],h=[];for(let I=0;I<t.rounds.length;I++)h.push(y.jsxs("option",{children:["Round ",I+1]},I+1));function m(I){if(e.length)return e[0]&&I==e[0].userid?e[0].username:I==e[1].userid?e[1].username:"draw"}let v=[0,0];const w=[];for(let I=0;I<d.nestedRounds.length;I++)w.push(y.jsxs("div",{className:"group  flex flex-row justify-between",children:[y.jsx("div",{className:"mr-auto w-32 text-left",children:d.nestedRounds[I].name}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"group-hover:opacity-0 transition-opacity duration-100",children:d.nestedRounds[I].points}),t.status==="ongoing"&&y.jsx("div",{className:"absolute inset-0 h-full w-full flex justify-center",children:y.jsx("button",{className:"self-center opacity-0 group-hover:opacity-100 transition-opacity duration-100",onClick:()=>A(I),children:y.jsx(Cc,{size:16})})})]}),y.jsx("div",{className:"ml-auto w-32 text-right",children:m(d.nestedRounds[I].player)})]},`${a-1}-${I+1}`)),d.nestedRounds[I].player==t.players[0]?v[0]+=parseInt(d.nestedRounds[I].points):(d.nestedRounds[I].player==t.players[1]||(v[0]+=parseInt(d.nestedRounds[I].points)),v[1]+=parseInt(d.nestedRounds[I].points));function E(I){const{value:b}=I.target;let H=b.charAt(b.length-1);s(B=>(H==1?B.delete("round"):B.set("round",H),B))}async function f(){await RL(t.id),i.revalidate()}async function p(){let I=[...t.rounds];I.splice(a-1,1),await iu({id:t.id,players:t.players,rounds:I}),s(b=>(a>2?b.set("round",a-1):a==2&&b.delete("round"),b)),i.revalidate()}function _(I){return I==e[0].username?e[0].userid:I==e[1].username?e[1].userid:"draw"}async function g(I){I.preventDefault();let b=[...t.rounds],H={...l};H.player=_(H.player),b[a-1].nestedRounds=[...d.nestedRounds,H],await iu({id:t.id,players:t.players,rounds:b}),i.revalidate()}async function A(I){let b=[...t.rounds];b[a-1].nestedRounds.splice(I,1),await iu({id:t.id,players:t.players,rounds:b}),i.revalidate()}async function k(I){const{checked:b}=I.target;let H=[...t.rounds];H[a-1].valid=b,await iu({id:t.id,players:t.players,rounds:H}),i.revalidate()}return y.jsxs("div",{className:"flex flex-col h-full text-center",children:[y.jsxs("div",{className:"flex flex-row justify-around",children:[t.status==="ongoing"&&y.jsx("button",{onClick:p,className:"mr-auto text-sm px-1 w-24 bg-red-500 rounded-full drop-shadow-md text-white disabled:grayscale",disabled:t.rounds.length==1,children:"Delete Round"}),y.jsxs("div",{className:"flex flex-row w-24 mx-2 justify-around ",children:[y.jsx("select",{value:`Round ${a}`,onChange:E,className:"rounded-md bg-black text-white text-sm h-full",children:h}),y.jsx("input",{type:"checkbox",name:"valid",checked:d.valid,onChange:k,disabled:t.status!=="ongoing"})]}),t.status==="ongoing"&&y.jsx("button",{onClick:f,className:"bg-teal-500 rounded-full drop-shadow-md text-white place-content-center flex text-sm px-1 w-24 ml-auto disabled:grayscale",disabled:d.nestedRounds.length==0,children:"Add Round"})]}),y.jsx(Hg,{players:t.players,currentScore:v}),y.jsx("div",{className:"mt-5",children:w}),t.status==="ongoing"&&y.jsxs("form",{type:"post",className:"flex flex-col justify-center mt-auto",children:[y.jsxs("div",{className:"flex flex-row w-full my-2",children:[y.jsx("input",{type:"text",name:"name",placeholder:"Sub-round name",className:"border-2 rounded p-1 w-1/2",value:l.name,onChange:c}),y.jsx("input",{type:"number",name:"points",className:"border-2 rounded p-1 w-1/6",value:l.points,onChange:c}),y.jsxs("select",{name:"player",className:"border-2 rounded ml-auto p-1 w-1/3",value:l.player,onChange:c,children:[y.jsx("option",{children:"draw"}),y.jsx("option",{children:e[0]&&e[0].username}),y.jsx("option",{children:e[1]&&e[1].username})]})]}),y.jsx("button",{className:`${r.state==="submitting"?"bg-gray-300":"bg-teal-500"} rounded-full drop-shadow-md text-white mb-2 place-content-center flex text-md p-1 w-32 mx-auto`,onClick:I=>g(I),children:r.state==="submitting"?"Adding...":"Add Sub-round"})]})]})}function KV(){const t=Qa(),e=ns(),{myInfo:n}=ii(),[r,i]=ue.useState([]);ue.useEffect(()=>{async function h(){await pS(n,i)}h()},[n]);const[o,s]=ue.useState({name:"",image:"",player2:"Select your Opponent",player2Id:""}),[a,l]=ue.useState(null);function u(h){const{name:m,value:v}=h.target;s(w=>m=="player2"?{...w,[m]:v,player2Id:h.target[h.target.selectedIndex].id}:{...w,[m]:v})}const c=r?r.map(h=>y.jsx("option",{id:h.userid,children:h.username},h.userid)):[];if(c.length==[])return y.jsx("h1",{className:"my-1 mx-2",children:"Please add some friends first!"});async function d(h){if(h.preventDefault(),o.name==""||o.player2Id==""){l("Name and Opponent Needed");return}try{const m=await wL({name:o.name,image:o.image,player:o.player2Id},n);return e(`../competitions/${m}`,{replace:!0})}catch(m){l(m.message)}}return c==[]?y.jsx("h1",{children:"Please add some friends first!"}):y.jsxs("div",{className:"flex flex-col items-center",children:[a&&y.jsx("h3",{className:"font-bold text-center text-lg text-red-600",children:a}),y.jsx("h3",{className:"font-bold text-center text-lg",children:"Preview"}),y.jsx(gS,{status:"ongoing",image:o.image,name:o.name,players:[n.userid,o.player2Id],currentScore:[0,0]}),y.jsxs("form",{type:"post",className:"flex flex-col items-center w-full p-5 ",children:[y.jsx("input",{type:"text",name:"name",placeholder:"Competition Name",value:o.name,onChange:u,className:"border-2 rounded p-1 m-2 w-5/6 text-center"}),y.jsx("input",{type:"url",name:"image",placeholder:"Thumbnail picture",value:o.image,onChange:u,className:"border-2 rounded p-1 m-2 w-5/6 text-center"}),y.jsxs("select",{name:"player2",placeholder:"Other player",value:o.player2,onChange:u,className:"border-2 rounded p-1 m-2 w-5/6 text-center",required:!0,children:[y.jsx("option",{disabled:!0,children:"Select your Opponent"}),c]}),y.jsx("button",{disabled:t.state==="submitting",className:`${t.state==="submitting"?"bg-gray-200":"bg-blue-500"} text-white drop-shadow-xl rounded py-1 px-2 m-2 w-1/2`,onClick:h=>d(h),children:t.state==="submitting"?"Creating...":"Create"})]})]})}function GV(){const{myInfo:t}=ii(),e=t.friends,n=e.filter(f=>!f.accepted&&f.sender),r=e.filter(f=>!f.accepted&&!f.sender),i=e.filter(f=>f.accepted),[o,s]=ue.useState([]),[a,l]=ue.useState(""),[u,c]=ue.useState(null);ue.useEffect(()=>{async function f(){await PL(t,s)}f()},[t]);async function d(f){await xL(f,t)}async function h(f){await kL(f,t)}const m=o&&o.length!=0?r.map(f=>{const p=o.find(_=>_.userid==f.userid);return y.jsxs("div",{className:"flex",children:[y.jsx("p",{className:"mr-auto",children:p&&p.username}),y.jsx("button",{onClick:()=>h(p),className:"text-red-600 mr-2",children:"x"}),y.jsx("button",{onClick:()=>d(p),className:"text-green-600",children:""})]},f.userid)}):[],v=o&&o.length!=0?i.map(f=>{const p=o.find(g=>g.userid==f.userid),_=t.friends.find(g=>g.userid==p.userid);return y.jsxs("div",{className:"flex items-center group relative",children:[p.profilePic?y.jsx(Zr,{src:p.profilePic,fallbackImage:ei,alt:p.username,className:"w-5 h-5 object-cover bg-gray-200 rounded-full"}):y.jsx(Fa,{size:20}),y.jsx("p",{className:"ml-2",children:p&&p.username}),y.jsxs("p",{className:"ml-auto mr-8",children:[_.score[1]," - ",_.score[0]," "]}),y.jsx("button",{className:"right-0 top-1 absolute opacity-0 group-hover:opacity-100 transition-opacity duration-100",onClick:()=>h(p),children:y.jsx(Cc,{})})]},f.userid)}):[],w=o&&o.length!=0?n.map(f=>{const p=o.find(_=>_.userid==f.userid);return y.jsxs("div",{className:"relative group",children:[y.jsx("p",{children:p&&p.username}),y.jsx("button",{className:"right-0 top-1 absolute opacity-0 group-hover:opacity-100 transition-opacity duration-100",onClick:()=>h(p),children:y.jsx(Cc,{})})]},f.userid)}):[];async function E(f){if(f.preventDefault(),a=="Friend"||a=="draw"){c("Forbidden friends ");return}const p=await AL(a,t);c(p)}return y.jsxs("div",{className:"mx-2 flex flex-col h-full",children:[u&&y.jsx("h3",{className:"font-bold text-center text-lg text-red-600",children:u}),y.jsxs("form",{type:"post",className:"flex flex-row justify-between mt-2",children:[y.jsx("input",{type:"text",name:"username",placeholder:"Add friend (username)",className:"border-2 rounded px-1 w-3/5",value:a,onChange:f=>l(f.target.value)}),y.jsx("button",{className:"bg-teal-500 rounded-full drop-shadow-md text-white place-content-center flex text-md px-1 w-24",onClick:f=>E(f),children:"Send"})]}),y.jsxs("div",{className:"flex flex-col flex-grow",children:[m.length>0&&y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"mt-2 font-bold",children:"Friend Requests"}),y.jsx("div",{children:m})]}),v.length>0&&y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"mt-2 font-bold",children:"Friends"}),y.jsx("div",{children:v})]}),w.length>0&&y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"mt-auto font-bold",children:"Sent Requests"}),y.jsx("div",{children:w})]})]})]})}const QV=AP(Mf(y.jsxs(jt,{path:"/",element:y.jsx(fL,{}),children:[y.jsx(jt,{index:!0,element:y.jsx(pL,{})}),y.jsx(jt,{path:"login",element:y.jsx(gL,{}),loader:mL}),y.jsx(jt,{path:"profile",element:y.jsx(yL,{}),errorElement:y.jsx(_r,{}),loader:async({request:t})=>await Ir(t)}),y.jsx(jt,{path:"friends",element:y.jsx(GV,{}),errorElement:y.jsx(_r,{}),loader:async({request:t})=>await Ir(t)}),y.jsx(jt,{path:"competitions",element:y.jsx(DL,{}),errorElement:y.jsx(_r,{}),loader:NL}),y.jsxs(jt,{path:"competitions/:id",element:y.jsx(bL,{}),errorElement:y.jsx(_r,{}),loader:OL,children:[y.jsx(jt,{index:!0,element:y.jsx(BV,{}),errorElement:y.jsx(_r,{}),loader:async({request:t})=>await Ir(t),action:zV}),y.jsx(jt,{path:"rules",element:y.jsx(WV,{}),errorElement:y.jsx(_r,{}),loader:async({request:t})=>await Ir(t),action:HV}),y.jsx(jt,{path:"rounds",element:y.jsx(qV,{}),errorElement:y.jsx(_r,{}),loader:async({request:t})=>await Ir(t)})]}),y.jsx(jt,{path:"competition-creation",element:y.jsx(KV,{}),errorElement:y.jsx(_r,{}),loader:async({request:t})=>await Ir(t)}),y.jsx(jt,{path:"*",element:y.jsx(FP,{})})]})));function YV(){return y.jsx(dP,{router:QV})}Vh.createRoot(document.getElementById("root")).render(y.jsx(ue.StrictMode,{children:y.jsx(YV,{})}));
