function k1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ev(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function D1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var tv={exports:{}},cu={},nv={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),N1=Symbol.for("react.portal"),V1=Symbol.for("react.fragment"),O1=Symbol.for("react.strict_mode"),M1=Symbol.for("react.profiler"),L1=Symbol.for("react.provider"),F1=Symbol.for("react.context"),$1=Symbol.for("react.forward_ref"),b1=Symbol.for("react.suspense"),U1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),mm=Symbol.iterator;function z1(t){return t===null||typeof t!="object"?null:(t=mm&&t[mm]||t["@@iterator"],typeof t=="function"?t:null)}var rv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iv=Object.assign,ov={};function lo(t,e,n){this.props=t,this.context=e,this.refs=ov,this.updater=n||rv}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sv(){}sv.prototype=lo.prototype;function Kf(t,e,n){this.props=t,this.context=e,this.refs=ov,this.updater=n||rv}var Qf=Kf.prototype=new sv;Qf.constructor=Kf;iv(Qf,lo.prototype);Qf.isPureReactComponent=!0;var gm=Array.isArray,av=Object.prototype.hasOwnProperty,Gf={current:null},lv={key:!0,ref:!0,__self:!0,__source:!0};function uv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)av.call(e,r)&&!lv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xs,type:t,key:o,ref:s,props:i,_owner:Gf.current}}function B1(t,e){return{$$typeof:Xs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xs}function H1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ym=/\/+/g;function gc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H1(""+t.key):e.toString(36)}function nl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xs:case N1:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+gc(s,0):r,gm(i)?(n="",t!=null&&(n=t.replace(ym,"$&/")+"/"),nl(i,e,n,"",function(u){return u})):i!=null&&(Yf(i)&&(i=B1(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ym,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",gm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+gc(o,a);s+=nl(o,e,n,l,i)}else if(l=z1(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+gc(o,a++),s+=nl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Aa(t,e,n){if(t==null)return t;var r=[],i=0;return nl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function W1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},rl={transition:null},q1={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:rl,ReactCurrentOwner:Gf};se.Children={map:Aa,forEach:function(t,e,n){Aa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Aa(t,function(){e++}),e},toArray:function(t){return Aa(t,function(e){return e})||[]},only:function(t){if(!Yf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=lo;se.Fragment=V1;se.Profiler=M1;se.PureComponent=Kf;se.StrictMode=O1;se.Suspense=b1;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Gf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)av.call(e,l)&&!lv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xs,type:t.type,key:i,ref:o,props:r,_owner:s}};se.createContext=function(t){return t={$$typeof:F1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:L1,_context:t},t.Consumer=t};se.createElement=uv;se.createFactory=function(t){var e=uv.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:$1,render:t}};se.isValidElement=Yf;se.lazy=function(t){return{$$typeof:j1,_payload:{_status:-1,_result:t},_init:W1}};se.memo=function(t,e){return{$$typeof:U1,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=rl.transition;rl.transition={};try{t()}finally{rl.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return Et.current.useCallback(t,e)};se.useContext=function(t){return Et.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};se.useEffect=function(t,e){return Et.current.useEffect(t,e)};se.useId=function(){return Et.current.useId()};se.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Et.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};se.useRef=function(t){return Et.current.useRef(t)};se.useState=function(t){return Et.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Et.current.useTransition()};se.version="18.2.0";nv.exports=se;var N=nv.exports;const ds=ev(N),K1=k1({__proto__:null,default:ds},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=N,G1=Symbol.for("react.element"),Y1=Symbol.for("react.fragment"),X1=Object.prototype.hasOwnProperty,J1=Q1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z1={key:!0,ref:!0,__self:!0,__source:!0};function cv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)X1.call(e,r)&&!Z1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:G1,type:t,key:o,ref:s,props:i,_owner:J1.current}}cu.Fragment=Y1;cu.jsx=cv;cu.jsxs=cv;tv.exports=cu;var C=tv.exports,lh={},hv={exports:{}},Lt={},fv={exports:{}},dv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,L){var j=I.length;I.push(L);e:for(;0<j;){var ne=j-1>>>1,ye=I[ne];if(0<i(ye,L))I[ne]=L,I[j]=ye,j=ne;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var L=I[0],j=I.pop();if(j!==L){I[0]=j;e:for(var ne=0,ye=I.length,Tt=ye>>>1;ne<Tt;){var pe=2*(ne+1)-1,Xt=I[pe],bt=pe+1,Xn=I[bt];if(0>i(Xt,j))bt<ye&&0>i(Xn,Xt)?(I[ne]=Xn,I[bt]=j,ne=bt):(I[ne]=Xt,I[pe]=j,ne=pe);else if(bt<ye&&0>i(Xn,j))I[ne]=Xn,I[bt]=j,ne=bt;else break e}}return L}function i(I,L){var j=I.sortIndex-L.sortIndex;return j!==0?j:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,v=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=I)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function g(I){if(_=!1,y(I),!v)if(n(l)!==null)v=!0,ce(R);else{var L=n(u);L!==null&&S(g,L.startTime-I)}}function R(I,L){v=!1,_&&(_=!1,m(M),M=-1),p=!0;var j=f;try{for(y(L),h=n(l);h!==null&&(!(h.expirationTime>L)||I&&!Ue());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var ye=ne(h.expirationTime<=L);L=t.unstable_now(),typeof ye=="function"?h.callback=ye:h===n(l)&&r(l),y(L)}else r(l);h=n(l)}if(h!==null)var Tt=!0;else{var pe=n(u);pe!==null&&S(g,pe.startTime-L),Tt=!1}return Tt}finally{h=null,f=j,p=!1}}var k=!1,V=null,M=-1,ie=5,q=-1;function Ue(){return!(t.unstable_now()-q<ie)}function le(){if(V!==null){var I=t.unstable_now();q=I;var L=!0;try{L=V(!0,I)}finally{L?$t():(k=!1,V=null)}}else k=!1}var $t;if(typeof d=="function")$t=function(){d(le)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=le,$t=function(){H.postMessage(null)}}else $t=function(){w(le,0)};function ce(I){V=I,k||(k=!0,$t())}function S(I,L){M=w(function(){I(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,ce(R))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var j=f;f=L;try{return I()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=f;f=I;try{return L()}finally{f=j}},t.unstable_scheduleCallback=function(I,L,j){var ne=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ne+j:ne):j=ne,I){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=j+ye,I={id:c++,callback:L,priorityLevel:I,startTime:j,expirationTime:ye,sortIndex:-1},j>ne?(I.sortIndex=j,e(u,I),n(l)===null&&I===n(u)&&(_?(m(M),M=-1):_=!0,S(g,j-ne))):(I.sortIndex=ye,e(l,I),v||p||(v=!0,ce(R))),I},t.unstable_shouldYield=Ue,t.unstable_wrapCallback=function(I){var L=f;return function(){var j=f;f=L;try{return I.apply(this,arguments)}finally{f=j}}}})(dv);fv.exports=dv;var eT=fv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=N,Ot=eT;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mv=new Set,ps={};function ii(t,e){Wi(t,e),Wi(t+"Capture",e)}function Wi(t,e){for(ps[t]=e,t=0;t<e.length;t++)mv.add(e[t])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=Object.prototype.hasOwnProperty,tT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vm={},_m={};function nT(t){return uh.call(_m,t)?!0:uh.call(vm,t)?!1:tT.test(t)?_m[t]=!0:(vm[t]=!0,!1)}function rT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iT(t,e,n,r){if(e===null||typeof e>"u"||rT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xf=/[\-:]([a-z])/g;function Jf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xf,Jf);rt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xf,Jf);rt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xf,Jf);rt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zf(t,e,n,r){var i=rt.hasOwnProperty(e)?rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iT(e,n,i,r)&&(n=null),r||i===null?nT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),yv=Symbol.for("react.context"),td=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),fh=Symbol.for("react.suspense_list"),nd=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),vv=Symbol.for("react.offscreen"),Em=Symbol.iterator;function Ao(t){return t===null||typeof t!="object"?null:(t=Em&&t[Em]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,yc;function jo(t){if(yc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yc=e&&e[1]||""}return`
`+yc+t}var vc=!1;function _c(t,e){if(!t||vc)return"";vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{vc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jo(t):""}function oT(t){switch(t.tag){case 5:return jo(t.type);case 16:return jo("Lazy");case 13:return jo("Suspense");case 19:return jo("SuspenseList");case 0:case 2:case 15:return t=_c(t.type,!1),t;case 11:return t=_c(t.type.render,!1),t;case 1:return t=_c(t.type,!0),t;default:return""}}function dh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case mi:return"Portal";case ch:return"Profiler";case ed:return"StrictMode";case hh:return"Suspense";case fh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yv:return(t.displayName||"Context")+".Consumer";case gv:return(t._context.displayName||"Context")+".Provider";case td:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nd:return e=t.displayName||null,e!==null?e:dh(t.type)||"Memo";case tr:e=t._payload,t=t._init;try{return dh(t(e))}catch{}}return null}function sT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dh(e);case 8:return e===ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _v(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aT(t){var e=_v(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xa(t){t._valueTracker||(t._valueTracker=aT(t))}function Ev(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_v(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function El(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ph(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Er(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wv(t,e){e=e.checked,e!=null&&Zf(t,"checked",e,!1)}function mh(t,e){wv(t,e);var n=Er(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gh(t,e.type,n):e.hasOwnProperty("defaultValue")&&gh(t,e.type,Er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gh(t,e,n){(e!=="number"||El(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zo=Array.isArray;function Di(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Er(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(zo(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Er(n)}}function Tv(t,e){var n=Er(e.value),r=Er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Im(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ka,Iv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lT=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(t){lT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yo[e]=Yo[t]})});function Cv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yo.hasOwnProperty(t)&&Yo[t]?(""+e).trim():e+"px"}function Rv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uT=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _h(t,e){if(e){if(uT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=null;function rd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Th=null,Ni=null,Vi=null;function Cm(t){if(t=ea(t)){if(typeof Th!="function")throw Error(x(280));var e=t.stateNode;e&&(e=mu(e),Th(t.stateNode,t.type,e))}}function Av(t){Ni?Vi?Vi.push(t):Vi=[t]:Ni=t}function Pv(){if(Ni){var t=Ni,e=Vi;if(Vi=Ni=null,Cm(t),e)for(t=0;t<e.length;t++)Cm(e[t])}}function xv(t,e){return t(e)}function kv(){}var Ec=!1;function Dv(t,e,n){if(Ec)return t(e,n);Ec=!0;try{return xv(t,e,n)}finally{Ec=!1,(Ni!==null||Vi!==null)&&(kv(),Pv())}}function gs(t,e){var n=t.stateNode;if(n===null)return null;var r=mu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Sh=!1;if(bn)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Sh=!1}function cT(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Xo=!1,wl=null,Tl=!1,Ih=null,hT={onError:function(t){Xo=!0,wl=t}};function fT(t,e,n,r,i,o,s,a,l){Xo=!1,wl=null,cT.apply(hT,arguments)}function dT(t,e,n,r,i,o,s,a,l){if(fT.apply(this,arguments),Xo){if(Xo){var u=wl;Xo=!1,wl=null}else throw Error(x(198));Tl||(Tl=!0,Ih=u)}}function oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rm(t){if(oi(t)!==t)throw Error(x(188))}function pT(t){var e=t.alternate;if(!e){if(e=oi(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Rm(i),t;if(o===r)return Rm(i),e;o=o.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function Vv(t){return t=pT(t),t!==null?Ov(t):null}function Ov(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ov(t);if(e!==null)return e;t=t.sibling}return null}var Mv=Ot.unstable_scheduleCallback,Am=Ot.unstable_cancelCallback,mT=Ot.unstable_shouldYield,gT=Ot.unstable_requestPaint,Oe=Ot.unstable_now,yT=Ot.unstable_getCurrentPriorityLevel,id=Ot.unstable_ImmediatePriority,Lv=Ot.unstable_UserBlockingPriority,Sl=Ot.unstable_NormalPriority,vT=Ot.unstable_LowPriority,Fv=Ot.unstable_IdlePriority,hu=null,Sn=null;function _T(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(hu,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:TT,ET=Math.log,wT=Math.LN2;function TT(t){return t>>>=0,t===0?32:31-(ET(t)/wT|0)|0}var Da=64,Na=4194304;function Bo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Il(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Bo(a):(o&=s,o!==0&&(r=Bo(o)))}else s=n&~i,s!==0?r=Bo(s):o!==0&&(r=Bo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),i=1<<n,r|=t[n],e&=~i;return r}function ST(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-an(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=ST(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ch(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $v(){var t=Da;return Da<<=1,!(Da&4194240)&&(Da=64),t}function wc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Js(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function CT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-an(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function od(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var me=0;function bv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uv,sd,jv,zv,Bv,Rh=!1,Va=[],ur=null,cr=null,hr=null,ys=new Map,vs=new Map,rr=[],RT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pm(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(e.pointerId)}}function xo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ea(e),e!==null&&sd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AT(t,e,n,r,i){switch(e){case"focusin":return ur=xo(ur,t,e,n,r,i),!0;case"dragenter":return cr=xo(cr,t,e,n,r,i),!0;case"mouseover":return hr=xo(hr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ys.set(o,xo(ys.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vs.set(o,xo(vs.get(o)||null,t,e,n,r,i)),!0}return!1}function Hv(t){var e=Lr(t.target);if(e!==null){var n=oi(e);if(n!==null){if(e=n.tag,e===13){if(e=Nv(n),e!==null){t.blockedOn=e,Bv(t.priority,function(){jv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function il(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wh=r,n.target.dispatchEvent(r),wh=null}else return e=ea(n),e!==null&&sd(e),t.blockedOn=n,!1;e.shift()}return!0}function xm(t,e,n){il(t)&&n.delete(e)}function PT(){Rh=!1,ur!==null&&il(ur)&&(ur=null),cr!==null&&il(cr)&&(cr=null),hr!==null&&il(hr)&&(hr=null),ys.forEach(xm),vs.forEach(xm)}function ko(t,e){t.blockedOn===e&&(t.blockedOn=null,Rh||(Rh=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,PT)))}function _s(t){function e(i){return ko(i,t)}if(0<Va.length){ko(Va[0],t);for(var n=1;n<Va.length;n++){var r=Va[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ur!==null&&ko(ur,t),cr!==null&&ko(cr,t),hr!==null&&ko(hr,t),ys.forEach(e),vs.forEach(e),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)Hv(n),n.blockedOn===null&&rr.shift()}var Oi=Gn.ReactCurrentBatchConfig,Cl=!0;function xT(t,e,n,r){var i=me,o=Oi.transition;Oi.transition=null;try{me=1,ad(t,e,n,r)}finally{me=i,Oi.transition=o}}function kT(t,e,n,r){var i=me,o=Oi.transition;Oi.transition=null;try{me=4,ad(t,e,n,r)}finally{me=i,Oi.transition=o}}function ad(t,e,n,r){if(Cl){var i=Ah(t,e,n,r);if(i===null)Dc(t,e,r,Rl,n),Pm(t,r);else if(AT(i,t,e,n,r))r.stopPropagation();else if(Pm(t,r),e&4&&-1<RT.indexOf(t)){for(;i!==null;){var o=ea(i);if(o!==null&&Uv(o),o=Ah(t,e,n,r),o===null&&Dc(t,e,r,Rl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Dc(t,e,r,null,n)}}var Rl=null;function Ah(t,e,n,r){if(Rl=null,t=rd(r),t=Lr(t),t!==null)if(e=oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rl=t,null}function Wv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yT()){case id:return 1;case Lv:return 4;case Sl:case vT:return 16;case Fv:return 536870912;default:return 16}default:return 16}}var or=null,ld=null,ol=null;function qv(){if(ol)return ol;var t,e=ld,n=e.length,r,i="value"in or?or.value:or.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ol=i.slice(t,1<r?1-r:void 0)}function sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oa(){return!0}function km(){return!1}function Ft(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Oa:km,this.isPropagationStopped=km,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),e}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ud=Ft(uo),Zs=ke({},uo,{view:0,detail:0}),DT=Ft(Zs),Tc,Sc,Do,fu=ke({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(Tc=t.screenX-Do.screenX,Sc=t.screenY-Do.screenY):Sc=Tc=0,Do=t),Tc)},movementY:function(t){return"movementY"in t?t.movementY:Sc}}),Dm=Ft(fu),NT=ke({},fu,{dataTransfer:0}),VT=Ft(NT),OT=ke({},Zs,{relatedTarget:0}),Ic=Ft(OT),MT=ke({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),LT=Ft(MT),FT=ke({},uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$T=Ft(FT),bT=ke({},uo,{data:0}),Nm=Ft(bT),UT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zT[t])?!!e[t]:!1}function cd(){return BT}var HT=ke({},Zs,{key:function(t){if(t.key){var e=UT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(t){return t.type==="keypress"?sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WT=Ft(HT),qT=ke({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=Ft(qT),KT=ke({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),QT=Ft(KT),GT=ke({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),YT=Ft(GT),XT=ke({},fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JT=Ft(XT),ZT=[9,13,27,32],hd=bn&&"CompositionEvent"in window,Jo=null;bn&&"documentMode"in document&&(Jo=document.documentMode);var eS=bn&&"TextEvent"in window&&!Jo,Kv=bn&&(!hd||Jo&&8<Jo&&11>=Jo),Om=String.fromCharCode(32),Mm=!1;function Qv(t,e){switch(t){case"keyup":return ZT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yi=!1;function tS(t,e){switch(t){case"compositionend":return Gv(e);case"keypress":return e.which!==32?null:(Mm=!0,Om);case"textInput":return t=e.data,t===Om&&Mm?null:t;default:return null}}function nS(t,e){if(yi)return t==="compositionend"||!hd&&Qv(t,e)?(t=qv(),ol=ld=or=null,yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kv&&e.locale!=="ko"?null:e.data;default:return null}}var rS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rS[t.type]:e==="textarea"}function Yv(t,e,n,r){Av(r),e=Al(e,"onChange"),0<e.length&&(n=new ud("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zo=null,Es=null;function iS(t){a_(t,0)}function du(t){var e=Ei(t);if(Ev(e))return t}function oS(t,e){if(t==="change")return e}var Xv=!1;if(bn){var Cc;if(bn){var Rc="oninput"in document;if(!Rc){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),Rc=typeof Fm.oninput=="function"}Cc=Rc}else Cc=!1;Xv=Cc&&(!document.documentMode||9<document.documentMode)}function $m(){Zo&&(Zo.detachEvent("onpropertychange",Jv),Es=Zo=null)}function Jv(t){if(t.propertyName==="value"&&du(Es)){var e=[];Yv(e,Es,t,rd(t)),Dv(iS,e)}}function sS(t,e,n){t==="focusin"?($m(),Zo=e,Es=n,Zo.attachEvent("onpropertychange",Jv)):t==="focusout"&&$m()}function aS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(Es)}function lS(t,e){if(t==="click")return du(e)}function uS(t,e){if(t==="input"||t==="change")return du(e)}function cS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:cS;function ws(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!uh.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Um(t,e){var n=bm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bm(n)}}function Zv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e_(){for(var t=window,e=El();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=El(t.document)}return e}function fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hS(t){var e=e_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Zv(n.ownerDocument.documentElement,n)){if(r!==null&&fd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Um(n,o);var s=Um(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fS=bn&&"documentMode"in document&&11>=document.documentMode,vi=null,Ph=null,es=null,xh=!1;function jm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xh||vi==null||vi!==El(r)||(r=vi,"selectionStart"in r&&fd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),es&&ws(es,r)||(es=r,r=Al(Ph,"onSelect"),0<r.length&&(e=new ud("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vi)))}function Ma(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Ac={},t_={};bn&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function pu(t){if(Ac[t])return Ac[t];if(!_i[t])return t;var e=_i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t_)return Ac[t]=e[n];return t}var n_=pu("animationend"),r_=pu("animationiteration"),i_=pu("animationstart"),o_=pu("transitionend"),s_=new Map,zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){s_.set(t,e),ii(e,[t])}for(var Pc=0;Pc<zm.length;Pc++){var xc=zm[Pc],dS=xc.toLowerCase(),pS=xc[0].toUpperCase()+xc.slice(1);Ar(dS,"on"+pS)}Ar(n_,"onAnimationEnd");Ar(r_,"onAnimationIteration");Ar(i_,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(o_,"onTransitionEnd");Wi("onMouseEnter",["mouseout","mouseover"]);Wi("onMouseLeave",["mouseout","mouseover"]);Wi("onPointerEnter",["pointerout","pointerover"]);Wi("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function Bm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dT(r,e,void 0,t),t.currentTarget=null}function a_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Bm(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Bm(i,a,u),o=l}}}if(Tl)throw t=Ih,Tl=!1,Ih=null,t}function Ee(t,e){var n=e[Oh];n===void 0&&(n=e[Oh]=new Set);var r=t+"__bubble";n.has(r)||(l_(e,t,2,!1),n.add(r))}function kc(t,e,n){var r=0;e&&(r|=4),l_(n,t,r,e)}var La="_reactListening"+Math.random().toString(36).slice(2);function Ts(t){if(!t[La]){t[La]=!0,mv.forEach(function(n){n!=="selectionchange"&&(mS.has(n)||kc(n,!1,t),kc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[La]||(e[La]=!0,kc("selectionchange",!1,e))}}function l_(t,e,n,r){switch(Wv(e)){case 1:var i=xT;break;case 4:i=kT;break;default:i=ad}n=i.bind(null,e,n,t),i=void 0,!Sh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Lr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Dv(function(){var u=o,c=rd(n),h=[];e:{var f=s_.get(t);if(f!==void 0){var p=ud,v=t;switch(t){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":p=WT;break;case"focusin":v="focus",p=Ic;break;case"focusout":v="blur",p=Ic;break;case"beforeblur":case"afterblur":p=Ic;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=VT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QT;break;case n_:case r_:case i_:p=LT;break;case o_:p=YT;break;case"scroll":p=DT;break;case"wheel":p=JT;break;case"copy":case"cut":case"paste":p=$T;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vm}var _=(e&4)!==0,w=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var d=u,y;d!==null;){y=d;var g=y.stateNode;if(y.tag===5&&g!==null&&(y=g,m!==null&&(g=gs(d,m),g!=null&&_.push(Ss(d,g,y)))),w)break;d=d.return}0<_.length&&(f=new p(f,v,null,n,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==wh&&(v=n.relatedTarget||n.fromElement)&&(Lr(v)||v[Un]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Lr(v):null,v!==null&&(w=oi(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(_=Dm,g="onMouseLeave",m="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(_=Vm,g="onPointerLeave",m="onPointerEnter",d="pointer"),w=p==null?f:Ei(p),y=v==null?f:Ei(v),f=new _(g,d+"leave",p,n,c),f.target=w,f.relatedTarget=y,g=null,Lr(c)===u&&(_=new _(m,d+"enter",v,n,c),_.target=y,_.relatedTarget=w,g=_),w=g,p&&v)t:{for(_=p,m=v,d=0,y=_;y;y=ci(y))d++;for(y=0,g=m;g;g=ci(g))y++;for(;0<d-y;)_=ci(_),d--;for(;0<y-d;)m=ci(m),y--;for(;d--;){if(_===m||m!==null&&_===m.alternate)break t;_=ci(_),m=ci(m)}_=null}else _=null;p!==null&&Hm(h,f,p,_,!1),v!==null&&w!==null&&Hm(h,w,v,_,!0)}}e:{if(f=u?Ei(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=oS;else if(Lm(f))if(Xv)R=uS;else{R=aS;var k=sS}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=lS);if(R&&(R=R(t,u))){Yv(h,R,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&gh(f,"number",f.value)}switch(k=u?Ei(u):window,t){case"focusin":(Lm(k)||k.contentEditable==="true")&&(vi=k,Ph=u,es=null);break;case"focusout":es=Ph=vi=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,jm(h,n,c);break;case"selectionchange":if(fS)break;case"keydown":case"keyup":jm(h,n,c)}var V;if(hd)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else yi?Qv(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Kv&&n.locale!=="ko"&&(yi||M!=="onCompositionStart"?M==="onCompositionEnd"&&yi&&(V=qv()):(or=c,ld="value"in or?or.value:or.textContent,yi=!0)),k=Al(u,M),0<k.length&&(M=new Nm(M,t,null,n,c),h.push({event:M,listeners:k}),V?M.data=V:(V=Gv(n),V!==null&&(M.data=V)))),(V=eS?tS(t,n):nS(t,n))&&(u=Al(u,"onBeforeInput"),0<u.length&&(c=new Nm("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=V))}a_(h,e)})}function Ss(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Al(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gs(t,n),o!=null&&r.unshift(Ss(t,o,i)),o=gs(t,e),o!=null&&r.push(Ss(t,o,i))),t=t.return}return r}function ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=gs(n,o),l!=null&&s.unshift(Ss(n,l,a))):i||(l=gs(n,o),l!=null&&s.push(Ss(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var gS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function Wm(t){return(typeof t=="string"?t:""+t).replace(gS,`
`).replace(yS,"")}function Fa(t,e,n){if(e=Wm(e),Wm(t)!==e&&n)throw Error(x(425))}function Pl(){}var kh=null,Dh=null;function Nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vh=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(t){return qm.resolve(null).then(t).catch(ES)}:Vh;function ES(t){setTimeout(function(){throw t})}function Nc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_s(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_s(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Km(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),_n="__reactFiber$"+co,Is="__reactProps$"+co,Un="__reactContainer$"+co,Oh="__reactEvents$"+co,wS="__reactListeners$"+co,TS="__reactHandles$"+co;function Lr(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[_n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Km(t);t!==null;){if(n=t[_n])return n;t=Km(t)}return e}t=n,n=t.parentNode}return null}function ea(t){return t=t[_n]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function mu(t){return t[Is]||null}var Mh=[],wi=-1;function Pr(t){return{current:t}}function Ie(t){0>wi||(t.current=Mh[wi],Mh[wi]=null,wi--)}function _e(t,e){wi++,Mh[wi]=t.current,t.current=e}var wr={},mt=Pr(wr),Rt=Pr(!1),Kr=wr;function qi(t,e){var n=t.type.contextTypes;if(!n)return wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function xl(){Ie(Rt),Ie(mt)}function Qm(t,e,n){if(mt.current!==wr)throw Error(x(168));_e(mt,e),_e(Rt,n)}function u_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,sT(t)||"Unknown",i));return ke({},n,r)}function kl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wr,Kr=mt.current,_e(mt,t),_e(Rt,Rt.current),!0}function Gm(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=u_(t,e,Kr),r.__reactInternalMemoizedMergedChildContext=t,Ie(Rt),Ie(mt),_e(mt,t)):Ie(Rt),_e(Rt,n)}var Vn=null,gu=!1,Vc=!1;function c_(t){Vn===null?Vn=[t]:Vn.push(t)}function SS(t){gu=!0,c_(t)}function xr(){if(!Vc&&Vn!==null){Vc=!0;var t=0,e=me;try{var n=Vn;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vn=null,gu=!1}catch(i){throw Vn!==null&&(Vn=Vn.slice(t+1)),Mv(id,xr),i}finally{me=e,Vc=!1}}return null}var Ti=[],Si=0,Dl=null,Nl=0,Bt=[],Ht=0,Qr=null,On=1,Mn="";function Nr(t,e){Ti[Si++]=Nl,Ti[Si++]=Dl,Dl=t,Nl=e}function h_(t,e,n){Bt[Ht++]=On,Bt[Ht++]=Mn,Bt[Ht++]=Qr,Qr=t;var r=On;t=Mn;var i=32-an(r)-1;r&=~(1<<i),n+=1;var o=32-an(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,On=1<<32-an(e)+i|n<<i|r,Mn=o+t}else On=1<<o|n<<i|r,Mn=t}function dd(t){t.return!==null&&(Nr(t,1),h_(t,1,0))}function pd(t){for(;t===Dl;)Dl=Ti[--Si],Ti[Si]=null,Nl=Ti[--Si],Ti[Si]=null;for(;t===Qr;)Qr=Bt[--Ht],Bt[Ht]=null,Mn=Bt[--Ht],Bt[Ht]=null,On=Bt[--Ht],Bt[Ht]=null}var Vt=null,Nt=null,Ae=!1,on=null;function f_(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ym(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qr!==null?{id:On,overflow:Mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Nt=null,!0):!1;default:return!1}}function Lh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fh(t){if(Ae){var e=Nt;if(e){var n=e;if(!Ym(t,e)){if(Lh(t))throw Error(x(418));e=fr(n.nextSibling);var r=Vt;e&&Ym(t,e)?f_(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Vt=t)}}else{if(Lh(t))throw Error(x(418));t.flags=t.flags&-4097|2,Ae=!1,Vt=t}}}function Xm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function $a(t){if(t!==Vt)return!1;if(!Ae)return Xm(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nh(t.type,t.memoizedProps)),e&&(e=Nt)){if(Lh(t))throw d_(),Error(x(418));for(;e;)f_(t,e),e=fr(e.nextSibling)}if(Xm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Vt?fr(t.stateNode.nextSibling):null;return!0}function d_(){for(var t=Nt;t;)t=fr(t.nextSibling)}function Ki(){Nt=Vt=null,Ae=!1}function md(t){on===null?on=[t]:on.push(t)}var IS=Gn.ReactCurrentBatchConfig;function en(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Vl=Pr(null),Ol=null,Ii=null,gd=null;function yd(){gd=Ii=Ol=null}function vd(t){var e=Vl.current;Ie(Vl),t._currentValue=e}function $h(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mi(t,e){Ol=t,gd=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(gd!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if(Ol===null)throw Error(x(308));Ii=t,Ol.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var Fr=null;function _d(t){Fr===null?Fr=[t]:Fr.push(t)}function p_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_d(e)):(n.next=i.next,i.next=n),e.interleaved=n,jn(t,r)}function jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nr=!1;function Ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jn(t,n)}return i=r.interleaved,i===null?(e.next=e,_d(r)):(e.next=i.next,i.next=e),r.interleaved=e,jn(t,n)}function al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,od(t,n)}}function Jm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ml(t,e,n,r){var i=t.updateQueue;nr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(f=e,p=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=ke({},h,f);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Yr|=s,t.lanes=s,t.memoizedState=h}}function Zm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var g_=new pv.Component().refs;function bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yu={isMounted:function(t){return(t=t._reactInternals)?oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),i=mr(t),o=Fn(r,i);o.payload=e,n!=null&&(o.callback=n),e=dr(t,o,i),e!==null&&(ln(e,t,i,r),al(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),i=mr(t),o=Fn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=dr(t,o,i),e!==null&&(ln(e,t,i,r),al(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=mr(t),i=Fn(n,r);i.tag=2,e!=null&&(i.callback=e),e=dr(t,i,r),e!==null&&(ln(e,t,r,n),al(e,t,r))}};function eg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ws(n,r)||!ws(i,o):!0}function y_(t,e,n){var r=!1,i=wr,o=e.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(i=At(e)?Kr:mt.current,r=e.contextTypes,o=(r=r!=null)?qi(t,i):wr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function tg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yu.enqueueReplaceState(e,e.state,null)}function Uh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=g_,Ed(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Gt(o):(o=At(e)?Kr:mt.current,i.context=qi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yu.enqueueReplaceState(i,i.state,null),Ml(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===g_&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function ba(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ng(t){var e=t._init;return e(t._payload)}function v_(t){function e(m,d){if(t){var y=m.deletions;y===null?(m.deletions=[d],m.flags|=16):y.push(d)}}function n(m,d){if(!t)return null;for(;d!==null;)e(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function i(m,d){return m=gr(m,d),m.index=0,m.sibling=null,m}function o(m,d,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<d?(m.flags|=2,d):y):(m.flags|=2,d)):(m.flags|=1048576,d)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,d,y,g){return d===null||d.tag!==6?(d=Uc(y,m.mode,g),d.return=m,d):(d=i(d,y),d.return=m,d)}function l(m,d,y,g){var R=y.type;return R===gi?c(m,d,y.props.children,g,y.key):d!==null&&(d.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===tr&&ng(R)===d.type)?(g=i(d,y.props),g.ref=No(m,d,y),g.return=m,g):(g=dl(y.type,y.key,y.props,null,m.mode,g),g.ref=No(m,d,y),g.return=m,g)}function u(m,d,y,g){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=jc(y,m.mode,g),d.return=m,d):(d=i(d,y.children||[]),d.return=m,d)}function c(m,d,y,g,R){return d===null||d.tag!==7?(d=Hr(y,m.mode,g,R),d.return=m,d):(d=i(d,y),d.return=m,d)}function h(m,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Uc(""+d,m.mode,y),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Pa:return y=dl(d.type,d.key,d.props,null,m.mode,y),y.ref=No(m,null,d),y.return=m,y;case mi:return d=jc(d,m.mode,y),d.return=m,d;case tr:var g=d._init;return h(m,g(d._payload),y)}if(zo(d)||Ao(d))return d=Hr(d,m.mode,y,null),d.return=m,d;ba(m,d)}return null}function f(m,d,y,g){var R=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return R!==null?null:a(m,d,""+y,g);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:return y.key===R?l(m,d,y,g):null;case mi:return y.key===R?u(m,d,y,g):null;case tr:return R=y._init,f(m,d,R(y._payload),g)}if(zo(y)||Ao(y))return R!==null?null:c(m,d,y,g,null);ba(m,y)}return null}function p(m,d,y,g,R){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(y)||null,a(d,m,""+g,R);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pa:return m=m.get(g.key===null?y:g.key)||null,l(d,m,g,R);case mi:return m=m.get(g.key===null?y:g.key)||null,u(d,m,g,R);case tr:var k=g._init;return p(m,d,y,k(g._payload),R)}if(zo(g)||Ao(g))return m=m.get(y)||null,c(d,m,g,R,null);ba(d,g)}return null}function v(m,d,y,g){for(var R=null,k=null,V=d,M=d=0,ie=null;V!==null&&M<y.length;M++){V.index>M?(ie=V,V=null):ie=V.sibling;var q=f(m,V,y[M],g);if(q===null){V===null&&(V=ie);break}t&&V&&q.alternate===null&&e(m,V),d=o(q,d,M),k===null?R=q:k.sibling=q,k=q,V=ie}if(M===y.length)return n(m,V),Ae&&Nr(m,M),R;if(V===null){for(;M<y.length;M++)V=h(m,y[M],g),V!==null&&(d=o(V,d,M),k===null?R=V:k.sibling=V,k=V);return Ae&&Nr(m,M),R}for(V=r(m,V);M<y.length;M++)ie=p(V,m,M,y[M],g),ie!==null&&(t&&ie.alternate!==null&&V.delete(ie.key===null?M:ie.key),d=o(ie,d,M),k===null?R=ie:k.sibling=ie,k=ie);return t&&V.forEach(function(Ue){return e(m,Ue)}),Ae&&Nr(m,M),R}function _(m,d,y,g){var R=Ao(y);if(typeof R!="function")throw Error(x(150));if(y=R.call(y),y==null)throw Error(x(151));for(var k=R=null,V=d,M=d=0,ie=null,q=y.next();V!==null&&!q.done;M++,q=y.next()){V.index>M?(ie=V,V=null):ie=V.sibling;var Ue=f(m,V,q.value,g);if(Ue===null){V===null&&(V=ie);break}t&&V&&Ue.alternate===null&&e(m,V),d=o(Ue,d,M),k===null?R=Ue:k.sibling=Ue,k=Ue,V=ie}if(q.done)return n(m,V),Ae&&Nr(m,M),R;if(V===null){for(;!q.done;M++,q=y.next())q=h(m,q.value,g),q!==null&&(d=o(q,d,M),k===null?R=q:k.sibling=q,k=q);return Ae&&Nr(m,M),R}for(V=r(m,V);!q.done;M++,q=y.next())q=p(V,m,M,q.value,g),q!==null&&(t&&q.alternate!==null&&V.delete(q.key===null?M:q.key),d=o(q,d,M),k===null?R=q:k.sibling=q,k=q);return t&&V.forEach(function(le){return e(m,le)}),Ae&&Nr(m,M),R}function w(m,d,y,g){if(typeof y=="object"&&y!==null&&y.type===gi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:e:{for(var R=y.key,k=d;k!==null;){if(k.key===R){if(R=y.type,R===gi){if(k.tag===7){n(m,k.sibling),d=i(k,y.props.children),d.return=m,m=d;break e}}else if(k.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===tr&&ng(R)===k.type){n(m,k.sibling),d=i(k,y.props),d.ref=No(m,k,y),d.return=m,m=d;break e}n(m,k);break}else e(m,k);k=k.sibling}y.type===gi?(d=Hr(y.props.children,m.mode,g,y.key),d.return=m,m=d):(g=dl(y.type,y.key,y.props,null,m.mode,g),g.ref=No(m,d,y),g.return=m,m=g)}return s(m);case mi:e:{for(k=y.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(m,d.sibling),d=i(d,y.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else e(m,d);d=d.sibling}d=jc(y,m.mode,g),d.return=m,m=d}return s(m);case tr:return k=y._init,w(m,d,k(y._payload),g)}if(zo(y))return v(m,d,y,g);if(Ao(y))return _(m,d,y,g);ba(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(m,d.sibling),d=i(d,y),d.return=m,m=d):(n(m,d),d=Uc(y,m.mode,g),d.return=m,m=d),s(m)):n(m,d)}return w}var Qi=v_(!0),__=v_(!1),ta={},In=Pr(ta),Cs=Pr(ta),Rs=Pr(ta);function $r(t){if(t===ta)throw Error(x(174));return t}function wd(t,e){switch(_e(Rs,e),_e(Cs,t),_e(In,ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vh(e,t)}Ie(In),_e(In,e)}function Gi(){Ie(In),Ie(Cs),Ie(Rs)}function E_(t){$r(Rs.current);var e=$r(In.current),n=vh(e,t.type);e!==n&&(_e(Cs,t),_e(In,n))}function Td(t){Cs.current===t&&(Ie(In),Ie(Cs))}var Pe=Pr(0);function Ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oc=[];function Sd(){for(var t=0;t<Oc.length;t++)Oc[t]._workInProgressVersionPrimary=null;Oc.length=0}var ll=Gn.ReactCurrentDispatcher,Mc=Gn.ReactCurrentBatchConfig,Gr=0,xe=null,ze=null,Ke=null,Fl=!1,ts=!1,As=0,CS=0;function it(){throw Error(x(321))}function Id(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function Cd(t,e,n,r,i,o){if(Gr=o,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ll.current=t===null||t.memoizedState===null?xS:kS,t=n(r,i),ts){o=0;do{if(ts=!1,As=0,25<=o)throw Error(x(301));o+=1,Ke=ze=null,e.updateQueue=null,ll.current=DS,t=n(r,i)}while(ts)}if(ll.current=$l,e=ze!==null&&ze.next!==null,Gr=0,Ke=ze=xe=null,Fl=!1,e)throw Error(x(300));return t}function Rd(){var t=As!==0;return As=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?xe.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Yt(){if(ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ke===null?xe.memoizedState:Ke.next;if(e!==null)Ke=e,ze=t;else{if(t===null)throw Error(x(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ke===null?xe.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Ps(t,e){return typeof e=="function"?e(t):e}function Lc(t){var e=Yt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Gr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,xe.lanes|=c,Yr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,hn(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,xe.lanes|=o,Yr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fc(t){var e=Yt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);hn(o,e.memoizedState)||(Ct=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function w_(){}function T_(t,e){var n=xe,r=Yt(),i=e(),o=!hn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ct=!0),r=r.queue,Ad(C_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,xs(9,I_.bind(null,n,r,i,e),void 0,null),Qe===null)throw Error(x(349));Gr&30||S_(n,e,i)}return i}function S_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I_(t,e,n,r){e.value=n,e.getSnapshot=r,R_(e)&&A_(t)}function C_(t,e,n){return n(function(){R_(e)&&A_(t)})}function R_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function A_(t){var e=jn(t,1);e!==null&&ln(e,t,1,-1)}function rg(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},e.queue=t,t=t.dispatch=PS.bind(null,xe,t),[e.memoizedState,t]}function xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P_(){return Yt().memoizedState}function ul(t,e,n,r){var i=vn();xe.flags|=t,i.memoizedState=xs(1|e,n,void 0,r===void 0?null:r)}function vu(t,e,n,r){var i=Yt();r=r===void 0?null:r;var o=void 0;if(ze!==null){var s=ze.memoizedState;if(o=s.destroy,r!==null&&Id(r,s.deps)){i.memoizedState=xs(e,n,o,r);return}}xe.flags|=t,i.memoizedState=xs(1|e,n,o,r)}function ig(t,e){return ul(8390656,8,t,e)}function Ad(t,e){return vu(2048,8,t,e)}function x_(t,e){return vu(4,2,t,e)}function k_(t,e){return vu(4,4,t,e)}function D_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N_(t,e,n){return n=n!=null?n.concat([t]):null,vu(4,4,D_.bind(null,e,t),n)}function Pd(){}function V_(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Id(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function O_(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Id(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M_(t,e,n){return Gr&21?(hn(n,e)||(n=$v(),xe.lanes|=n,Yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function RS(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=Mc.transition;Mc.transition={};try{t(!1),e()}finally{me=n,Mc.transition=r}}function L_(){return Yt().memoizedState}function AS(t,e,n){var r=mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F_(t))$_(e,n);else if(n=p_(t,e,n,r),n!==null){var i=_t();ln(n,t,r,i),b_(n,e,r)}}function PS(t,e,n){var r=mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F_(t))$_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,hn(a,s)){var l=e.interleaved;l===null?(i.next=i,_d(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=p_(t,e,i,r),n!==null&&(i=_t(),ln(n,t,r,i),b_(n,e,r))}}function F_(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function $_(t,e){ts=Fl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,od(t,n)}}var $l={readContext:Gt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},xS={readContext:Gt,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:ig,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ul(4194308,4,D_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ul(4194308,4,t,e)},useInsertionEffect:function(t,e){return ul(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AS.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:rg,useDebugValue:Pd,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=rg(!1),e=t[0];return t=RS.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=vn();if(Ae){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),Qe===null)throw Error(x(349));Gr&30||S_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,ig(C_.bind(null,r,o,t),[t]),r.flags|=2048,xs(9,I_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vn(),e=Qe.identifierPrefix;if(Ae){var n=Mn,r=On;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=As++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kS={readContext:Gt,useCallback:V_,useContext:Gt,useEffect:Ad,useImperativeHandle:N_,useInsertionEffect:x_,useLayoutEffect:k_,useMemo:O_,useReducer:Lc,useRef:P_,useState:function(){return Lc(Ps)},useDebugValue:Pd,useDeferredValue:function(t){var e=Yt();return M_(e,ze.memoizedState,t)},useTransition:function(){var t=Lc(Ps)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:w_,useSyncExternalStore:T_,useId:L_,unstable_isNewReconciler:!1},DS={readContext:Gt,useCallback:V_,useContext:Gt,useEffect:Ad,useImperativeHandle:N_,useInsertionEffect:x_,useLayoutEffect:k_,useMemo:O_,useReducer:Fc,useRef:P_,useState:function(){return Fc(Ps)},useDebugValue:Pd,useDeferredValue:function(t){var e=Yt();return ze===null?e.memoizedState=t:M_(e,ze.memoizedState,t)},useTransition:function(){var t=Fc(Ps)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:w_,useSyncExternalStore:T_,useId:L_,unstable_isNewReconciler:!1};function Yi(t,e){try{var n="",r=e;do n+=oT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $c(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NS=typeof WeakMap=="function"?WeakMap:Map;function U_(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ul||(Ul=!0,Xh=r),jh(t,e)},n}function j_(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jh(t,e),typeof r!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function og(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qS.bind(null,t,e,n),e.then(t,t))}function sg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ag(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,dr(n,e,1))),n.lanes|=1),t)}var VS=Gn.ReactCurrentOwner,Ct=!1;function yt(t,e,n,r){e.child=t===null?__(e,null,n,r):Qi(e,t.child,n,r)}function lg(t,e,n,r,i){n=n.render;var o=e.ref;return Mi(e,i),r=Cd(t,e,n,r,o,i),n=Rd(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):(Ae&&n&&dd(e),e.flags|=1,yt(t,e,r,i),e.child)}function ug(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ld(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,z_(t,e,o,r,i)):(t=dl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ws,n(s,r)&&t.ref===e.ref)return zn(t,e,i)}return e.flags|=1,t=gr(o,r),t.ref=e.ref,t.return=e,e.child=t}function z_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ws(o,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,zn(t,e,i)}return zh(t,e,n,r,i)}function B_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Ri,Dt),Dt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Ri,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Ri,Dt),Dt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_e(Ri,Dt),Dt|=r;return yt(t,e,i,n),e.child}function H_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zh(t,e,n,r,i){var o=At(n)?Kr:mt.current;return o=qi(e,o),Mi(e,i),n=Cd(t,e,n,r,o,i),r=Rd(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):(Ae&&r&&dd(e),e.flags|=1,yt(t,e,n,i),e.child)}function cg(t,e,n,r,i){if(At(n)){var o=!0;kl(e)}else o=!1;if(Mi(e,i),e.stateNode===null)cl(t,e),y_(e,n,r),Uh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=At(n)?Kr:mt.current,u=qi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&tg(e,s,r,u),nr=!1;var f=e.memoizedState;s.state=f,Ml(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Rt.current||nr?(typeof c=="function"&&(bh(e,n,c,r),l=e.memoizedState),(a=nr||eg(e,n,a,r,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,m_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:en(e.type,a),s.props=u,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=At(n)?Kr:mt.current,l=qi(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&tg(e,s,r,l),nr=!1,f=e.memoizedState,s.state=f,Ml(e,r,s,i);var v=e.memoizedState;a!==h||f!==v||Rt.current||nr?(typeof p=="function"&&(bh(e,n,p,r),v=e.memoizedState),(u=nr||eg(e,n,u,r,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Bh(t,e,n,r,o,i)}function Bh(t,e,n,r,i,o){H_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Gm(e,n,!1),zn(t,e,o);r=e.stateNode,VS.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Qi(e,t.child,null,o),e.child=Qi(e,null,a,o)):yt(t,e,a,o),e.memoizedState=r.state,i&&Gm(e,n,!0),e.child}function W_(t){var e=t.stateNode;e.pendingContext?Qm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qm(t,e.context,!1),wd(t,e.containerInfo)}function hg(t,e,n,r,i){return Ki(),md(i),e.flags|=256,yt(t,e,n,r),e.child}var Hh={dehydrated:null,treeContext:null,retryLane:0};function Wh(t){return{baseLanes:t,cachePool:null,transitions:null}}function q_(t,e,n){var r=e.pendingProps,i=Pe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Pe,i&1),t===null)return Fh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=wu(s,r,0,null),t=Hr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Wh(n),e.memoizedState=Hh,t):xd(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OS(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=gr(a,o):(o=Hr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Wh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Hh,r}return o=t.child,t=o.sibling,r=gr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xd(t,e){return e=wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ua(t,e,n,r){return r!==null&&md(r),Qi(e,t.child,null,n),t=xd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=$c(Error(x(422))),Ua(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=wu({mode:"visible",children:r.children},i,0,null),o=Hr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Qi(e,t.child,null,s),e.child.memoizedState=Wh(s),e.memoizedState=Hh,o);if(!(e.mode&1))return Ua(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(x(419)),r=$c(o,r,void 0),Ua(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ct||a){if(r=Qe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jn(t,i),ln(r,t,i,-1))}return Md(),r=$c(Error(x(421))),Ua(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nt=fr(i.nextSibling),Vt=e,Ae=!0,on=null,t!==null&&(Bt[Ht++]=On,Bt[Ht++]=Mn,Bt[Ht++]=Qr,On=t.id,Mn=t.overflow,Qr=e),e=xd(e,r.children),e.flags|=4096,e)}function fg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$h(t.return,e,n)}function bc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function K_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,n,e);else if(t.tag===19)fg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ll(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ll(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bc(e,!0,n,null,o);break;case"together":bc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MS(t,e,n){switch(e.tag){case 3:W_(e),Ki();break;case 5:E_(e);break;case 1:At(e.type)&&kl(e);break;case 4:wd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(Vl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?q_(t,e,n):(_e(Pe,Pe.current&1),t=zn(t,e,n),t!==null?t.sibling:null);_e(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return K_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,B_(t,e,n)}return zn(t,e,n)}var Q_,qh,G_,Y_;Q_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qh=function(){};G_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$r(In.current);var o=null;switch(n){case"input":i=ph(t,i),r=ph(t,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=yh(t,i),r=yh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pl)}_h(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ps.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ps.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ee("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Y_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vo(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LS(t,e,n){var r=e.pendingProps;switch(pd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return At(e.type)&&xl(),ot(e),null;case 3:return r=e.stateNode,Gi(),Ie(Rt),Ie(mt),Sd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($a(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(ef(on),on=null))),qh(t,e),ot(e),null;case 5:Td(e);var i=$r(Rs.current);if(n=e.type,t!==null&&e.stateNode!=null)G_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return ot(e),null}if(t=$r(In.current),$a(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_n]=e,r[Is]=o,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Ho.length;i++)Ee(Ho[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":wm(r,o),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",r);break;case"textarea":Sm(r,o),Ee("invalid",r)}_h(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),i=["children",""+a]):ps.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ee("scroll",r)}switch(n){case"input":xa(r),Tm(r,o,!0);break;case"textarea":xa(r),Im(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Pl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_n]=e,t[Is]=r,Q_(t,e,!1,!1),e.stateNode=t;e:{switch(s=Eh(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ho.length;i++)Ee(Ho[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":wm(t,r),i=ph(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":Sm(t,r),i=yh(t,r),Ee("invalid",t);break;default:i=r}_h(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Rv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Iv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ms(t,l):typeof l=="number"&&ms(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ps.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ee("scroll",t):l!=null&&Zf(t,o,l,s))}switch(n){case"input":xa(t),Tm(t,r,!1);break;case"textarea":xa(t),Im(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Er(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Di(t,!!r.multiple,o,!1):r.defaultValue!=null&&Di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)Y_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=$r(Rs.current),$r(In.current),$a(e)){if(r=e.stateNode,n=e.memoizedProps,r[_n]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=e,e.stateNode=r}return ot(e),null;case 13:if(Ie(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Nt!==null&&e.mode&1&&!(e.flags&128))d_(),Ki(),e.flags|=98560,o=!1;else if(o=$a(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(x(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(x(317));o[_n]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),o=!1}else on!==null&&(ef(on),on=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Be===0&&(Be=3):Md())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return Gi(),qh(t,e),t===null&&Ts(e.stateNode.containerInfo),ot(e),null;case 10:return vd(e.type._context),ot(e),null;case 17:return At(e.type)&&xl(),ot(e),null;case 19:if(Ie(Pe),o=e.memoizedState,o===null)return ot(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Vo(o,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ll(t),s!==null){for(e.flags|=128,Vo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Pe,Pe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Oe()>Xi&&(e.flags|=128,r=!0,Vo(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ll(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ae)return ot(e),null}else 2*Oe()-o.renderingStartTime>Xi&&n!==1073741824&&(e.flags|=128,r=!0,Vo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Oe(),e.sibling=null,n=Pe.current,_e(Pe,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return Od(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function FS(t,e){switch(pd(e),e.tag){case 1:return At(e.type)&&xl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gi(),Ie(Rt),Ie(mt),Sd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Td(e),null;case 13:if(Ie(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Pe),null;case 4:return Gi(),null;case 10:return vd(e.type._context),null;case 22:case 23:return Od(),null;case 24:return null;default:return null}}var ja=!1,ut=!1,$S=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function Kh(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var dg=!1;function bS(t,e){if(kh=Cl,t=e_(),fd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dh={focusedElem:t,selectionRange:n},Cl=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,w=v.memoizedState,m=e.stateNode,d=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:en(e.type,_),w);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(g){Ne(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return v=dg,dg=!1,v}function ns(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Kh(e,n,o)}i=i.next}while(i!==r)}}function _u(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function X_(t){var e=t.alternate;e!==null&&(t.alternate=null,X_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_n],delete e[Is],delete e[Oh],delete e[wS],delete e[TS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J_(t){return t.tag===5||t.tag===3||t.tag===4}function pg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pl));else if(r!==4&&(t=t.child,t!==null))for(Gh(t,e,n),t=t.sibling;t!==null;)Gh(t,e,n),t=t.sibling}function Yh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yh(t,e,n),t=t.sibling;t!==null;)Yh(t,e,n),t=t.sibling}var Je=null,nn=!1;function er(t,e,n){for(n=n.child;n!==null;)Z_(t,e,n),n=n.sibling}function Z_(t,e,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(hu,n)}catch{}switch(n.tag){case 5:ut||Ci(n,e);case 6:var r=Je,i=nn;Je=null,er(t,e,n),Je=r,nn=i,Je!==null&&(nn?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(nn?(t=Je,n=n.stateNode,t.nodeType===8?Nc(t.parentNode,n):t.nodeType===1&&Nc(t,n),_s(t)):Nc(Je,n.stateNode));break;case 4:r=Je,i=nn,Je=n.stateNode.containerInfo,nn=!0,er(t,e,n),Je=r,nn=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Kh(n,e,s),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!ut&&(Ci(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,er(t,e,n),ut=r):er(t,e,n);break;default:er(t,e,n)}}function mg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $S),e.forEach(function(r){var i=QS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,nn=!1;break e;case 3:Je=a.stateNode.containerInfo,nn=!0;break e;case 4:Je=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(Je===null)throw Error(x(160));Z_(o,s,i),Je=null,nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e0(e,t),e=e.sibling}function e0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),yn(t),r&4){try{ns(3,t,t.return),_u(3,t)}catch(_){Ne(t,t.return,_)}try{ns(5,t,t.return)}catch(_){Ne(t,t.return,_)}}break;case 1:Jt(e,t),yn(t),r&512&&n!==null&&Ci(n,n.return);break;case 5:if(Jt(e,t),yn(t),r&512&&n!==null&&Ci(n,n.return),t.flags&32){var i=t.stateNode;try{ms(i,"")}catch(_){Ne(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&wv(i,o),Eh(a,s);var u=Eh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?Rv(i,h):c==="dangerouslySetInnerHTML"?Iv(i,h):c==="children"?ms(i,h):Zf(i,c,h,u)}switch(a){case"input":mh(i,o);break;case"textarea":Tv(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Di(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Di(i,!!o.multiple,o.defaultValue,!0):Di(i,!!o.multiple,o.multiple?[]:"",!1))}i[Is]=o}catch(_){Ne(t,t.return,_)}}break;case 6:if(Jt(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){Ne(t,t.return,_)}}break;case 3:if(Jt(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_s(e.containerInfo)}catch(_){Ne(t,t.return,_)}break;case 4:Jt(e,t),yn(t);break;case 13:Jt(e,t),yn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Nd=Oe())),r&4&&mg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(u=ut)||c,Jt(e,t),ut=u):Jt(e,t),yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(h=F=c;F!==null;){switch(f=F,p=f.child,f.tag){case 0:case 11:case 14:case 15:ns(4,f,f.return);break;case 1:Ci(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Ne(r,n,_)}}break;case 5:Ci(f,f.return);break;case 22:if(f.memoizedState!==null){yg(h);continue}}p!==null?(p.return=f,F=p):yg(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Cv("display",s))}catch(_){Ne(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ne(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jt(e,t),yn(t),r&4&&mg(t);break;case 21:break;default:Jt(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(J_(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ms(i,""),r.flags&=-33);var o=pg(t);Yh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=pg(t);Gh(t,a,s);break;default:throw Error(x(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function US(t,e,n){F=t,t0(t)}function t0(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ja;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ut;a=ja;var u=ut;if(ja=s,(ut=l)&&!u)for(F=i;F!==null;)s=F,l=s.child,s.tag===22&&s.memoizedState!==null?vg(i):l!==null?(l.return=s,F=l):vg(i);for(;o!==null;)F=o,t0(o),o=o.sibling;F=i,ja=a,ut=u}gg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):gg(t)}}function gg(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||_u(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:en(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Zm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zm(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&_s(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}ut||e.flags&512&&Qh(e)}catch(f){Ne(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function yg(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function vg(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_u(4,e)}catch(l){Ne(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ne(e,i,l)}}var o=e.return;try{Qh(e)}catch(l){Ne(e,o,l)}break;case 5:var s=e.return;try{Qh(e)}catch(l){Ne(e,s,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var jS=Math.ceil,bl=Gn.ReactCurrentDispatcher,kd=Gn.ReactCurrentOwner,Qt=Gn.ReactCurrentBatchConfig,ue=0,Qe=null,$e=null,tt=0,Dt=0,Ri=Pr(0),Be=0,ks=null,Yr=0,Eu=0,Dd=0,rs=null,It=null,Nd=0,Xi=1/0,Nn=null,Ul=!1,Xh=null,pr=null,za=!1,sr=null,jl=0,is=0,Jh=null,hl=-1,fl=0;function _t(){return ue&6?Oe():hl!==-1?hl:hl=Oe()}function mr(t){return t.mode&1?ue&2&&tt!==0?tt&-tt:IS.transition!==null?(fl===0&&(fl=$v()),fl):(t=me,t!==0||(t=window.event,t=t===void 0?16:Wv(t.type)),t):1}function ln(t,e,n,r){if(50<is)throw is=0,Jh=null,Error(x(185));Js(t,n,r),(!(ue&2)||t!==Qe)&&(t===Qe&&(!(ue&2)&&(Eu|=n),Be===4&&ir(t,tt)),Pt(t,r),n===1&&ue===0&&!(e.mode&1)&&(Xi=Oe()+500,gu&&xr()))}function Pt(t,e){var n=t.callbackNode;IT(t,e);var r=Il(t,t===Qe?tt:0);if(r===0)n!==null&&Am(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Am(n),e===1)t.tag===0?SS(_g.bind(null,t)):c_(_g.bind(null,t)),_S(function(){!(ue&6)&&xr()}),n=null;else{switch(bv(r)){case 1:n=id;break;case 4:n=Lv;break;case 16:n=Sl;break;case 536870912:n=Fv;break;default:n=Sl}n=u0(n,n0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n0(t,e){if(hl=-1,fl=0,ue&6)throw Error(x(327));var n=t.callbackNode;if(Li()&&t.callbackNode!==n)return null;var r=Il(t,t===Qe?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zl(t,r);else{e=r;var i=ue;ue|=2;var o=i0();(Qe!==t||tt!==e)&&(Nn=null,Xi=Oe()+500,Br(t,e));do try{HS();break}catch(a){r0(t,a)}while(1);yd(),bl.current=o,ue=i,$e!==null?e=0:(Qe=null,tt=0,e=Be)}if(e!==0){if(e===2&&(i=Ch(t),i!==0&&(r=i,e=Zh(t,i))),e===1)throw n=ks,Br(t,0),ir(t,r),Pt(t,Oe()),n;if(e===6)ir(t,r);else{if(i=t.current.alternate,!(r&30)&&!zS(i)&&(e=zl(t,r),e===2&&(o=Ch(t),o!==0&&(r=o,e=Zh(t,o))),e===1))throw n=ks,Br(t,0),ir(t,r),Pt(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Vr(t,It,Nn);break;case 3:if(ir(t,r),(r&130023424)===r&&(e=Nd+500-Oe(),10<e)){if(Il(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vh(Vr.bind(null,t,It,Nn),e);break}Vr(t,It,Nn);break;case 4:if(ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-an(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jS(r/1960))-r,10<r){t.timeoutHandle=Vh(Vr.bind(null,t,It,Nn),r);break}Vr(t,It,Nn);break;case 5:Vr(t,It,Nn);break;default:throw Error(x(329))}}}return Pt(t,Oe()),t.callbackNode===n?n0.bind(null,t):null}function Zh(t,e){var n=rs;return t.current.memoizedState.isDehydrated&&(Br(t,e).flags|=256),t=zl(t,e),t!==2&&(e=It,It=n,e!==null&&ef(e)),t}function ef(t){It===null?It=t:It.push.apply(It,t)}function zS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~Dd,e&=~Eu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function _g(t){if(ue&6)throw Error(x(327));Li();var e=Il(t,0);if(!(e&1))return Pt(t,Oe()),null;var n=zl(t,e);if(t.tag!==0&&n===2){var r=Ch(t);r!==0&&(e=r,n=Zh(t,r))}if(n===1)throw n=ks,Br(t,0),ir(t,e),Pt(t,Oe()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,It,Nn),Pt(t,Oe()),null}function Vd(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Xi=Oe()+500,gu&&xr())}}function Xr(t){sr!==null&&sr.tag===0&&!(ue&6)&&Li();var e=ue;ue|=1;var n=Qt.transition,r=me;try{if(Qt.transition=null,me=1,t)return t()}finally{me=r,Qt.transition=n,ue=e,!(ue&6)&&xr()}}function Od(){Dt=Ri.current,Ie(Ri)}function Br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vS(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(pd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:Gi(),Ie(Rt),Ie(mt),Sd();break;case 5:Td(r);break;case 4:Gi();break;case 13:Ie(Pe);break;case 19:Ie(Pe);break;case 10:vd(r.type._context);break;case 22:case 23:Od()}n=n.return}if(Qe=t,$e=t=gr(t.current,null),tt=Dt=e,Be=0,ks=null,Dd=Eu=Yr=0,It=rs=null,Fr!==null){for(e=0;e<Fr.length;e++)if(n=Fr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Fr=null}return t}function r0(t,e){do{var n=$e;try{if(yd(),ll.current=$l,Fl){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fl=!1}if(Gr=0,Ke=ze=xe=null,ts=!1,As=0,kd.current=null,n===null||n.return===null){Be=1,ks=e,$e=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=sg(s);if(p!==null){p.flags&=-257,ag(p,s,a,o,e),p.mode&1&&og(o,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){og(o,u,e),Md();break e}l=Error(x(426))}}else if(Ae&&a.mode&1){var w=sg(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ag(w,s,a,o,e),md(Yi(l,a));break e}}o=l=Yi(l,a),Be!==4&&(Be=2),rs===null?rs=[o]:rs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=U_(o,l,e);Jm(o,m);break e;case 1:a=l;var d=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pr===null||!pr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=j_(o,a,e);Jm(o,g);break e}}o=o.return}while(o!==null)}s0(n)}catch(R){e=R,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function i0(){var t=bl.current;return bl.current=$l,t===null?$l:t}function Md(){(Be===0||Be===3||Be===2)&&(Be=4),Qe===null||!(Yr&268435455)&&!(Eu&268435455)||ir(Qe,tt)}function zl(t,e){var n=ue;ue|=2;var r=i0();(Qe!==t||tt!==e)&&(Nn=null,Br(t,e));do try{BS();break}catch(i){r0(t,i)}while(1);if(yd(),ue=n,bl.current=r,$e!==null)throw Error(x(261));return Qe=null,tt=0,Be}function BS(){for(;$e!==null;)o0($e)}function HS(){for(;$e!==null&&!mT();)o0($e)}function o0(t){var e=l0(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?s0(t):$e=e,kd.current=null}function s0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FS(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,$e=null;return}}else if(n=LS(n,e,Dt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Be===0&&(Be=5)}function Vr(t,e,n){var r=me,i=Qt.transition;try{Qt.transition=null,me=1,WS(t,e,n,r)}finally{Qt.transition=i,me=r}return null}function WS(t,e,n,r){do Li();while(sr!==null);if(ue&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(CT(t,o),t===Qe&&($e=Qe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||za||(za=!0,u0(Sl,function(){return Li(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qt.transition,Qt.transition=null;var s=me;me=1;var a=ue;ue|=4,kd.current=null,bS(t,n),e0(n,t),hS(Dh),Cl=!!kh,Dh=kh=null,t.current=n,US(n),gT(),ue=a,me=s,Qt.transition=o}else t.current=n;if(za&&(za=!1,sr=t,jl=i),o=t.pendingLanes,o===0&&(pr=null),_T(n.stateNode),Pt(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,t=Xh,Xh=null,t;return jl&1&&t.tag!==0&&Li(),o=t.pendingLanes,o&1?t===Jh?is++:(is=0,Jh=t):is=0,xr(),null}function Li(){if(sr!==null){var t=bv(jl),e=Qt.transition,n=me;try{if(Qt.transition=null,me=16>t?16:t,sr===null)var r=!1;else{if(t=sr,sr=null,jl=0,ue&6)throw Error(x(331));var i=ue;for(ue|=4,F=t.current;F!==null;){var o=F,s=o.child;if(F.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:ns(8,c,o)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var f=c.sibling,p=c.return;if(X_(c),c===u){F=null;break}if(f!==null){f.return=p,F=f;break}F=p}}}var v=o.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}F=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,F=s;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,F=m;break e}F=o.return}}var d=t.current;for(F=d;F!==null;){s=F;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,F=y;else e:for(s=d;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_u(9,a)}}catch(R){Ne(a,a.return,R)}if(a===s){F=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,F=g;break e}F=a.return}}if(ue=i,xr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(hu,t)}catch{}r=!0}return r}finally{me=n,Qt.transition=e}}return!1}function Eg(t,e,n){e=Yi(n,e),e=U_(t,e,1),t=dr(t,e,1),e=_t(),t!==null&&(Js(t,1,e),Pt(t,e))}function Ne(t,e,n){if(t.tag===3)Eg(t,t,n);else for(;e!==null;){if(e.tag===3){Eg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pr===null||!pr.has(r))){t=Yi(n,t),t=j_(e,t,1),e=dr(e,t,1),t=_t(),e!==null&&(Js(e,1,t),Pt(e,t));break}}e=e.return}}function qS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(tt&n)===n&&(Be===4||Be===3&&(tt&130023424)===tt&&500>Oe()-Nd?Br(t,0):Dd|=n),Pt(t,e)}function a0(t,e){e===0&&(t.mode&1?(e=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):e=1);var n=_t();t=jn(t,e),t!==null&&(Js(t,e,n),Pt(t,n))}function KS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),a0(t,n)}function QS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),a0(t,n)}var l0;l0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,MS(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,Ae&&e.flags&1048576&&h_(e,Nl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cl(t,e),t=e.pendingProps;var i=qi(e,mt.current);Mi(e,n),i=Cd(null,e,r,t,i,n);var o=Rd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(o=!0,kl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ed(e),i.updater=yu,e.stateNode=i,i._reactInternals=e,Uh(e,r,t,n),e=Bh(null,e,r,!0,o,n)):(e.tag=0,Ae&&o&&dd(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YS(r),t=en(r,t),i){case 0:e=zh(null,e,r,t,n);break e;case 1:e=cg(null,e,r,t,n);break e;case 11:e=lg(null,e,r,t,n);break e;case 14:e=ug(null,e,r,en(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),zh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),cg(t,e,r,i,n);case 3:e:{if(W_(e),t===null)throw Error(x(387));r=e.pendingProps,o=e.memoizedState,i=o.element,m_(t,e),Ml(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yi(Error(x(423)),e),e=hg(t,e,r,n,i);break e}else if(r!==i){i=Yi(Error(x(424)),e),e=hg(t,e,r,n,i);break e}else for(Nt=fr(e.stateNode.containerInfo.firstChild),Vt=e,Ae=!0,on=null,n=__(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ki(),r===i){e=zn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return E_(e),t===null&&Fh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Nh(r,i)?s=null:o!==null&&Nh(r,o)&&(e.flags|=32),H_(t,e),yt(t,e,s,n),e.child;case 6:return t===null&&Fh(e),null;case 13:return q_(t,e,n);case 4:return wd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qi(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),lg(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,_e(Vl,r._currentValue),r._currentValue=s,o!==null)if(hn(o.value,s)){if(o.children===i.children&&!Rt.current){e=zn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Fn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$h(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(x(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$h(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mi(e,n),i=Gt(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=en(r,e.pendingProps),i=en(r.type,i),ug(t,e,r,i,n);case 15:return z_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),cl(t,e),e.tag=1,At(r)?(t=!0,kl(e)):t=!1,Mi(e,n),y_(e,r,i),Uh(e,r,i,n),Bh(null,e,r,!0,t,n);case 19:return K_(t,e,n);case 22:return B_(t,e,n)}throw Error(x(156,e.tag))};function u0(t,e){return Mv(t,e)}function GS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new GS(t,e,n,r)}function Ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YS(t){if(typeof t=="function")return Ld(t)?1:0;if(t!=null){if(t=t.$$typeof,t===td)return 11;if(t===nd)return 14}return 2}function gr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ld(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case gi:return Hr(n.children,i,o,e);case ed:s=8,i|=8;break;case ch:return t=Kt(12,n,e,i|2),t.elementType=ch,t.lanes=o,t;case hh:return t=Kt(13,n,e,i),t.elementType=hh,t.lanes=o,t;case fh:return t=Kt(19,n,e,i),t.elementType=fh,t.lanes=o,t;case vv:return wu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gv:s=10;break e;case yv:s=9;break e;case td:s=11;break e;case nd:s=14;break e;case tr:s=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Kt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Hr(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function wu(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=vv,t.lanes=n,t.stateNode={isHidden:!1},t}function Uc(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function jc(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wc(0),this.expirationTimes=wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fd(t,e,n,r,i,o,s,a,l){return t=new XS(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(o),t}function JS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function c0(t){if(!t)return wr;t=t._reactInternals;e:{if(oi(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(At(n))return u_(t,n,e)}return e}function h0(t,e,n,r,i,o,s,a,l){return t=Fd(n,r,!0,t,i,o,s,a,l),t.context=c0(null),n=t.current,r=_t(),i=mr(n),o=Fn(r,i),o.callback=e??null,dr(n,o,i),t.current.lanes=i,Js(t,i,r),Pt(t,r),t}function Tu(t,e,n,r){var i=e.current,o=_t(),s=mr(i);return n=c0(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dr(i,e,s),t!==null&&(ln(t,i,s,o),al(t,i,s)),s}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $d(t,e){wg(t,e),(t=t.alternate)&&wg(t,e)}function ZS(){return null}var f0=typeof reportError=="function"?reportError:function(t){console.error(t)};function bd(t){this._internalRoot=t}Su.prototype.render=bd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Tu(t,e,null,null)};Su.prototype.unmount=bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xr(function(){Tu(null,t,null,null)}),e[Un]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var e=zv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&Hv(t)}};function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function eI(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Bl(s);o.call(u)}}var s=h0(e,r,t,0,null,!1,!1,"",Tg);return t._reactRootContainer=s,t[Un]=s.current,Ts(t.nodeType===8?t.parentNode:t),Xr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Bl(l);a.call(u)}}var l=Fd(t,0,!1,null,null,!1,!1,"",Tg);return t._reactRootContainer=l,t[Un]=l.current,Ts(t.nodeType===8?t.parentNode:t),Xr(function(){Tu(e,l,n,r)}),l}function Cu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Bl(s);a.call(l)}}Tu(e,s,t,i)}else s=eI(n,e,t,i,r);return Bl(s)}Uv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bo(e.pendingLanes);n!==0&&(od(e,n|1),Pt(e,Oe()),!(ue&6)&&(Xi=Oe()+500,xr()))}break;case 13:Xr(function(){var r=jn(t,1);if(r!==null){var i=_t();ln(r,t,1,i)}}),$d(t,1)}};sd=function(t){if(t.tag===13){var e=jn(t,134217728);if(e!==null){var n=_t();ln(e,t,134217728,n)}$d(t,134217728)}};jv=function(t){if(t.tag===13){var e=mr(t),n=jn(t,e);if(n!==null){var r=_t();ln(n,t,e,r)}$d(t,e)}};zv=function(){return me};Bv=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};Th=function(t,e,n){switch(e){case"input":if(mh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mu(r);if(!i)throw Error(x(90));Ev(r),mh(r,i)}}}break;case"textarea":Tv(t,n);break;case"select":e=n.value,e!=null&&Di(t,!!n.multiple,e,!1)}};xv=Vd;kv=Xr;var tI={usingClientEntryPoint:!1,Events:[ea,Ei,mu,Av,Pv,Vd]},Oo={findFiberByHostInstance:Lr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nI={bundleType:Oo.bundleType,version:Oo.version,rendererPackageName:Oo.rendererPackageName,rendererConfig:Oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vv(t),t===null?null:t.stateNode},findFiberByHostInstance:Oo.findFiberByHostInstance||ZS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{hu=Ba.inject(nI),Sn=Ba}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(e))throw Error(x(200));return JS(t,e,null,n)};Lt.createRoot=function(t,e){if(!Ud(t))throw Error(x(299));var n=!1,r="",i=f0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fd(t,1,!1,null,null,n,!1,r,i),t[Un]=e.current,Ts(t.nodeType===8?t.parentNode:t),new bd(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Vv(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return Xr(t)};Lt.hydrate=function(t,e,n){if(!Iu(e))throw Error(x(200));return Cu(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!Ud(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=f0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=h0(e,null,t,1,n??null,i,!1,o,s),t[Un]=e.current,Ts(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Su(e)};Lt.render=function(t,e,n){if(!Iu(e))throw Error(x(200));return Cu(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!Iu(t))throw Error(x(40));return t._reactRootContainer?(Xr(function(){Cu(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};Lt.unstable_batchedUpdates=Vd;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Iu(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Cu(t,e,n,!1,r)};Lt.version="18.2.0-next-9e3b772b8-20220608";function d0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d0)}catch(t){console.error(t)}}d0(),hv.exports=Lt;var p0=hv.exports,Sg=p0;lh.createRoot=Sg.createRoot,lh.hydrateRoot=Sg.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},we.apply(this,arguments)}var Le;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Le||(Le={}));const Ig="popstate";function rI(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=xn(i.location.hash.substr(1));return Ds("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Tr(o))}function r(i,o){Jr(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return oI(e,n,r,t)}function te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iI(){return Math.random().toString(36).substr(2,8)}function Cg(t,e){return{usr:t.state,key:t.key,idx:e}}function Ds(t,e,n,r){return n===void 0&&(n=null),we({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xn(e):e,{state:n,key:e&&e.key||r||iI()})}function Tr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Le.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(we({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Le.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:m})}function f(w,m){a=Le.Push;let d=Ds(_.location,w,m);n&&n(d,w),u=c()+1;let y=Cg(d,u),g=_.createHref(d);try{s.pushState(y,"",g)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(g)}o&&l&&l({action:a,location:_.location,delta:1})}function p(w,m){a=Le.Replace;let d=Ds(_.location,w,m);n&&n(d,w),u=c();let y=Cg(d,u),g=_.createHref(d);s.replaceState(y,"",g),o&&l&&l({action:a,location:_.location,delta:0})}function v(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof w=="string"?w:Tr(w);return te(m,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,m)}let _={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ig,h),l=w,()=>{i.removeEventListener(Ig,h),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let m=v(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(w){return s.go(w)}};return _}var je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(je||(je={}));const sI=new Set(["lazy","caseSensitive","path","id","index","children"]);function aI(t){return t.index===!0}function tf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(te(i.index!==!0||!i.children,"Cannot specify children on an index route"),te(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),aI(i)){let l=we({},i,e(i),{id:a});return r[a]=l,l}else{let l=we({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=tf(i.children,e,s,r)),l}})}function Ai(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?xn(e):e,i=Sr(r.pathname||"/",n);if(i==null)return null;let o=m0(t);lI(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=yI(o[a],EI(i));return s}function m0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Cn([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(te(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),m0(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:mI(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of g0(o.path))i(o,s,l)}),e}function g0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=g0(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uI=/^:\w+$/,cI=3,hI=2,fI=1,dI=10,pI=-2,Rg=t=>t==="*";function mI(t,e){let n=t.split("/"),r=n.length;return n.some(Rg)&&(r+=pI),e&&(r+=hI),n.filter(i=>!Rg(i)).reduce((i,o)=>i+(uI.test(o)?cI:o===""?fI:dI),r)}function gI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yI(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=vI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:Cn([i,c.pathname]),pathnameBase:II(Cn([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Cn([i,c.pathnameBase]))}return o}function vI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_I(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=wI(a[h]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function _I(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EI(t){try{return decodeURI(t)}catch(e){return Jr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wI(t,e){try{return decodeURIComponent(t)}catch(n){return Jr(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Sr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xn(t):t;return{pathname:n?n.startsWith("/")?n:SI(n,e):e,search:CI(r),hash:RI(i)}}function SI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ru(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xn(t):(i=we({},t),te(!i.pathname||!i.pathname.includes("?"),zc("?","pathname","search",i)),te(!i.pathname||!i.pathname.includes("#"),zc("#","pathname","hash",i)),te(!i.search||!i.search.includes("#"),zc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let h=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=TI(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Cn=t=>t.join("/").replace(/\/\/+/g,"/"),II=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,zd=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,we({},r,{headers:i}))};class Bd{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function y0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const v0=["post","put","patch","delete"],AI=new Set(v0),PI=["get",...v0],xI=new Set(PI),kI=new Set([301,302,303,307,308]),DI=new Set([307,308]),Bc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},NI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VI=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function OI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let E=t.detectErrorBoundary;i=T=>({hasErrorBoundary:E(T)})}else i=VI;let o={},s=tf(t.routes,i,void 0,o),a,l=t.basename||"/",u=we({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,h=new Set,f=null,p=null,v=null,_=t.hydrationData!=null,w=Ai(s,t.history.location,l),m=null;if(w==null){let E=jt(404,{pathname:t.history.location.pathname}),{matches:T,route:P}=Og(s);w=T,m={[P.id]:E}}let d=!w.some(E=>E.route.lazy)&&(!w.some(E=>E.route.loader)||t.hydrationData!=null),y,g={historyAction:t.history.action,location:t.history.location,matches:w,initialized:d,navigation:Bc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||m,fetchers:new Map,blockers:new Map},R=Le.Pop,k=!1,V,M=!1,ie=!1,q=[],Ue=[],le=new Map,$t=0,K=-1,H=new Map,ce=new Set,S=new Map,I=new Map,L=new Map,j=!1;function ne(){return c=t.history.listen(E=>{let{action:T,location:P,delta:b}=E;if(j){j=!1;return}Jr(L.size===0||b!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=hm({currentLocation:g.location,nextLocation:P,historyAction:T});if(ee&&b!=null){j=!0,t.history.go(b*-1),Sa(ee,{state:"blocked",location:P,proceed(){Sa(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),t.history.go(b)},reset(){let G=new Map(g.blockers);G.set(ee,Mo),pe({blockers:G})}});return}return Jn(T,P)}),g.initialized||Jn(Le.Pop,g.location),y}function ye(){c&&c(),h.clear(),V&&V.abort(),g.fetchers.forEach((E,T)=>cc(T)),g.blockers.forEach((E,T)=>cm(T))}function Tt(E){return h.add(E),()=>h.delete(E)}function pe(E){g=we({},g,E),h.forEach(T=>T(g))}function Xt(E,T){var P,b;let ee=g.actionData!=null&&g.navigation.formMethod!=null&&rn(g.navigation.formMethod)&&g.navigation.state==="loading"&&((P=E.state)==null?void 0:P._isRedirect)!==!0,G;T.actionData?Object.keys(T.actionData).length>0?G=T.actionData:G=null:ee?G=g.actionData:G=null;let X=T.loaderData?Vg(g.loaderData,T.loaderData,T.matches||[],T.errors):g.loaderData,W=g.blockers;W.size>0&&(W=new Map(W),W.forEach((ve,he)=>W.set(he,Mo)));let z=k===!0||g.navigation.formMethod!=null&&rn(g.navigation.formMethod)&&((b=E.state)==null?void 0:b._isRedirect)!==!0;a&&(s=a,a=void 0),M||R===Le.Pop||(R===Le.Push?t.history.push(E,E.state):R===Le.Replace&&t.history.replace(E,E.state)),pe(we({},T,{actionData:G,loaderData:X,historyAction:R,location:E,initialized:!0,navigation:Bc,revalidation:"idle",restoreScrollPosition:dm(E,T.matches||g.matches),preventScrollReset:z,blockers:W})),R=Le.Pop,k=!1,M=!1,ie=!1,q=[],Ue=[]}async function bt(E,T){if(typeof E=="number"){t.history.go(E);return}let P=nf(g.location,g.matches,l,u.v7_prependBasename,E,T==null?void 0:T.fromRouteId,T==null?void 0:T.relative),{path:b,submission:ee,error:G}=Ag(u.v7_normalizeFormMethod,!1,P,T),X=g.location,W=Ds(g.location,b,T&&T.state);W=we({},W,t.history.encodeLocation(W));let z=T&&T.replace!=null?T.replace:void 0,ve=Le.Push;z===!0?ve=Le.Replace:z===!1||ee!=null&&rn(ee.formMethod)&&ee.formAction===g.location.pathname+g.location.search&&(ve=Le.Replace);let he=T&&"preventScrollReset"in T?T.preventScrollReset===!0:void 0,kt=hm({currentLocation:X,nextLocation:W,historyAction:ve});if(kt){Sa(kt,{state:"blocked",location:W,proceed(){Sa(kt,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),bt(E,T)},reset(){let We=new Map(g.blockers);We.set(kt,Mo),pe({blockers:We})}});return}return await Jn(ve,W,{submission:ee,pendingError:G,preventScrollReset:he,replace:T&&T.replace})}function Xn(){if(uc(),pe({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){Jn(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}Jn(R||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function Jn(E,T,P){V&&V.abort(),V=null,R=E,M=(P&&P.startUninterruptedRevalidation)===!0,A1(g.location,g.matches),k=(P&&P.preventScrollReset)===!0;let b=a||s,ee=P&&P.overrideNavigation,G=Ai(b,T,l);if(!G){let We=jt(404,{pathname:T.pathname}),{matches:St,route:gn}=Og(b);hc(),Xt(T,{matches:St,loaderData:{},errors:{[gn.id]:We}});return}if(g.initialized&&!ie&&bI(g.location,T)&&!(P&&P.submission&&rn(P.submission.formMethod))){Xt(T,{matches:G});return}V=new AbortController;let X=Fo(t.history,T,V.signal,P&&P.submission),W,z;if(P&&P.pendingError)z={[Pi(G).route.id]:P.pendingError};else if(P&&P.submission&&rn(P.submission.formMethod)){let We=await E1(X,T,P.submission,G,{replace:P.replace});if(We.shortCircuited)return;W=We.pendingActionData,z=We.pendingActionError,ee=Ha(T,P.submission),X=new Request(X.url,{signal:X.signal})}let{shortCircuited:ve,loaderData:he,errors:kt}=await w1(X,T,G,ee,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,W,z);ve||(V=null,Xt(T,we({matches:G},W?{actionData:W}:{},{loaderData:he,errors:kt})))}async function E1(E,T,P,b,ee){ee===void 0&&(ee={}),uc();let G=HI(T,P);pe({navigation:G});let X,W=of(b,T);if(!W.route.action&&!W.route.lazy)X={type:je.error,error:jt(405,{method:E.method,pathname:T.pathname,routeId:W.route.id})};else if(X=await Lo("action",E,W,b,o,i,l),E.signal.aborted)return{shortCircuited:!0};if(Fi(X)){let z;return ee&&ee.replace!=null?z=ee.replace:z=X.location===g.location.pathname+g.location.search,await Io(g,X,{submission:P,replace:z}),{shortCircuited:!0}}if(os(X)){let z=Pi(b,W.route.id);return(ee&&ee.replace)!==!0&&(R=Le.Push),{pendingActionData:{},pendingActionError:{[z.route.id]:X.error}}}if(br(X))throw jt(400,{type:"defer-action"});return{pendingActionData:{[W.route.id]:X.data}}}async function w1(E,T,P,b,ee,G,X,W,z){let ve=b||Ha(T,ee),he=ee||G||Fg(ve),kt=a||s,[We,St]=Pg(t.history,g,P,he,T,ie,q,Ue,S,ce,kt,l,W,z);if(hc(Re=>!(P&&P.some(Ut=>Ut.route.id===Re))||We&&We.some(Ut=>Ut.route.id===Re)),We.length===0&&St.length===0){let Re=lm();return Xt(T,we({matches:P,loaderData:{},errors:z||null},W?{actionData:W}:{},Re?{fetchers:new Map(g.fetchers)}:{})),{shortCircuited:!0}}if(!M){St.forEach(Ut=>{let ui=g.fetchers.get(Ut.key),Xe=$o(void 0,ui?ui.data:void 0);g.fetchers.set(Ut.key,Xe)});let Re=W||g.actionData;pe(we({navigation:ve},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},St.length>0?{fetchers:new Map(g.fetchers)}:{}))}K=++$t,St.forEach(Re=>{le.has(Re.key)&&Zn(Re.key),Re.controller&&le.set(Re.key,Re.controller)});let gn=()=>St.forEach(Re=>Zn(Re.key));V&&V.signal.addEventListener("abort",gn);let{results:Co,loaderResults:fc,fetcherResults:Ia}=await sm(g.matches,P,We,St,E);if(E.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",gn),St.forEach(Re=>le.delete(Re.key));let Dn=Mg(Co);if(Dn)return await Io(g,Dn,{replace:X}),{shortCircuited:!0};let{loaderData:Ca,errors:dc}=Ng(g,P,We,fc,z,St,Ia,I);I.forEach((Re,Ut)=>{Re.subscribe(ui=>{(ui||Re.done)&&I.delete(Ut)})});let pc=lm(),mc=um(K),Ra=pc||mc||St.length>0;return we({loaderData:Ca,errors:dc},Ra?{fetchers:new Map(g.fetchers)}:{})}function om(E){return g.fetchers.get(E)||NI}function T1(E,T,P,b){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");le.has(E)&&Zn(E);let ee=a||s,G=nf(g.location,g.matches,l,u.v7_prependBasename,P,T,b==null?void 0:b.relative),X=Ai(ee,G,l);if(!X){Ta(E,T,jt(404,{pathname:G}));return}let{path:W,submission:z,error:ve}=Ag(u.v7_normalizeFormMethod,!0,G,b);if(ve){Ta(E,T,ve);return}let he=of(X,W);if(k=(b&&b.preventScrollReset)===!0,z&&rn(z.formMethod)){S1(E,T,W,he,X,z);return}S.set(E,{routeId:T,path:W}),I1(E,T,W,he,X,z)}async function S1(E,T,P,b,ee,G){if(uc(),S.delete(E),!b.route.action&&!b.route.lazy){let Xe=jt(405,{method:G.formMethod,pathname:P,routeId:T});Ta(E,T,Xe);return}let X=g.fetchers.get(E),W=WI(G,X);g.fetchers.set(E,W),pe({fetchers:new Map(g.fetchers)});let z=new AbortController,ve=Fo(t.history,P,z.signal,G);le.set(E,z);let he=await Lo("action",ve,b,ee,o,i,l);if(ve.signal.aborted){le.get(E)===z&&le.delete(E);return}if(Fi(he)){le.delete(E),ce.add(E);let Xe=$o(G);return g.fetchers.set(E,Xe),pe({fetchers:new Map(g.fetchers)}),Io(g,he,{submission:G,isFetchActionRedirect:!0})}if(os(he)){Ta(E,T,he.error);return}if(br(he))throw jt(400,{type:"defer-action"});let kt=g.navigation.location||g.location,We=Fo(t.history,kt,z.signal),St=a||s,gn=g.navigation.state!=="idle"?Ai(St,g.navigation.location,l):g.matches;te(gn,"Didn't find any matches after fetcher action");let Co=++$t;H.set(E,Co);let fc=$o(G,he.data);g.fetchers.set(E,fc);let[Ia,Dn]=Pg(t.history,g,gn,G,kt,ie,q,Ue,S,ce,St,l,{[b.route.id]:he.data},void 0);Dn.filter(Xe=>Xe.key!==E).forEach(Xe=>{let Ro=Xe.key,pm=g.fetchers.get(Ro),x1=$o(void 0,pm?pm.data:void 0);g.fetchers.set(Ro,x1),le.has(Ro)&&Zn(Ro),Xe.controller&&le.set(Ro,Xe.controller)}),pe({fetchers:new Map(g.fetchers)});let Ca=()=>Dn.forEach(Xe=>Zn(Xe.key));z.signal.addEventListener("abort",Ca);let{results:dc,loaderResults:pc,fetcherResults:mc}=await sm(g.matches,gn,Ia,Dn,We);if(z.signal.aborted)return;z.signal.removeEventListener("abort",Ca),H.delete(E),le.delete(E),Dn.forEach(Xe=>le.delete(Xe.key));let Ra=Mg(dc);if(Ra)return Io(g,Ra);let{loaderData:Re,errors:Ut}=Ng(g,g.matches,Ia,pc,void 0,Dn,mc,I);if(g.fetchers.has(E)){let Xe=pl(he.data);g.fetchers.set(E,Xe)}let ui=um(Co);g.navigation.state==="loading"&&Co>K?(te(R,"Expected pending action"),V&&V.abort(),Xt(g.navigation.location,{matches:gn,loaderData:Re,errors:Ut,fetchers:new Map(g.fetchers)})):(pe(we({errors:Ut,loaderData:Vg(g.loaderData,Re,gn,Ut)},ui||Dn.length>0?{fetchers:new Map(g.fetchers)}:{})),ie=!1)}async function I1(E,T,P,b,ee,G){let X=g.fetchers.get(E),W=$o(G,X?X.data:void 0);g.fetchers.set(E,W),pe({fetchers:new Map(g.fetchers)});let z=new AbortController,ve=Fo(t.history,P,z.signal);le.set(E,z);let he=await Lo("loader",ve,b,ee,o,i,l);if(br(he)&&(he=await T0(he,ve.signal,!0)||he),le.get(E)===z&&le.delete(E),ve.signal.aborted)return;if(Fi(he)){ce.add(E),await Io(g,he);return}if(os(he)){let We=Pi(g.matches,T);g.fetchers.delete(E),pe({fetchers:new Map(g.fetchers),errors:{[We.route.id]:he.error}});return}te(!br(he),"Unhandled fetcher deferred data");let kt=pl(he.data);g.fetchers.set(E,kt),pe({fetchers:new Map(g.fetchers)})}async function Io(E,T,P){let{submission:b,replace:ee,isFetchActionRedirect:G}=P===void 0?{}:P;T.revalidate&&(ie=!0);let X=Ds(E.location,T.location,we({_isRedirect:!0},G?{_isFetchActionRedirect:!0}:{}));if(te(X,"Expected a location on the redirect navigation"),_0.test(T.location)&&n){let ve=t.history.createURL(T.location),he=Sr(ve.pathname,l)==null;if(e.location.origin!==ve.origin||he){ee?e.location.replace(T.location):e.location.assign(T.location);return}}V=null;let W=ee===!0?Le.Replace:Le.Push,z=b||Fg(E.navigation);if(DI.has(T.status)&&z&&rn(z.formMethod))await Jn(W,X,{submission:we({},z,{formAction:T.location}),preventScrollReset:k});else if(G)await Jn(W,X,{overrideNavigation:Ha(X),fetcherSubmission:z,preventScrollReset:k});else{let ve=Ha(X,z);await Jn(W,X,{overrideNavigation:ve,preventScrollReset:k})}}async function sm(E,T,P,b,ee){let G=await Promise.all([...P.map(z=>Lo("loader",ee,z,T,o,i,l)),...b.map(z=>z.matches&&z.match&&z.controller?Lo("loader",Fo(t.history,z.path,z.controller.signal),z.match,z.matches,o,i,l):{type:je.error,error:jt(404,{pathname:z.path})})]),X=G.slice(0,P.length),W=G.slice(P.length);return await Promise.all([Lg(E,P,X,X.map(()=>ee.signal),!1,g.loaderData),Lg(E,b.map(z=>z.match),W,b.map(z=>z.controller?z.controller.signal:null),!0)]),{results:G,loaderResults:X,fetcherResults:W}}function uc(){ie=!0,q.push(...hc()),S.forEach((E,T)=>{le.has(T)&&(Ue.push(T),Zn(T))})}function Ta(E,T,P){let b=Pi(g.matches,T);cc(E),pe({errors:{[b.route.id]:P},fetchers:new Map(g.fetchers)})}function cc(E){let T=g.fetchers.get(E);le.has(E)&&!(T&&T.state==="loading"&&H.has(E))&&Zn(E),S.delete(E),H.delete(E),ce.delete(E),g.fetchers.delete(E)}function Zn(E){let T=le.get(E);te(T,"Expected fetch controller: "+E),T.abort(),le.delete(E)}function am(E){for(let T of E){let P=om(T),b=pl(P.data);g.fetchers.set(T,b)}}function lm(){let E=[],T=!1;for(let P of ce){let b=g.fetchers.get(P);te(b,"Expected fetcher: "+P),b.state==="loading"&&(ce.delete(P),E.push(P),T=!0)}return am(E),T}function um(E){let T=[];for(let[P,b]of H)if(b<E){let ee=g.fetchers.get(P);te(ee,"Expected fetcher: "+P),ee.state==="loading"&&(Zn(P),H.delete(P),T.push(P))}return am(T),T.length>0}function C1(E,T){let P=g.blockers.get(E)||Mo;return L.get(E)!==T&&L.set(E,T),P}function cm(E){g.blockers.delete(E),L.delete(E)}function Sa(E,T){let P=g.blockers.get(E)||Mo;te(P.state==="unblocked"&&T.state==="blocked"||P.state==="blocked"&&T.state==="blocked"||P.state==="blocked"&&T.state==="proceeding"||P.state==="blocked"&&T.state==="unblocked"||P.state==="proceeding"&&T.state==="unblocked","Invalid blocker state transition: "+P.state+" -> "+T.state);let b=new Map(g.blockers);b.set(E,T),pe({blockers:b})}function hm(E){let{currentLocation:T,nextLocation:P,historyAction:b}=E;if(L.size===0)return;L.size>1&&Jr(!1,"A router only supports one blocker at a time");let ee=Array.from(L.entries()),[G,X]=ee[ee.length-1],W=g.blockers.get(G);if(!(W&&W.state==="proceeding")&&X({currentLocation:T,nextLocation:P,historyAction:b}))return G}function hc(E){let T=[];return I.forEach((P,b)=>{(!E||E(b))&&(P.cancel(),T.push(b),I.delete(b))}),T}function R1(E,T,P){if(f=E,v=T,p=P||null,!_&&g.navigation===Bc){_=!0;let b=dm(g.location,g.matches);b!=null&&pe({restoreScrollPosition:b})}return()=>{f=null,v=null,p=null}}function fm(E,T){return p&&p(E,T.map(b=>BI(b,g.loaderData)))||E.key}function A1(E,T){if(f&&v){let P=fm(E,T);f[P]=v()}}function dm(E,T){if(f){let P=fm(E,T),b=f[P];if(typeof b=="number")return b}return null}function P1(E){o={},a=tf(E,i,void 0,o)}return y={get basename(){return l},get state(){return g},get routes(){return s},initialize:ne,subscribe:Tt,enableScrollRestoration:R1,navigate:bt,fetch:T1,revalidate:Xn,createHref:E=>t.history.createHref(E),encodeLocation:E=>t.history.encodeLocation(E),getFetcher:om,deleteFetcher:cc,dispose:ye,getBlocker:C1,deleteBlocker:cm,_internalFetchControllers:le,_internalActiveDeferreds:I,_internalSetRoutes:P1},y}function MI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function nf(t,e,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===o){l=c;break}}else a=e,l=e[e.length-1];let u=jd(i||".",Ru(a).map(c=>c.pathnameBase),Sr(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Hd(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Cn([n,u.pathname])),Tr(u)}function Ag(t,e,n,r){if(!r||!MI(r))return{path:n};if(r.formMethod&&!zI(r.formMethod))return{path:n,error:jt(405,{method:r.formMethod})};let i=()=>({path:n,error:jt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=w0(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!rn(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,v)=>{let[_,w]=v;return""+p+_+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!rn(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}te(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=rf(r.formData),u=r.formData;else if(r.body instanceof FormData)l=rf(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Dg(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Dg(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(rn(c.formMethod))return{path:n,submission:c};let h=xn(n);return e&&h.search&&Hd(h.search)&&l.append("index",""),h.search="?"+l,{path:Tr(h),submission:c}}function LI(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Pg(t,e,n,r,i,o,s,a,l,u,c,h,f,p){let v=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,_=t.createURL(e.location),w=t.createURL(i),m=p?Object.keys(p)[0]:void 0,y=LI(n,m).filter((R,k)=>{if(R.route.lazy)return!0;if(R.route.loader==null)return!1;if(FI(e.loaderData,e.matches[k],R)||s.some(ie=>ie===R.route.id))return!0;let V=e.matches[k],M=R;return xg(R,we({currentUrl:_,currentParams:V.params,nextUrl:w,nextParams:M.params},r,{actionResult:v,defaultShouldRevalidate:o||_.pathname+_.search===w.pathname+w.search||_.search!==w.search||E0(V,M)}))}),g=[];return l.forEach((R,k)=>{if(!n.some(le=>le.route.id===R.routeId))return;let V=Ai(c,R.path,h);if(!V){g.push({key:k,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(k),ie=M&&M.state!=="idle"&&M.data===void 0&&!u.has(k),q=of(V,R.path);(a.includes(k)||ie||xg(q,we({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:o})))&&g.push({key:k,routeId:R.routeId,path:R.path,matches:V,match:q,controller:new AbortController})}),[y,g]}function FI(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function E0(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function xg(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function kg(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];te(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Jr(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!sI.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,we({},e(i),{lazy:void 0}))}async function Lo(t,e,n,r,i,o,s,a){a===void 0&&(a={});let l,u,c,h=v=>{let _,w=new Promise((m,d)=>_=d);return c=()=>_(),e.signal.addEventListener("abort",c),Promise.race([v({request:e,params:n.params,context:a.requestContext}),w])};try{let v=n.route[t];if(n.route.lazy)if(v)u=(await Promise.all([h(v),kg(n.route,o,i)]))[0];else if(await kg(n.route,o,i),v=n.route[t],v)u=await h(v);else if(t==="action"){let _=new URL(e.url),w=_.pathname+_.search;throw jt(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:je.data,data:void 0};else if(v)u=await h(v);else{let _=new URL(e.url),w=_.pathname+_.search;throw jt(404,{pathname:w})}te(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){l=je.error,u=v}finally{c&&e.signal.removeEventListener("abort",c)}if(jI(u)){let v=u.status;if(kI.has(v)){let m=u.headers.get("Location");if(te(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!_0.test(m))m=nf(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,m);else if(!a.isStaticRequest){let d=new URL(e.url),y=m.startsWith("//")?new URL(d.protocol+m):new URL(m),g=Sr(y.pathname,s)!=null;y.origin===d.origin&&g&&(m=y.pathname+y.search+y.hash)}if(a.isStaticRequest)throw u.headers.set("Location",m),u;return{type:je.redirect,status:v,location:m,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||je.data,response:u};let _,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?_=await u.json():_=await u.text(),l===je.error?{type:l,error:new Bd(v,u.statusText,_),headers:u.headers}:{type:je.data,data:_,statusCode:u.status,headers:u.headers}}if(l===je.error)return{type:l,error:u};if(UI(u)){var f,p;return{type:je.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:je.data,data:u}}function Fo(t,e,n,r){let i=t.createURL(w0(e)).toString(),o={signal:n};if(r&&rn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=rf(r.formData):o.body=r.formData}return new Request(i,o)}function rf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Dg(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function $I(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,h)=>{let f=e[h].route.id;if(te(!Fi(c),"Cannot handle redirect results in processLoaderData"),os(c)){let p=Pi(t,f),v=c.error;r&&(v=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=v),o[f]=void 0,l||(l=!0,a=y0(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else br(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Ng(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=$I(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:h,match:f,controller:p}=o[c];te(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let v=s[c];if(!(p&&p.signal.aborted))if(os(v)){let _=Pi(t.matches,f==null?void 0:f.route.id);u&&u[_.route.id]||(u=we({},u,{[_.route.id]:v.error})),t.fetchers.delete(h)}else if(Fi(v))te(!1,"Unhandled fetcher revalidation redirect");else if(br(v))te(!1,"Unhandled fetcher deferred data");else{let _=pl(v.data);t.fetchers.set(h,_)}}return{loaderData:l,errors:u}}function Vg(t,e,n,r){let i=we({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Pi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Og(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function jt(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Bd(t||500,s,new Error(a),!0)}function Mg(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Fi(n))return n}}function w0(t){let e=typeof t=="string"?xn(t):t;return Tr(we({},e,{hash:""}))}function bI(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function br(t){return t.type===je.deferred}function os(t){return t.type===je.error}function Fi(t){return(t&&t.type)===je.redirect}function UI(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function jI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zI(t){return xI.has(t.toLowerCase())}function rn(t){return AI.has(t.toLowerCase())}async function Lg(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!E0(u,l)&&(o&&o[l.route.id])!==void 0;if(br(a)&&(i||c)){let h=r[s];te(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await T0(a,h,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function T0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:je.data,data:t.deferredData.unwrappedData}}catch(i){return{type:je.error,error:i}}return{type:je.data,data:t.deferredData.data}}}function Hd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function BI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function of(t,e){let n=typeof e=="string"?xn(e).search:e.search;if(t[t.length-1].route.index&&Hd(n||""))return t[t.length-1];let r=Ru(t);return r[r.length-1]}function Fg(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Ha(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HI(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $o(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function WI(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function pl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}const na=N.createContext(null),Wd=N.createContext(null),Yn=N.createContext(null),Au=N.createContext(null),kn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),S0=N.createContext(null);function qI(t,e){let{relative:n}=e===void 0?{}:e;ra()||te(!1);let{basename:r,navigator:i}=N.useContext(Yn),{hash:o,pathname:s,search:a}=Pu(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Cn([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ra(){return N.useContext(Au)!=null}function ho(){return ra()||te(!1),N.useContext(Au).location}function I0(t){N.useContext(Yn).static||N.useLayoutEffect(t)}function qd(){let{isDataRoute:t}=N.useContext(kn);return t?iC():KI()}function KI(){ra()||te(!1);let t=N.useContext(na),{basename:e,navigator:n}=N.useContext(Yn),{matches:r}=N.useContext(kn),{pathname:i}=ho(),o=JSON.stringify(Ru(r).map(l=>l.pathnameBase)),s=N.useRef(!1);return I0(()=>{s.current=!0}),N.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=jd(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Cn([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}const C0=N.createContext(null);function Kd(){return N.useContext(C0)}function QI(t){let e=N.useContext(kn).outlet;return e&&N.createElement(C0.Provider,{value:t},e)}function Pu(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=N.useContext(kn),{pathname:i}=ho(),o=JSON.stringify(Ru(r).map(s=>s.pathnameBase));return N.useMemo(()=>jd(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function GI(t,e,n){ra()||te(!1);let{navigator:r}=N.useContext(Yn),{matches:i}=N.useContext(kn),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=ho(),u;if(e){var c;let _=typeof e=="string"?xn(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||te(!1),u=_}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=Ai(t,{pathname:f}),v=eC(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:Cn([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Cn([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&v?N.createElement(Au.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Le.Pop}},v):v}function YI(){let t=R0(),e=y0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,o)}const XI=N.createElement(YI,null);class JI extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?N.createElement(kn.Provider,{value:this.props.routeContext},N.createElement(S0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZI(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(na);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(kn.Provider,{value:e},r)}function eC(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||te(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,h=null;n&&(h=l.route.errorElement||XI);let f=e.concat(o.slice(0,u+1)),p=()=>{let v;return c?v=h:l.route.Component?v=N.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,N.createElement(ZI,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?N.createElement(JI,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var sf;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(sf||(sf={}));var An;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(An||(An={}));function tC(t){let e=N.useContext(na);return e||te(!1),e}function xu(t){let e=N.useContext(Wd);return e||te(!1),e}function nC(t){let e=N.useContext(kn);return e||te(!1),e}function ku(t){let e=nC(),n=e.matches[e.matches.length-1];return n.route.id||te(!1),n.route.id}function rC(){return ku(An.UseRouteId)}function Qd(){return xu(An.UseNavigation).navigation}function Du(){let t=xu(An.UseLoaderData),e=ku(An.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function Gd(){let t=xu(An.UseActionData);return N.useContext(kn)||te(!1),Object.values((t==null?void 0:t.actionData)||{})[0]}function R0(){var t;let e=N.useContext(S0),n=xu(An.UseRouteError),r=ku(An.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function iC(){let{router:t}=tC(sf.UseNavigateStable),e=ku(An.UseNavigateStable),n=N.useRef(!1);return I0(()=>{n.current=!0}),N.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hl({fromRouteId:e},o)))},[t,e])}const oC="startTransition",$g=K1[oC];function sC(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=N.useState(n.state),{v7_startTransition:s}=r||{},a=N.useCallback(h=>{s&&$g?$g(()=>o(h)):o(h)},[o,s]);N.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:h=>n.navigate(h),push:(h,f,p)=>n.navigate(h,{state:f,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(h,f,p)=>n.navigate(h,{replace:!0,state:f,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[n]),u=n.basename||"/",c=N.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return N.createElement(N.Fragment,null,N.createElement(na.Provider,{value:c},N.createElement(Wd.Provider,{value:i},N.createElement(lC,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?N.createElement(aC,{routes:n.routes,state:i}):e))),null)}function aC(t){let{routes:e,state:n}=t;return GI(e,void 0,n)}function A0(t){return QI(t.context)}function Zt(t){te(!1)}function lC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Le.Pop,navigator:o,static:s=!1}=t;ra()&&te(!1);let a=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=xn(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=r,v=N.useMemo(()=>{let _=Sr(u,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:f,key:p},navigationType:i}},[a,u,c,h,f,p,i]);return v==null?null:N.createElement(Yn.Provider,{value:l},N.createElement(Au.Provider,{children:n,value:v}))}var bg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(bg||(bg={}));new Promise(()=>{});function af(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let o=[...e,i];if(r.type===N.Fragment){n.push.apply(n,af(r.props.children,o));return}r.type!==Zt&&te(!1),!r.props.index||!r.props.children||te(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=af(r.props.children,o)),n.push(s)}),n}function uC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bn(){return Bn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bn.apply(this,arguments)}function Yd(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const ml="get",Hc="application/x-www-form-urlencoded";function Nu(t){return t!=null&&typeof t.tagName=="string"}function cC(t){return Nu(t)&&t.tagName.toLowerCase()==="button"}function hC(t){return Nu(t)&&t.tagName.toLowerCase()==="form"}function fC(t){return Nu(t)&&t.tagName.toLowerCase()==="input"}function dC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pC(t,e){return t.button===0&&(!e||e==="_self")&&!dC(t)}let Wa=null;function mC(){if(Wa===null)try{new FormData(document.createElement("form"),0),Wa=!1}catch{Wa=!0}return Wa}const gC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wc(t){return t!=null&&!gC.has(t)?null:t}function yC(t,e){let n,r,i,o,s;if(hC(t)){let a=t.getAttribute("action");r=a?Sr(a,e):null,n=t.getAttribute("method")||ml,i=Wc(t.getAttribute("enctype"))||Hc,o=new FormData(t)}else if(cC(t)||fC(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Sr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||ml,i=Wc(t.getAttribute("formenctype"))||Wc(a.getAttribute("enctype"))||Hc,o=new FormData(a,t),!mC()){let{name:u,type:c,value:h}=t;if(c==="image"){let f=u?u+".":"";o.append(f+"x","0"),o.append(f+"y","0")}else u&&o.append(u,h)}}else{if(Nu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ml,r=null,i=Hc,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}const vC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],_C=["aria-current","caseSensitive","className","end","style","to","children"],EC=["reloadDocument","replace","method","action","onSubmit","submit","relative","preventScrollReset"];function wC(t,e){return OI({basename:e==null?void 0:e.basename,future:Bn({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:rI({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||TC(),routes:t,mapRouteProperties:uC}).initialize()}function TC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Bn({},e,{errors:SC(e.errors)})),e}function SC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Bd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}const IC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lf=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,h=Yd(e,vC),{basename:f}=N.useContext(Yn),p,v=!1;if(typeof u=="string"&&CC.test(u)&&(p=u,IC))try{let d=new URL(window.location.href),y=u.startsWith("//")?new URL(d.protocol+u):new URL(u),g=Sr(y.pathname,f);y.origin===d.origin&&g!=null?u=g+y.search+y.hash:v=!0}catch{}let _=qI(u,{relative:i}),w=PC(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function m(d){r&&r(d),d.defaultPrevented||w(d)}return N.createElement("a",Bn({},h,{href:p||_,onClick:v||o?r:m,ref:n,target:l}))}),$i=N.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,children:u}=e,c=Yd(e,_C),h=Pu(l,{relative:c.relative}),f=ho(),p=N.useContext(Wd),{navigator:v}=N.useContext(Yn),_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,w=f.pathname,m=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),m=m?m.toLowerCase():null,_=_.toLowerCase());let d=w===_||!s&&w.startsWith(_)&&w.charAt(_.length)==="/",y=m!=null&&(m===_||!s&&m.startsWith(_)&&m.charAt(_.length)==="/"),g=d?r:void 0,R;typeof o=="function"?R=o({isActive:d,isPending:y}):R=[o,d?"active":null,y?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:d,isPending:y}):a;return N.createElement(lf,Bn({},c,{"aria-current":g,className:R,ref:n,style:k,to:l}),typeof u=="function"?u({isActive:d,isPending:y}):u)}),Xd=N.forwardRef((t,e)=>{let n=kC();return N.createElement(RC,Bn({},t,{submit:n,ref:e}))}),RC=N.forwardRef((t,e)=>{let{reloadDocument:n,replace:r,method:i=ml,action:o,onSubmit:s,submit:a,relative:l,preventScrollReset:u}=t,c=Yd(t,EC),h=i.toLowerCase()==="get"?"get":"post",f=DC(o,{relative:l}),p=v=>{if(s&&s(v),v.defaultPrevented)return;v.preventDefault();let _=v.nativeEvent.submitter,w=(_==null?void 0:_.getAttribute("formmethod"))||i;a(_||v.currentTarget,{method:w,replace:r,relative:l,preventScrollReset:u})};return N.createElement("form",Bn({ref:e,method:h,action:f,onSubmit:n?s:p},c))});var uf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(uf||(uf={}));var Ug;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ug||(Ug={}));function AC(t){let e=N.useContext(na);return e||te(!1),e}function PC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=qd(),l=ho(),u=Pu(t,{relative:s});return N.useCallback(c=>{if(pC(c,n)){c.preventDefault();let h=r!==void 0?r:Tr(l)===Tr(u);a(t,{replace:h,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}function xC(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}function kC(){let{router:t}=AC(uf.UseSubmit),{basename:e}=N.useContext(Yn),n=rC();return N.useCallback(function(r,i){i===void 0&&(i={}),xC();let{action:o,method:s,encType:a,formData:l,body:u}=yC(r,e);t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,fromRouteId:n})},[t,e,n])}function DC(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=N.useContext(Yn),i=N.useContext(kn);i||te(!1);let[o]=i.matches.slice(-1),s=Bn({},Pu(t||".",{relative:n})),a=ho();if(t==null&&(s.search=a.search,s.hash=a.hash,o.route.index)){let l=new URLSearchParams(s.search);l.delete("index"),s.search=l.toString()?"?"+l.toString():""}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Cn([r,s.pathname])),Tr(s)}const NC="/mario-off/assets/favicon-40f80855.webp";function VC({isLoggedIn:t}){let e=qd();function n(){return localStorage.removeItem("loggedIn"),e("/")}const r={textDecoration:"underline",fontWeight:"500"};return C.jsx("header",{className:"h-12 p-4 w-screen flex justify-center items-center bg-gray-400 sticky top-0  z-10",children:C.jsxs("div",{className:"w-80 flex justify-between",children:[C.jsx($i,{to:"/",className:"flex items-center mr-auto border-2 border-transparent",style:({isActive:i})=>i?{border:"2px solid black"}:null,end:!0,children:C.jsx("img",{src:NC,className:"w-10"})}),t&&C.jsx($i,{to:"competitions",className:"flex items-center",style:({isActive:i})=>i?r:null,end:!0,children:"Competitions"}),t?C.jsx("button",{onClick:n,className:"flex items-center ml-2",children:"Logout"}):C.jsx($i,{to:"login",className:"flex items-center ml-2",style:({isActive:i})=>i?r:null,children:"Login"})]})})}function OC(){return C.jsx("footer",{className:"min-h-min w-screen flex items-center justify-center mt-auto bg-gray-200 ",children:C.jsx("div",{className:"h-6 w-80 flex justify-center",children:C.jsx("h1",{children:"Footer (for social links, not content)"})})})}async function MC(){return localStorage.getItem("loggedIn")}function LC(){const t=Du();return C.jsxs("div",{className:"w-screen h-screen flex flex-col justify-center items-center",children:[C.jsx(VC,{isLoggedIn:t}),C.jsx("main",{className:"flex-grow w-80 overflow-y-auto no-scrollbar relative border-x-2 border-gray-300",children:C.jsx(A0,{})}),C.jsx(OC,{})]})}function FC(){return C.jsxs("div",{className:"m-2",children:[C.jsx("h1",{className:"font-bold text-2xl",children:"Welcome to the Mario-Off Competitions app!"}),C.jsx("p",{children:"This app was made for competitions between me and a friend while we played various mario games, but can work for any sort of round based competition. If you haven't already, please login!"})]})}function $C(){return C.jsx("h1",{children:"Not found goes here"})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new UC;const f=o<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jC=function(t){const e=P0(t);return x0.encodeByteArray(e,!0)},Wl=function(t){return jC(t).replace(/\./g,"")},zC=function(t){try{return x0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=()=>BC().__FIREBASE_DEFAULTS__,WC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zC(t[1]);return e&&JSON.parse(e)},k0=()=>{try{return HC()||WC()||qC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KC=t=>{var e,n;return(n=(e=k0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QC=t=>{const e=KC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},D0=()=>{var t;return(t=k0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Wl(JSON.stringify(n)),Wl(JSON.stringify(s)),a].join(".")}function XC(){try{return typeof indexedDB=="object"}catch{return!1}}function JC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="FirebaseError";class fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZC,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N0.prototype.create)}}class N0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?eR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new fo(i,a,r)}}function eR(t,e){return t.replace(tR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tR=/\{\$([^}]+)}/g;function cf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(jg(o)&&jg(s)){if(!cf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(t){return t===Or?void 0:t}function iR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const sR={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},aR=de.INFO,lR={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},uR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const cR=(t,e)=>e.some(n=>t instanceof n);let zg,Bg;function hR(){return zg||(zg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return Bg||(Bg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,hf=new WeakMap,M0=new WeakMap,qc=new WeakMap,Jd=new WeakMap;function dR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(yr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&O0.set(n,t)}).catch(()=>{}),Jd.set(e,t),e}function pR(t){if(hf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});hf.set(t,e)}let ff={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mR(t){ff=t(ff)}function gR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kc(this),e,...n);return M0.set(r,e.sort?e.sort():[e]),yr(r)}:fR().includes(t)?function(...e){return t.apply(Kc(this),e),yr(O0.get(this))}:function(...e){return yr(t.apply(Kc(this),e))}}function yR(t){return typeof t=="function"?gR(t):(t instanceof IDBTransaction&&pR(t),cR(t,hR())?new Proxy(t,ff):t)}function yr(t){if(t instanceof IDBRequest)return dR(t);if(qc.has(t))return qc.get(t);const e=yR(t);return e!==t&&(qc.set(t,e),Jd.set(e,t)),e}const Kc=t=>Jd.get(t);function vR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=yr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(yr(s.result),l.oldVersion,l.newVersion,yr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const _R=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],Qc=new Map;function Hg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qc.get(e))return Qc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ER.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_R.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qc.set(e,o),o}mR(t=>({...t,get:(e,n,r)=>Hg(e,n)||t.get(e,n,r),has:(e,n)=>!!Hg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const df="@firebase/app",Wg="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new V0("@firebase/app"),SR="@firebase/app-compat",IR="@firebase/analytics-compat",CR="@firebase/analytics",RR="@firebase/app-check-compat",AR="@firebase/app-check",PR="@firebase/auth",xR="@firebase/auth-compat",kR="@firebase/database",DR="@firebase/database-compat",NR="@firebase/functions",VR="@firebase/functions-compat",OR="@firebase/installations",MR="@firebase/installations-compat",LR="@firebase/messaging",FR="@firebase/messaging-compat",$R="@firebase/performance",bR="@firebase/performance-compat",UR="@firebase/remote-config",jR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",HR="@firebase/firestore",WR="@firebase/firestore-compat",qR="firebase",KR="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="[DEFAULT]",QR={[df]:"fire-core",[SR]:"fire-core-compat",[CR]:"fire-analytics",[IR]:"fire-analytics-compat",[AR]:"fire-app-check",[RR]:"fire-app-check-compat",[PR]:"fire-auth",[xR]:"fire-auth-compat",[kR]:"fire-rtdb",[DR]:"fire-rtdb-compat",[NR]:"fire-fn",[VR]:"fire-fn-compat",[OR]:"fire-iid",[MR]:"fire-iid-compat",[LR]:"fire-fcm",[FR]:"fire-fcm-compat",[$R]:"fire-perf",[bR]:"fire-perf-compat",[UR]:"fire-rc",[jR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[HR]:"fire-fst",[WR]:"fire-fst-compat","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Map,mf=new Map;function GR(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kl(t){const e=t.name;if(mf.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;mf.set(e,t);for(const n of ql.values())GR(n,t);return!0}function YR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vr=new N0("app","Firebase",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=KR;function L0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=D0()),!n)throw vr.create("no-options");const o=ql.get(i);if(o){if(cf(n,o.options)&&cf(r,o.config))return o;throw vr.create("duplicate-app",{appName:i})}const s=new oR(i);for(const l of mf.values())s.addComponent(l);const a=new JR(n,r,s);return ql.set(i,a),a}function eA(t=pf){const e=ql.get(t);if(!e&&t===pf&&D0())return L0();if(!e)throw vr.create("no-app",{appName:t});return e}function bi(t,e,n){var r;let i=(r=QR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(a.join(" "));return}Kl(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebase-heartbeat-database",nA=1,Vs="firebase-heartbeat-store";let Gc=null;function F0(){return Gc||(Gc=vR(tA,nA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vs)}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),Gc}async function rA(t){try{return await(await F0()).transaction(Vs).objectStore(Vs).get($0(t))}catch(e){if(e instanceof fo)Zr.warn(e.message);else{const n=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function qg(t,e){try{const r=(await F0()).transaction(Vs,"readwrite");await r.objectStore(Vs).put(e,$0(t)),await r.done}catch(n){if(n instanceof fo)Zr.warn(n.message);else{const r=vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(r.message)}}}function $0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1024,oA=30*24*60*60*1e3;class sA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=oA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kg(),{heartbeatsToSend:n,unsentEntries:r}=aA(this._heartbeatsCache.heartbeats),i=Wl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Kg(){return new Date().toISOString().substring(0,10)}function aA(t,e=iA){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Qg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XC()?JC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await rA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qg(t){return Wl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){Kl(new Ns("platform-logger",e=>new wR(e),"PRIVATE")),Kl(new Ns("heartbeat",e=>new sA(e),"PRIVATE")),bi(df,Wg,t),bi(df,Wg,"esm2017"),bi("fire-js","")}uA("");var cA="firebase",hA="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(cA,hA,"app");var fA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Zd=Zd||{},Y=fA||self;function Vu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ia(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function dA(t){return Object.prototype.hasOwnProperty.call(t,Yc)&&t[Yc]||(t[Yc]=++pA)}var Yc="closure_uid_"+(1e9*Math.random()>>>0),pA=0;function mA(t,e,n){return t.call.apply(t.bind,arguments)}function gA(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ft=mA:ft=gA,ft.apply(null,arguments)}function qa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ye(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function kr(){this.s=this.s,this.o=this.o}var yA=0;kr.prototype.s=!1;kr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yA!=0)&&dA(this)};kr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ep(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Gg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vu(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var vA=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function Os(t){return/^[\s\xa0]*$/.test(t)}function Ou(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function En(t){return Ou().indexOf(t)!=-1}function tp(t){return tp[" "](t),t}tp[" "]=function(){};function _A(t,e){var n=hP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var EA=En("Opera"),Zi=En("Trident")||En("MSIE"),U0=En("Edge"),gf=U0||Zi,j0=En("Gecko")&&!(Ou().toLowerCase().indexOf("webkit")!=-1&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),wA=Ou().toLowerCase().indexOf("webkit")!=-1&&!En("Edge");function z0(){var t=Y.document;return t?t.documentMode:void 0}var yf;e:{var Xc="",Jc=function(){var t=Ou();if(j0)return/rv:([^\);]+)(\)|;)/.exec(t);if(U0)return/Edge\/([\d\.]+)/.exec(t);if(Zi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wA)return/WebKit\/(\S+)/.exec(t);if(EA)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jc&&(Xc=Jc?Jc[1]:""),Zi){var Zc=z0();if(Zc!=null&&Zc>parseFloat(Xc)){yf=String(Zc);break e}}yf=Xc}var vf;if(Y.document&&Zi){var Yg=z0();vf=Yg||parseInt(yf,10)||void 0}else vf=void 0;var TA=vf;function Ms(t,e){if(dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(j0){e:{try{tp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:SA[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ms.$.h.call(this)}}Ye(Ms,dt);var SA={2:"touch",3:"pen",4:"mouse"};Ms.prototype.h=function(){Ms.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oa="closure_listenable_"+(1e6*Math.random()|0),IA=0;function CA(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++IA,this.fa=this.ia=!1}function Mu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function np(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function RA(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function B0(t){const e={};for(const n in t)e[n]=t[n];return e}const Xg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Xg.length;o++)n=Xg[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lu(t){this.src=t,this.g={},this.h=0}Lu.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Ef(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new CA(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function _f(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=b0(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Mu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ef(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var rp="closure_lm_"+(1e6*Math.random()|0),eh={};function W0(t,e,n,r,i){if(r&&r.once)return K0(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)W0(t,e[o],n,r,i);return null}return n=sp(n),t&&t[oa]?t.O(e,n,ia(r)?!!r.capture:!!r,i):q0(t,e,n,!1,r,i)}function q0(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ia(i)?!!i.capture:!!i,a=op(t);if(a||(t[rp]=a=new Lu(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=AA(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vA||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(G0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AA(){function t(n){return e.call(t.src,t.listener,n)}const e=PA;return t}function K0(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)K0(t,e[o],n,r,i);return null}return n=sp(n),t&&t[oa]?t.P(e,n,ia(r)?!!r.capture:!!r,i):q0(t,e,n,!0,r,i)}function Q0(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Q0(t,e[o],n,r,i);else r=ia(r)?!!r.capture:!!r,n=sp(n),t&&t[oa]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Ef(o,n,r,i),-1<n&&(Mu(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=op(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ef(e,n,r,i)),(n=-1<t?e[t]:null)&&ip(n))}function ip(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[oa])_f(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(G0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=op(e))?(_f(n,t),n.h==0&&(n.src=null,e[rp]=null)):Mu(t)}}}function G0(t){return t in eh?eh[t]:eh[t]="on"+t}function PA(t,e){if(t.fa)t=!0;else{e=new Ms(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ip(t),t=n.call(r,e)}return t}function op(t){return t=t[rp],t instanceof Lu?t:null}var th="__closure_events_fn_"+(1e9*Math.random()>>>0);function sp(t){return typeof t=="function"?t:(t[th]||(t[th]=function(e){return t.handleEvent(e)}),t[th])}function Ge(){kr.call(this),this.i=new Lu(this),this.S=this,this.J=null}Ye(Ge,kr);Ge.prototype[oa]=!0;Ge.prototype.removeEventListener=function(t,e,n,r){Q0(this,t,e,n,r)};function nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new dt(e,t);else if(e instanceof dt)e.target=e.target||t;else{var i=e;e=new dt(r,t),H0(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ka(s,r,!0,e)&&i}if(s=e.g=t,i=Ka(s,r,!0,e)&&i,i=Ka(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Ka(s,r,!1,e)&&i}Ge.prototype.N=function(){if(Ge.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mu(n[r]);delete t.g[e],t.h--}}this.J=null};Ge.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ge.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ka(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&_f(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ap=Y.JSON.stringify;class xA{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function kA(){var t=lp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class DA{constructor(){this.h=this.g=null}add(e,n){const r=Y0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Y0=new xA(()=>new NA,t=>t.reset());class NA{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VA(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function OA(t){Y.setTimeout(()=>{throw t},0)}let Ls,Fs=!1,lp=new DA,X0=()=>{const t=Y.Promise.resolve(void 0);Ls=()=>{t.then(MA)}};var MA=()=>{for(var t;t=kA();){try{t.h.call(t.g)}catch(n){OA(n)}var e=Y0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fs=!1};function Fu(t,e){Ge.call(this),this.h=t||1,this.g=e||Y,this.j=ft(this.qb,this),this.l=Date.now()}Ye(Fu,Ge);O=Fu.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nt(this,"tick"),this.ga&&(up(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function up(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){Fu.$.N.call(this),up(this),delete this.g};function cp(t,e,n){if(typeof t=="function")n&&(t=ft(t,n));else if(t&&typeof t.handleEvent=="function")t=ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function J0(t){t.g=cp(()=>{t.g=null,t.i&&(t.i=!1,J0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class LA extends kr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:J0(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(t){kr.call(this),this.h=t,this.g={}}Ye($s,kr);var Jg=[];function Z0(t,e,n,r){Array.isArray(n)||(n&&(Jg[0]=n.toString()),n=Jg);for(var i=0;i<n.length;i++){var o=W0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function eE(t){np(t.g,function(e,n){this.g.hasOwnProperty(n)&&ip(e)},t),t.g={}}$s.prototype.N=function(){$s.$.N.call(this),eE(this)};$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $u(){this.g=!0}$u.prototype.Ea=function(){this.g=!1};function FA(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function $A(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function xi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+UA(t,n)+(r?" "+r:"")})}function bA(t,e){t.info(function(){return"TIMEOUT: "+e})}$u.prototype.info=function(){};function UA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return ap(n)}catch{return e}}var si={},Zg=null;function bu(){return Zg=Zg||new Ge}si.Ta="serverreachability";function tE(t){dt.call(this,si.Ta,t)}Ye(tE,dt);function bs(t){const e=bu();nt(e,new tE(e))}si.STAT_EVENT="statevent";function nE(t,e){dt.call(this,si.STAT_EVENT,t),this.stat=e}Ye(nE,dt);function vt(t){const e=bu();nt(e,new nE(e,t))}si.Ua="timingevent";function rE(t,e){dt.call(this,si.Ua,t),this.size=e}Ye(rE,dt);function sa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var Uu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hp(){}hp.prototype.h=null;function ey(t){return t.h||(t.h=t.i())}function oE(){}var aa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fp(){dt.call(this,"d")}Ye(fp,dt);function dp(){dt.call(this,"c")}Ye(dp,dt);var wf;function ju(){}Ye(ju,hp);ju.prototype.g=function(){return new XMLHttpRequest};ju.prototype.i=function(){return{}};wf=new ju;function la(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new $s(this),this.P=jA,t=gf?125:void 0,this.V=new Fu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sE}function sE(){this.i=null,this.g="",this.h=!1}var jA=45e3,Tf={},Ql={};O=la.prototype;O.setTimeout=function(t){this.P=t};function Sf(t,e,n){t.L=1,t.v=Bu(Hn(e)),t.s=n,t.S=!0,aE(t,null)}function aE(t,e){t.G=Date.now(),ua(t),t.A=Hn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),mE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new sE,t.g=LE(t.l,n?e:null,!t.s),0<t.O&&(t.M=new LA(ft(t.Pa,t,t.g),t.O)),Z0(t.U,t.g,"readystatechange",t.nb),e=t.I?B0(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),bs(),FA(t.j,t.u,t.A,t.m,t.W,t.s)}O.nb=function(t){t=t.target;const e=this.M;e&&wn(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const c=wn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||gf||this.g&&(this.h.h||this.g.ja()||iy(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?bs(3):bs(2)),zu(this);var n=this.g.da();this.ca=n;t:if(lE(this)){var r=iy(this.g);t="";var i=r.length,o=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),ss(this);var s="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,$A(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Os(a)){var u=a;break t}}u=null}if(n=u)xi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,If(this,n);else{this.i=!1,this.o=3,vt(12),Ur(this),ss(this);break e}}this.S?(uE(this,c,s),gf&&this.i&&c==3&&(Z0(this.U,this.V,"tick",this.mb),this.V.start())):(xi(this.j,this.m,s,null),If(this,s)),c==4&&Ur(this),this.i&&!this.J&&(c==4?NE(this.l,this):(this.i=!1,ua(this)))}else lP(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,vt(12)):(this.o=0,vt(13)),Ur(this),ss(this)}}}catch{}finally{}};function lE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function uE(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=zA(t,n),i==Ql){e==4&&(t.o=4,vt(14),r=!1),xi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Tf){t.o=4,vt(15),xi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xi(t.j,t.m,i,null),If(t,i);lE(t)&&i!=Ql&&i!=Tf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,vt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_p(e),e.M=!0,vt(11))):(xi(t.j,t.m,n,"[Invalid Chunked Response]"),Ur(t),ss(t))}O.mb=function(){if(this.g){var t=wn(this.g),e=this.g.ja();this.C<e.length&&(zu(this),uE(this,t,e),this.i&&t!=4&&ua(this))}};function zA(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ql:(n=Number(e.substring(n,r)),isNaN(n)?Tf:(r+=1,r+n>e.length?Ql:(e=e.slice(r,r+n),t.C=r+n,e)))}O.cancel=function(){this.J=!0,Ur(this)};function ua(t){t.Y=Date.now()+t.P,cE(t,t.P)}function cE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=sa(ft(t.lb,t),e)}function zu(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(bA(this.j,this.A),this.L!=2&&(bs(),vt(17)),Ur(this),this.o=2,ss(this)):cE(this,this.Y-t)};function ss(t){t.l.H==0||t.J||NE(t.l,t)}function Ur(t){zu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,up(t.V),eE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function If(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Cf(n.i,t))){if(!t.K&&Cf(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Xl(n),qu(n);else break e;vp(n),vt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=sa(ft(n.ib,n),6e3));if(1>=vE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else jr(n,11)}else if((t.K||n.g==t)&&Xl(n),!Os(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(pp(o,o.h),o.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Te(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=ME(r,r.J?r.pa:null,r.Y),s.K){_E(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(zu(a),ua(a)),r.g=s}else kE(r);0<n.j.length&&Ku(n)}else u[0]!="stop"&&u[0]!="close"||jr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?jr(n,7):yp(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}bs(4)}catch{}}function BA(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Vu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function HA(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Vu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function hE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=HA(t),r=BA(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var fE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wr){this.h=t.h,Gl(this,t.j),this.s=t.s,this.g=t.g,Yl(this,t.m),this.l=t.l;var e=t.i,n=new Us;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ty(this,n),this.o=t.o}else t&&(e=String(t).match(fE))?(this.h=!1,Gl(this,e[1]||"",!0),this.s=Wo(e[2]||""),this.g=Wo(e[3]||"",!0),Yl(this,e[4]),this.l=Wo(e[5]||"",!0),ty(this,e[6]||"",!0),this.o=Wo(e[7]||"")):(this.h=!1,this.i=new Us(null,this.h))}Wr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qo(e,ny,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qo(e,ny,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qo(n,n.charAt(0)=="/"?QA:KA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qo(n,YA)),t.join("")};function Hn(t){return new Wr(t)}function Gl(t,e,n){t.j=n?Wo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ty(t,e,n){e instanceof Us?(t.i=e,XA(t.i,t.h)):(n||(e=qo(e,GA)),t.i=new Us(e,t.h))}function Te(t,e,n){t.i.set(e,n)}function Bu(t){return Te(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,qA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ny=/[#\/\?@]/g,KA=/[#\?:]/g,QA=/[#\?]/g,GA=/[#\?@]/g,YA=/#/g;function Us(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Dr(t){t.g||(t.g=new Map,t.h=0,t.i&&WA(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Us.prototype;O.add=function(t,e){Dr(this),this.i=null,t=po(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function dE(t,e){Dr(t),e=po(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function pE(t,e){return Dr(t),e=po(t,e),t.g.has(e)}O.forEach=function(t,e){Dr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};O.ta=function(){Dr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};O.Z=function(t){Dr(this);let e=[];if(typeof t=="string")pE(this,t)&&(e=e.concat(this.g.get(po(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Dr(this),this.i=null,t=po(this,t),pE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function mE(t,e,n){dE(t,e),0<n.length&&(t.i=null,t.g.set(po(t,e),ep(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function po(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function XA(t,e){e&&!t.j&&(Dr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dE(this,r),mE(this,i,n))},t)),t.j=e}var JA=class{constructor(t,e){this.g=t,this.map=e}};function gE(t){this.l=t||ZA,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZA=10;function yE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vE(t){return t.h?1:t.g?t.g.size:0}function Cf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pp(t,e){t.g?t.g.add(e):t.h=e}function _E(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gE.prototype.cancel=function(){if(this.i=EE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function EE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ep(t.i)}var eP=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function tP(){this.g=new eP}function nP(t,e,n){const r=n||"";try{hE(t,function(i,o){let s=i;ia(i)&&(s=ap(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rP(t,e){const n=new $u;if(Y.Image){const r=new Image;r.onload=qa(Qa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qa(Qa,n,r,"TestLoadImage: error",!1,e),r.onabort=qa(Qa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qa(Qa,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Qa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ca(t){this.l=t.fc||null,this.j=t.ob||!1}Ye(ca,hp);ca.prototype.g=function(){return new Hu(this.l,this.j)};ca.prototype.i=function(t){return function(){return t}}({});function Hu(t,e){Ge.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=mp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ye(Hu,Ge);var mp=0;O=Hu.prototype;O.open=function(t,e){if(this.readyState!=mp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,js(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=mp};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function wE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ha(this):js(this),this.readyState==3&&wE(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,ha(this))};O.Ya=function(t){this.g&&(this.response=t,ha(this))};O.ka=function(){this.g&&ha(this)};function ha(t){t.readyState=4,t.l=null,t.j=null,t.A=null,js(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function js(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var iP=Y.JSON.parse;function Ve(t){Ge.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TE,this.L=this.M=!1}Ye(Ve,Ge);var TE="",oP=/^https?$/i,sP=["POST","PUT"];O=Ve.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wf.g(),this.C=this.u?ey(this.u):ey(wf),this.g.onreadystatechange=ft(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){ry(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Y.FormData&&t instanceof Y.FormData,!(0<=b0(sP,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{CE(this),0<this.B&&((this.L=aP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.ua,this)):this.A=cp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ry(this,o)}};function aP(t){return Zi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof Zd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nt(this,"timeout"),this.abort(8))};function ry(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,SE(t),Wu(t)}function SE(t){t.F||(t.F=!0,nt(t,"complete"),nt(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,nt(this,"complete"),nt(this,"abort"),Wu(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wu(this,!0)),Ve.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?IE(this):this.kb())};O.kb=function(){IE(this)};function IE(t){if(t.h&&typeof Zd<"u"&&(!t.C[1]||wn(t)!=4||t.da()!=2)){if(t.v&&wn(t)==4)cp(t.La,0,t);else if(nt(t,"readystatechange"),wn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(fE)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!oP.test(i?i.toLowerCase():"")}n=r}if(n)nt(t,"complete"),nt(t,"success");else{t.m=6;try{var o=2<wn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",SE(t)}}finally{Wu(t)}}}}function Wu(t,e){if(t.g){CE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function CE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function wn(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iP(e)}};function iy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case TE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function lP(t){const e={};t=(t.g&&2<=wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Os(t[r]))continue;var n=VA(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}RA(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function RE(t){let e="";return np(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=RE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Te(t,e,n))}function bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function AE(t){this.Ga=0,this.j=[],this.l=new $u,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bo("baseRetryDelayMs",5e3,t),this.hb=bo("retryDelaySeedMs",1e4,t),this.eb=bo("forwardChannelMaxRetries",2,t),this.xa=bo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new gE(t&&t.concurrentRequestLimit),this.Ja=new tP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=AE.prototype;O.ra=8;O.H=1;function yp(t){if(PE(t),t.H==3){var e=t.W++,n=Hn(t.I);if(Te(n,"SID",t.K),Te(n,"RID",e),Te(n,"TYPE","terminate"),fa(t,n),e=new la(t,t.l,e),e.L=2,e.v=Bu(Hn(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=LE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ua(e)}OE(t)}function qu(t){t.g&&(_p(t),t.g.cancel(),t.g=null)}function PE(t){qu(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Xl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function Ku(t){if(!yE(t.i)&&!t.m){t.m=!0;var e=t.Na;Ls||X0(),Fs||(Ls(),Fs=!0),lp.add(e,t),t.C=0}}function uP(t,e){return vE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=sa(ft(t.Na,t,e),VE(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new la(this,this.l,t);let o=this.s;if(this.U&&(o?(o=B0(o),H0(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xE(this,i,e),n=Hn(this.I),Te(n,"RID",t),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),fa(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(RE(o)))+"&"+e:this.o&&gp(n,this.o,o)),pp(this.i,i),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",e),Te(n,"SID","null"),i.aa=!0,Sf(i,n,null)):Sf(i,n,e),this.H=2}}else this.H==3&&(t?oy(this,t):this.j.length==0||yE(this.i)||oy(this))};function oy(t,e){var n;e?n=e.m:n=t.W++;const r=Hn(t.I);Te(r,"SID",t.K),Te(r,"RID",n),Te(r,"AID",t.V),fa(t,r),t.o&&t.s&&gp(r,t.o,t.s),n=new la(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=xE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pp(t.i,n),Sf(n,r,e)}function fa(t,e){t.na&&np(t.na,function(n,r){Te(e,r,n)}),t.h&&hE({},function(n,r){Te(e,r,n)})}function xE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ft(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{nP(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function kE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ls||X0(),Fs||(Ls(),Fs=!0),lp.add(e,t),t.A=0}}function vp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=sa(ft(t.Ma,t),VE(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,DE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sa(ft(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vt(10),qu(this),DE(this))};function _p(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function DE(t){t.g=new la(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Hn(t.wa);Te(e,"RID","rpc"),Te(e,"SID",t.K),Te(e,"AID",t.V),Te(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Te(e,"TO",t.qa),Te(e,"TYPE","xmlhttp"),fa(t,e),t.o&&t.s&&gp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Bu(Hn(e)),n.s=null,n.S=!0,aE(n,t)}O.ib=function(){this.v!=null&&(this.v=null,qu(this),vp(this),vt(19))};function Xl(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function NE(t,e){var n=null;if(t.g==e){Xl(t),_p(t),t.g=null;var r=2}else if(Cf(t.i,e))n=e.F,_E(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=bu(),nt(r,new rE(r,n)),Ku(t)}else kE(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&uP(t,e)||r==2&&vp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:jr(t,5);break;case 4:jr(t,10);break;case 3:jr(t,6);break;default:jr(t,2)}}}function VE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function jr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ft(t.pb,t);n||(n=new Wr("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Gl(n,"https"),Bu(n)),rP(n.toString(),r)}else vt(2);t.H=0,t.h&&t.h.za(e),OE(t),PE(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),vt(2)):(this.l.info("Failed to ping google.com"),vt(1))};function OE(t){if(t.H=0,t.ma=[],t.h){const e=EE(t.i);(e.length!=0||t.j.length!=0)&&(Gg(t.ma,e),Gg(t.ma,t.j),t.i.i.length=0,ep(t.j),t.j.length=0),t.h.ya()}}function ME(t,e,n){var r=n instanceof Wr?Hn(n):new Wr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Yl(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Wr(null);r&&Gl(o,r),e&&(o.g=e),i&&Yl(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Te(r,n,e),Te(r,"VER",t.ra),fa(t,r),r}function LE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ve(new ca({ob:!0})):new Ve(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function FE(){}O=FE.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function Jl(){if(Zi&&!(10<=Number(TA)))throw Error("Environmental error: no available transport.")}Jl.prototype.g=function(t,e){return new Mt(t,e)};function Mt(t,e){Ge.call(this),this.g=new AE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Os(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Os(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new mo(this)}Ye(Mt,Ge);Mt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;vt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ME(t,null,t.Y),Ku(t)};Mt.prototype.close=function(){yp(this.g)};Mt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ap(t),t=n);e.j.push(new JA(e.fb++,t)),e.H==3&&Ku(e)};Mt.prototype.N=function(){this.g.h=null,delete this.j,yp(this.g),delete this.g,Mt.$.N.call(this)};function $E(t){fp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ye($E,fp);function bE(){dp.call(this),this.status=1}Ye(bE,dp);function mo(t){this.g=t}Ye(mo,FE);mo.prototype.Ba=function(){nt(this.g,"a")};mo.prototype.Aa=function(t){nt(this.g,new $E(t))};mo.prototype.za=function(t){nt(this.g,new bE)};mo.prototype.ya=function(){nt(this.g,"b")};function cP(){this.blockSize=-1}function fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ye(fn,cP);fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function nh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}fn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)nh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){nh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){nh(this,r),i=0;break}}this.h=i,this.i+=e};fn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ge(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var hP={};function Ep(t){return-128<=t&&128>t?_A(t,function(e){return new ge([e|0],0>e?-1:0)}):new ge([t|0],0>t?-1:0)}function Tn(t){if(isNaN(t)||!isFinite(t))return Ui;if(0>t)return et(Tn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Rf;return new ge(e,0)}function UE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return et(UE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Tn(Math.pow(e,8)),r=Ui,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Tn(Math.pow(e,o)),r=r.R(o).add(Tn(s))):(r=r.R(n),r=r.add(Tn(s)))}return r}var Rf=4294967296,Ui=Ep(0),Af=Ep(1),sy=Ep(16777216);O=ge.prototype;O.ea=function(){if(Wt(this))return-et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Rf+r)*e,e*=Rf}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ln(this))return"0";if(Wt(this))return"-"+et(this).toString(t);for(var e=Tn(Math.pow(t,6)),n=this,r="";;){var i=eu(n,e).g;n=Zl(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ln(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ln(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wt(t){return t.h==-1}O.X=function(t){return t=Zl(this,t),Wt(t)?-1:Ln(t)?0:1};function et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ge(n,~t.h).add(Af)}O.abs=function(){return Wt(this)?et(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function Zl(t,e){return t.add(et(e))}O.R=function(t){if(Ln(this)||Ln(t))return Ui;if(Wt(this))return Wt(t)?et(this).R(et(t)):et(et(this).R(t));if(Wt(t))return et(this.R(et(t)));if(0>this.X(sy)&&0>t.X(sy))return Tn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Ga(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Ga(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ga(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ga(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ge(n,0)};function Ga(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Uo(t,e){this.g=t,this.h=e}function eu(t,e){if(Ln(e))throw Error("division by zero");if(Ln(t))return new Uo(Ui,Ui);if(Wt(t))return e=eu(et(t),e),new Uo(et(e.g),et(e.h));if(Wt(e))return e=eu(t,et(e)),new Uo(et(e.g),e.h);if(30<t.g.length){if(Wt(t)||Wt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Af,r=e;0>=r.X(t);)n=ay(n),r=ay(r);var i=hi(n,1),o=hi(r,1);for(r=hi(r,2),n=hi(n,2);!Ln(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=hi(r,1),n=hi(n,1)}return e=Zl(t,i.R(e)),new Uo(i,e)}for(i=Ui;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Tn(n),s=o.R(e);Wt(s)||0<s.X(t);)n-=r,o=Tn(n),s=o.R(e);Ln(o)&&(o=Af),i=i.add(o),t=Zl(t,s)}return new Uo(i,t)}O.gb=function(t){return eu(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ge(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ge(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ge(n,this.h^t.h)};function ay(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ge(n,t.h)}function hi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ge(i,t.h)}Jl.prototype.createWebChannel=Jl.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;Uu.NO_ERROR=0;Uu.TIMEOUT=8;Uu.HTTP_ERROR=6;iE.COMPLETE="complete";oE.EventType=aa;aa.OPEN="a";aa.CLOSE="b";aa.ERROR="c";aa.MESSAGE="d";Ge.prototype.listen=Ge.prototype.O;Ve.prototype.listenOnce=Ve.prototype.P;Ve.prototype.getLastError=Ve.prototype.Sa;Ve.prototype.getLastErrorCode=Ve.prototype.Ia;Ve.prototype.getStatus=Ve.prototype.da;Ve.prototype.getResponseJson=Ve.prototype.Wa;Ve.prototype.getResponseText=Ve.prototype.ja;Ve.prototype.send=Ve.prototype.ha;Ve.prototype.setWithCredentials=Ve.prototype.Oa;fn.prototype.digest=fn.prototype.l;fn.prototype.reset=fn.prototype.reset;fn.prototype.update=fn.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=Tn;ge.fromString=UE;var fP=function(){return new Jl},dP=function(){return bu()},rh=Uu,pP=iE,mP=si,ly={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gP=ca,Ya=oE,yP=Ve,vP=fn,ji=ge;const uy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new V0("@firebase/firestore");function cy(){return ei.logLevel}function U(t,...e){if(ei.logLevel<=de.DEBUG){const n=e.map(wp);ei.debug(`Firestore (${go}): ${t}`,...n)}}function Wn(t,...e){if(ei.logLevel<=de.ERROR){const n=e.map(wp);ei.error(`Firestore (${go}): ${t}`,...n)}}function eo(t,...e){if(ei.logLevel<=de.WARN){const n=e.map(wp);ei.warn(`Firestore (${go}): ${t}`,...n)}}function wp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function Ce(t,e){t||Q()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _P{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class EP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wP{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new $n;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $n,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $n)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new jE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new lt(e)}}class TP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new IP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=RP(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new He(0,0))}static max(){return new Z(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends zs{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const AP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends zs{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return AP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new $(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(Se.fromString(e))}static fromName(e){return new B(Se.fromString(e).popFirst(5))}static empty(){return new B(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new Se(e.slice()))}}function PP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Ir(i,B.empty(),e)}function xP(t){return new Ir(t.readTime,t.key,-1)}class Ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(Z.min(),B.empty(),-1)}static max(){return new Ir(Z.max(),B.empty(),-1)}}function kP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==DP)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new D((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Tp.ae=-1;function Qu(t){return t==null}function tu(t){return t===0&&1/t==-1/0}function VP(t){return typeof t=="number"&&Number.isInteger(t)&&!tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||Ze.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xa(this.root,e,this.comparator,!0)}}class Xa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=i??Ze.EMPTY,this.right=o??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ze(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fy(this.data.getIterator())}getIteratorFrom(e){return new fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new sn([])}unionWith(e){let n=new pt(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HE("Invalid base64 string: "+o):o}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const OP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=OP.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ip(t){const e=t.mapValue.fields.__previous_value__;return Sp(e)?Ip(e):e}function Bs(t){const e=Cr(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sp(t)?4:LP(t)?9007199254740991:10:Q()}function Pn(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bs(t).isEqual(Bs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Cr(i.timestampValue),a=Cr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ti(i.bytesValue).isEqual(ti(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?tu(s)===tu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(hy(s)!==hy(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Pn(s[l],a[l])))return!1;return!0}(t,e);default:return Q()}}function Ws(t,e){return(t.values||[]).find(n=>Pn(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Fe(o.integerValue||o.doubleValue),l=Fe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return dy(t.timestampValue,e.timestampValue);case 4:return dy(Bs(t),Bs(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ti(o),l=ti(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=fe(a[u],l[u]);if(c!==0)return c}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=fe(Fe(o.latitude),Fe(s.latitude));return a!==0?a:fe(Fe(o.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=no(a[u],l[u]);if(c)return c}return fe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ja.mapValue&&s===Ja.mapValue)return 0;if(o===Ja.mapValue)return 1;if(s===Ja.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=fe(l[h],c[h]);if(f!==0)return f;const p=no(a[l[h]],u[c[h]]);if(p!==0)return p}return fe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Q()}}function dy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Cr(t),r=Cr(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function ro(t){return Pf(t)}function Pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Pf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Pf(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function py(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xf(t){return!!t&&"integerValue"in t}function Cp(t){return!!t&&"arrayValue"in t}function my(t){return!!t&&"nullValue"in t}function gy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gl(t){return!!t&&"mapValue"in t}function as(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=as(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=as(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=as(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=as(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qt(as(this.value))}}function WE(t){const e=[];return yo(t.fields,(n,r)=>{const i=new ht([n]);if(gl(r)){const o=WE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,Z.min(),Z.min(),Z.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new ct(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new ct(e,2,n,Z.min(),Z.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,Z.min(),Z.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function yy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),n.key):r=no(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n="asc"){this.field=e,this.dir=n}}function FP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{}class be extends qE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bP(e,n,r):n==="array-contains"?new zP(e,r):n==="in"?new BP(e,r):n==="not-in"?new HP(e,r):n==="array-contains-any"?new WP(e,r):new be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UP(e,r):new jP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class dn extends qE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new dn(e,n)}matches(e){return KE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function KE(t){return t.op==="and"}function QE(t){return $P(t)&&KE(t)}function $P(t){for(const e of t.filters)if(e instanceof dn)return!1;return!0}function kf(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(QE(t))return t.filters.map(e=>kf(e)).join(",");{const e=t.filters.map(n=>kf(n)).join(",");return`${t.op}(${e})`}}function GE(t,e){return t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&Pn(r.value,i.value)}(t,e):t instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&GE(s,i.filters[a]),!0):!1}(t,e):void Q()}function YE(t){return t instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(YE).join(" ,")+"}"}(t):"Filter"}class bP extends be{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class UP extends be{constructor(e,n){super(e,"in",n),this.keys=XE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jP extends be{constructor(e,n){super(e,"not-in",n),this.keys=XE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class zP extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&Ws(n.arrayValue,this.value)}}class BP extends be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ws(this.value.arrayValue,n)}}class HP extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ws(this.value.arrayValue,n)}}class WP extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ws(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.he=null}}function _y(t,e=null,n=[],r=[],i=null,o=null,s=null){return new qP(t,e,n,r,i,o,s)}function Rp(t){const e=re(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.he=n}return e.he}function Ap(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vy(t.startAt,e.startAt)&&vy(t.endAt,e.endAt)}function Df(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function KP(t,e,n,r,i,o,s,a){return new ma(t,e,n,r,i,o,s,a)}function Pp(t){return new ma(t)}function Ey(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ZE(t){return t.collectionGroup!==null}function zi(t){const e=re(t);if(e.Pe===null){e.Pe=[];const n=xp(e),r=JE(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new ls(n)),e.Pe.push(new ls(ht.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new ls(ht.keyField(),o))}}}return e.Pe}function qn(t){const e=re(t);if(!e.Ie)if(e.limitType==="F")e.Ie=_y(e.path,e.collectionGroup,zi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of zi(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new ls(o.field,s))}const r=e.endAt?new nu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nu(e.startAt.position,e.startAt.inclusive):null;e.Ie=_y(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function Nf(t,e){e.getFirstInequalityField(),xp(t);const n=t.filters.concat([e]);return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vf(t,e,n){return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gu(t,e){return Ap(qn(t),qn(e))&&t.limitType===e.limitType}function ew(t){return`${Rp(qn(t))}|lt:${t.limitType}`}function Of(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YE(i)).join(", ")}]`),Qu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ro(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function Yu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of zi(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=yy(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,zi(r),i)||r.endAt&&!function(s,a,l){const u=yy(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,zi(r),i))}(t,e)}function QP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tw(t){return(e,n)=>{let r=!1;for(const i of zi(t)){const o=GP(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function GP(t,e,n){const r=t.field.isKeyField()?B.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?no(l,u):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new De(B.comparator);function Kn(){return YP}const nw=new De(B.comparator);function Ko(...t){let e=nw;for(const n of t)e=e.insert(n.key,n);return e}function rw(t){let e=nw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return us()}function iw(){return us()}function us(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const XP=new De(B.comparator),JP=new pt(B.comparator);function oe(...t){let e=JP;for(const n of t)e=e.add(n);return e}const ZP=new pt(fe);function ex(){return ZP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function sw(t){return{integerValue:""+t}}function tx(t,e){return VP(e)?sw(e):ow(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this._=void 0}}function nx(t,e,n){return t instanceof qs?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Sp(o)&&(o=Ip(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ks?lw(t,e):t instanceof Qs?uw(t,e):function(i,o){const s=aw(i,o),a=wy(s)+wy(i.Te);return xf(s)&&xf(i.Te)?sw(a):ow(i.serializer,a)}(t,e)}function rx(t,e,n){return t instanceof Ks?lw(t,e):t instanceof Qs?uw(t,e):n}function aw(t,e){return t instanceof ru?function(r){return xf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class qs extends Xu{}class Ks extends Xu{constructor(e){super(),this.elements=e}}function lw(t,e){const n=cw(e);for(const r of t.elements)n.some(i=>Pn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qs extends Xu{constructor(e){super(),this.elements=e}}function uw(t,e){let n=cw(e);for(const r of t.elements)n=n.filter(i=>!Pn(i,r));return{arrayValue:{values:n}}}class ru extends Xu{constructor(e,n){super(),this.serializer=e,this.Te=n}}function wy(t){return Fe(t.integerValue||t.doubleValue)}function cw(t){return Cp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.field=e,this.transform=n}}function ox(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ks&&i instanceof Ks||r instanceof Qs&&i instanceof Qs?to(r.elements,i.elements,Pn):r instanceof ru&&i instanceof ru?Pn(r.Te,i.Te):r instanceof qs&&i instanceof qs}(t.transform,e.transform)}class sx{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ju{}function hw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kp(t.key,un.none()):new ga(t.key,t.data,un.none());{const n=t.data,r=qt.empty();let i=new pt(ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ai(t.key,r,new sn(i.toArray()),un.none())}}function ax(t,e,n){t instanceof ga?function(i,o,s){const a=i.value.clone(),l=Sy(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(i,o,s){if(!yl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Sy(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(fw(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function cs(t,e,n,r){return t instanceof ga?function(o,s,a,l){if(!yl(o.precondition,s))return a;const u=o.value.clone(),c=Iy(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(o,s,a,l){if(!yl(o.precondition,s))return a;const u=Iy(o.fieldTransforms,l,s),c=s.data;return c.setAll(fw(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return yl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function lx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=aw(r.transform,i||null);o!=null&&(n===null&&(n=qt.empty()),n.set(r.field,o))}return n||null}function Ty(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&to(r,i,(o,s)=>ox(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ga extends Ju{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Ju{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sy(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,rx(s,a,n[i]))}return r}function Iy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,nx(o,s,e))}return r}class kp extends Ju{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ux extends Ju{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ax(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iw();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=hw(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>Ty(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>Ty(n,r))}}class Dp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return XP}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Dp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,ae;function dx(t){switch(t){default:return Q();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function dw(t){if(t===void 0)return Wn("GRPC error has no .code"),A.UNKNOWN;switch(t){case Me.OK:return A.OK;case Me.CANCELLED:return A.CANCELLED;case Me.UNKNOWN:return A.UNKNOWN;case Me.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Me.INTERNAL:return A.INTERNAL;case Me.UNAVAILABLE:return A.UNAVAILABLE;case Me.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Me.NOT_FOUND:return A.NOT_FOUND;case Me.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Me.ABORTED:return A.ABORTED;case Me.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Me.DATA_LOSS:return A.DATA_LOSS;default:return Q()}}(ae=Me||(Me={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Za}static getOrCreateInstance(){return Za===null&&(Za=new Np),Za}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Za=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new ji([4294967295,4294967295],0);function Cy(t){const e=px().encode(t),n=new vP;return n.update(e),new Uint8Array(n.digest())}function Ry(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ji([n,r],0),new ji([i,o],0)]}class Vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qo(`Invalid padding: ${n}`);if(r<0)throw new Qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qo(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=ji.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(ji.fromNumber(r)));return i.compare(mx)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=Cy(e),[r,i]=Ry(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);if(!this.Ve(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Vp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.de===0)return;const n=Cy(e),[r,i]=Ry(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);this.me(s)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zu(Z.min(),i,new De(fe),Kn(),oe())}}class ya{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ya(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class pw{constructor(e,n){this.targetId=e,this.pe=n}}class mw{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ay{constructor(){this.ye=0,this.we=xy(),this.Se=gt.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=oe(),n=oe(),r=oe();return this.we.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new ya(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=xy()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class gx{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Kn(),this.$e=Py(),this.Ue=new De(fe)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,o=e.pe.count,s=this.Xe(i);if(s){const a=s.target;if(Df(a))if(o===0){const l=new B(a.path);this.ze(i,l,ct.newNoDocument(l,Z.min()))}else Ce(o===1);else{const l=this.et(i);if(l!==o){const u=this.tt(e,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=Np.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,p,v){var _,w,m,d,y,g;const R={localCacheCount:p,existenceFilterCount:v.count},k=v.unchangedNames;return k&&(R.bloomFilter={applied:h===0,hashCount:(_=k==null?void 0:k.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(d=(m=(w=k==null?void 0:k.bits)===null||w===void 0?void 0:w.bitmap)===null||m===void 0?void 0:m.length)!==null&&d!==void 0?d:0,padding:(g=(y=k==null?void 0:k.bits)===null||y===void 0?void 0:y.padding)!==null&&g!==void 0?g:0},f&&(R.bloomFilter.mightContain=f)),R}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=ti(o).toUint8Array()}catch(h){if(h instanceof HE)return eo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{u=new Vp(l,s,a)}catch(h){return eo(h instanceof Qo?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const c=h=>{const f=this.qe.rt();return u.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${h}`)};return u.de===0?{status:1}:{status:i===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{n(o.path.canonicalString())||(this.ze(e,o,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&Df(a.target)){const l=new B(a.target.path);this.Ke.get(l)!==null||this.ot(s,l)||this.ze(s,l,ct.newNoDocument(l,e))}o.Ce&&(n.set(s,o.Me()),o.xe())}});let r=oe();this.$e.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ke.forEach((o,s)=>s.setReadTime(e));const i=new Zu(e,n,this.Ue,this.Ke,r);return this.Ke=Kn(),this.$e=Py(),this.Ue=new De(fe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new Ay,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new pt(fe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new Ay),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function Py(){return new De(B.comparator)}function xy(){return new De(B.comparator)}const yx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),vx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),_x=(()=>({and:"AND",or:"OR"}))();class Ex{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mf(t,e){return t.useProto3Json||Qu(e)?e:{value:e}}function iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wx(t,e){return iu(t,e.toTimestamp())}function Rn(t){return Ce(!!t),Z.fromTimestamp(function(n){const r=Cr(n);return new He(r.seconds,r.nanos)}(t))}function Op(t,e){return function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function yw(t){const e=Se.fromString(t);return Ce(ww(e)),e}function Lf(t,e){return Op(t.databaseId,e.path)}function ih(t,e){const n=yw(e);if(n.get(1)!==t.databaseId.projectId)throw new $(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(vw(n))}function Ff(t,e){return Op(t.databaseId,e)}function Tx(t){const e=yw(t);return e.length===4?Se.emptyPath():vw(e)}function $f(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vw(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ky(t,e,n){return{name:Lf(t,e),fields:n.value.mapValue.fields}}function Sx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string"),gt.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Uint8Array),gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?A.UNKNOWN:dw(u.code);return new $(c,u.message||"")}(s);n=new mw(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ih(t,r.document.name),o=Rn(r.document.updateTime),s=r.document.createTime?Rn(r.document.createTime):Z.min(),a=new qt({mapValue:{fields:r.document.fields}}),l=ct.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new vl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ih(t,r.document),o=r.readTime?Rn(r.readTime):Z.min(),s=ct.newNoDocument(i,o),a=r.removedTargetIds||[];n=new vl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ih(t,r.document),o=r.removedTargetIds||[];n=new vl([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new fx(i,o),a=r.targetId;n=new pw(a,s)}}return n}function Ix(t,e){let n;if(e instanceof ga)n={update:ky(t,e.key,e.value)};else if(e instanceof kp)n={delete:Lf(t,e.key)};else if(e instanceof ai)n={update:ky(t,e.key,e.data),updateMask:Vx(e.fieldMask)};else{if(!(e instanceof ux))return Q();n={verify:Lf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof qs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ru)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:wx(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function Cx(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Rn(i.updateTime):Rn(o);return s.isEqual(Z.min())&&(s=Rn(o)),new sx(s,i.transformResults||[])}(n,e))):[]}function Rx(t,e){return{documents:[Ff(t,e.path)]}}function Ax(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ff(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ff(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Ew(dn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:di(h.field),direction:kx(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Mf(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Px(t){let e=Tx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const f=_w(h);return f instanceof dn&&QE(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(v){return new ls(pi(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Qu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new nu(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new nu(p,f)}(n.endAt)),KP(e,i,s,o,a,"F",l,u)}function xx(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _w(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pi(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pi(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=pi(n.unaryFilter.field);return be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pi(n.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return be.create(pi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(r=>_w(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function kx(t){return yx[t]}function Dx(t){return vx[t]}function Nx(t){return _x[t]}function di(t){return{fieldPath:t.canonicalString()}}function pi(t){return ht.fromServerFormat(t.fieldPath)}function Ew(t){return t instanceof be?function(n){if(n.op==="=="){if(gy(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NAN"}};if(my(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gy(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NOT_NAN"}};if(my(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:di(n.field),op:Dx(n.op),value:n.value}}}(t):t instanceof dn?function(n){const r=n.getFilters().map(i=>Ew(i));return r.length===1?r[0]:{compositeFilter:{op:Nx(n.op),filters:r}}}(t):Q()}function Vx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ww(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r,i,o=Z.min(),s=Z.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.ct=e}}function Mx(t){const e=Px({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.sn=new Fx}addToCollectionParentIndex(e,n){return this.sn.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(Ir.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class Fx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new io(0)}static On(){return new io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cs(r.mutation,i,sn.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ko();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Kn();const s=us(),a=function(){return us()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ai)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),cs(c.mutation,u,c.mutation.getFieldMask(),He.now())):s.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new bx(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=us();let i=new De((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||sn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=iw();c.forEach(f=>{if(!o.has(f)){const p=hw(n.get(f),r.get(f));p!==null&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return D.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):D.resolve(zr());let a=-1,l=o;return s.next(u=>D.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?D.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,oe())).next(c=>({batchId:a,changes:rw(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Ko();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ko();return this.indexManager.getCollectionParents(e,i).next(s=>D.forEach(s,a=>{const l=function(c,h){return new ma(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{o=o.insert(c,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,ct.newInvalidDocument(u)))});let s=Ko();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&cs(u.mutation,l,sn.empty(),He.now()),Yu(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return D.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rn(i.createTime)}}(n)),D.resolve()}getNamedQuery(e,n){return D.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:Mx(i.bundledQuery),readTime:Rn(i.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.overlays=new De(B.comparator),this.cr=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zr();return D.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.cr.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=zr(),o=n.length+1,s=new B(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new De((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=zr(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=zr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return D.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hx(n,r));let o=this.cr.get(n);o===void 0&&(o=oe(),this.cr.set(n,o)),this.cr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.lr=new pt(qe.hr),this.Pr=new pt(qe.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new qe(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new qe(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new B(new Se([])),r=new qe(n,e),i=new qe(n,e+1),o=[];return this.Pr.forEachInRange([r,i],s=>{this.Er(s),o.push(s.key)}),o}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new B(new Se([])),r=new qe(n,e),i=new qe(n,e+1);let o=oe();return this.Pr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new qe(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qe{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return B.comparator(e.key,n.key)||fe(e.mr,n.mr)}static Ir(e,n){return fe(e.mr,n.mr)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new pt(qe.hr)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.pr=this.pr.add(new qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(s)}lookupMutationBatch(e,n){return D.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),o=i<0?0:i;return D.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),o=[];return this.pr.forEachInRange([r,i],s=>{const a=this.yr(s.mr);o.push(a)}),D.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(fe);return n.forEach(i=>{const o=new qe(i,0),s=new qe(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([o,s],a=>{r=r.add(a.mr)})}),D.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;B.isDocumentKey(o)||(o=o.child(""));const s=new qe(new B(o),0);let a=new pt(fe);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},s),D.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return D.forEach(n.mutations,i=>{const o=new qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new qe(n,0),i=this.pr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.Dr=e,this.docs=function(){return new De(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=Kn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ct.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Kn();const s=n.path,a=new B(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||kP(xP(c),r)<=0||(i.has(c.key)||Yu(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return D.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}vr(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wx(this)}getSize(e){return D.resolve(this.size)}}class Wx extends $x{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.persistence=e,this.Cr=new vo(n=>Rp(n),Ap),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Mp,this.targetCount=0,this.Or=io.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),D.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new io(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.Ln(n),D.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Cr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(o).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),D.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.Nr={},this.overlays={},this.Br=new Tp(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new qx(this),this.indexManager=new Lx,this.remoteDocumentCache=function(i){return new Hx(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new Ox(n),this.Qr=new jx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new Bx(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new Qx(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(o=>this.referenceDelegate.$r(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ur(e,n){return D.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class Qx extends NP{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Wr=new Mp,this.Gr=null}static zr(e){return new Lp(e)}get jr(){if(this.Gr)return this.Gr;throw Q()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),D.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.jr,r=>{const i=B.fromPath(r);return this.Hr(e,i).next(o=>{o||n.removeEntry(i,Z.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return D.or([()=>D.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=oe(),i=oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Fp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(o=>o||this.Ui(e,n,i,r)).next(o=>o||this.Wi(e,n))}$i(e,n){if(Ey(n))return D.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vf(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=oe(...o);return this.Ki.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,s,l.readTime)?this.$i(e,Vf(n,null,"F")):this.ji(e,u,n,l)}))})))}Ui(e,n,r,i){return Ey(n)||i.isEqual(Z.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(o=>{const s=this.Gi(n,o);return this.zi(n,s,r,i)?this.Wi(e,n):(cy()<=de.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Of(n)),this.ji(e,s,n,PP(i,-1)))})}Gi(e,n){let r=new pt(tw(e));return n.forEach((i,o)=>{Yu(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Wi(e,n){return cy()<=de.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Of(n)),this.Ki.getDocumentsMatchingQuery(e,n,Ir.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new De(fe),this.Yi=new vo(o=>Rp(o),Ap),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ux(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Xx(t,e,n,r){return new Yx(t,e,n,r)}async function Tw(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:s,addedBatchIds:a}))})})}function Jx(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=D.resolve();return f.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(_=>{const w=u.docVersions.get(v);Ce(w!==null),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sw(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function Zx(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.kr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.kr.addMatchingKeys(o,c.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(gt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(_,w,m){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,c)&&a.push(n.kr.updateTargetData(o,p))});let l=Kn(),u=oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(ek(o,s,e.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(Z.min())){const c=n.kr.getLastRemoteSnapshotVersion(o).next(h=>n.kr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return D.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function ek(t,e,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Kn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:s,rs:i}})}function tk(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nk(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(o=>o?(i=o,D.resolve(i)):n.kr.allocateTargetId(r).next(s=>(i=new ar(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function bf(t,e,n){const r=re(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pa(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Dy(t,e,n){const r=re(t);let i=Z.min(),o=oe();return r.persistence.runTransaction("Execute query","readonly",s=>function(l,u,c){const h=re(l),f=h.Yi.get(c);return f!==void 0?D.resolve(h.Ji.get(f)):h.kr.getTargetData(u,c)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:Z.min(),n?o:oe())).next(a=>(rk(r,QP(e),a),{documents:a,ss:o})))}function rk(t,e,n){let r=t.Zi.get(e)||Z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Zi.set(e,r)}class Ny{constructor(){this.activeTargetIds=ex()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ik{constructor(){this.Hs=new Ny,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new Ny,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el=null;function oh(){return el===null?el=function(){return 268435456+Math.round(2147483648*Math.random())}():el++,"0x"+el.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st="WebChannelConnection";class lk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http";this.To=r+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,r,i,o,s){const a=oh(),l=this.Vo(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={};return this.mo(u,o,s),this.fo(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw eo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}po(n,r,i,o,s,a){return this.Ro(n,r,i,o,s)}mo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Vo(n,r){const i=sk[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,n,r,i){const o=oh();return new Promise((s,a)=>{const l=new yP;l.setWithCredentials(!0),l.listenOnce(pP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rh.NO_ERROR:const c=l.getResponseJson();U(st,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case rh.TIMEOUT:U(st,`RPC '${e}' ${o} timed out`),a(new $(A.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const h=l.getStatus();if(U(st,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(m)>=0?m:A.UNKNOWN}(p.status);a(new $(v,p.message))}else a(new $(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(A.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(st,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);U(st,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}yo(e,n,r){const i=oh(),o=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fP(),a=dP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new gP({})),this.mo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");U(st,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let f=!1,p=!1;const v=new ak({so:w=>{p?U(st,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(U(st,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),U(st,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},oo:()=>h.close()}),_=(w,m,d)=>{w.listen(m,y=>{try{d(y)}catch(g){setTimeout(()=>{throw g},0)}})};return _(h,Ya.EventType.OPEN,()=>{p||U(st,`RPC '${e}' stream ${i} transport opened.`)}),_(h,Ya.EventType.CLOSE,()=>{p||(p=!0,U(st,`RPC '${e}' stream ${i} transport closed`),v.Po())}),_(h,Ya.EventType.ERROR,w=>{p||(p=!0,eo(st,`RPC '${e}' stream ${i} transport errored:`,w),v.Po(new $(A.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ya.EventType.MESSAGE,w=>{var m;if(!p){const d=w.data[0];Ce(!!d);const y=d,g=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(g){U(st,`RPC '${e}' stream ${i} received error:`,g);const R=g.status;let k=function(ie){const q=Me[ie];if(q!==void 0)return dw(q)}(R),V=g.message;k===void 0&&(k=A.INTERNAL,V="Unknown error status: "+R+" with message "+g.message),p=!0,v.Po(new $(k,V)),h.close()}else U(st,`RPC '${e}' stream ${i} received:`,d),v.Io(d)}}),_(a,mP.STAT_EVENT,w=>{w.stat===ly.PROXY?U(st,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===ly.NOPROXY&&U(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.ho()},0),v}}function sh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){return new Ex(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.wo=r,this.So=i,this.bo=o,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,i,o,s,a,l){this.ii=e,this.No=r,this.Bo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new Iw(e,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,e!==4?this.Qo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Lo===n&&this.Xo(r,i)},r=>{e(()=>{const i=new $(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.e_(i)})})}Xo(e,n){const r=this.Zo(this.Lo);this.stream=this.t_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.e_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return n=>{this.ii.enqueueAndForget(()=>this.Lo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uk extends Cw{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}t_(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.Qo.reset();const n=Sx(this.serializer,e),r=function(o){if(!("targetChange"in o))return Z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?Rn(s.readTime):Z.min()}(e);return this.listener.n_(n,r)}r_(e){const n={};n.database=$f(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Df(l)?{documents:Rx(o,l)}:{query:Ax(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gw(o,s.resumeToken);const u=Mf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=iu(o,s.snapshotVersion.toTimestamp());const u=Mf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=xx(this.serializer,e);r&&(n.labels=r),this.jo(n)}i_(e){const n={};n.database=$f(this.serializer),n.removeTarget=e,this.jo(n)}}class ck extends Cw{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const n=Cx(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.a_(r,n)}return Ce(!e.writeResults||e.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=$f(this.serializer),this.jo(e)}__(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ix(this.serializer,r))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.l_=!1}h_(){if(this.l_)throw new $(A.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Ro(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(A.UNKNOWN,i.toString())})}po(e,n,r,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.po(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(A.UNKNOWN,o.toString())})}terminate(){this.l_=!0}}class fk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,e==="Online"&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(Wn(n),this.E_=!1):U("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=o,this.w_.Ys(s=>{r.enqueueAndForget(async()=>{li(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=re(l);u.p_.add(4),await va(u),u.S_.set("Unknown"),u.p_.delete(4),await tc(u)}(this))})}),this.S_=new fk(r,i)}}async function tc(t){if(li(t))for(const e of t.y_)await e(!0)}async function va(t){for(const e of t.y_)await e(!1)}function Rw(t,e){const n=re(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),Up(n)?bp(n):_o(n).$o()&&$p(n,e))}function Aw(t,e){const n=re(t),r=_o(n);n.g_.delete(e),r.$o()&&Pw(n,e),n.g_.size===0&&(r.$o()?r.Go():li(n)&&n.S_.set("Unknown"))}function $p(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(t).r_(e)}function Pw(t,e){t.b_.Be(e),_o(t).i_(e)}function bp(t){t.b_=new gx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),_o(t).start(),t.S_.d_()}function Up(t){return li(t)&&!_o(t).Ko()&&t.g_.size>0}function li(t){return re(t).p_.size===0}function xw(t){t.b_=void 0}async function pk(t){t.g_.forEach((e,n)=>{$p(t,e)})}async function mk(t,e){xw(t),Up(t)?(t.S_.V_(e),bp(t)):t.S_.set("Unknown")}async function gk(t,e,n){if(t.S_.set("Online"),e instanceof mw&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.g_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.g_.delete(a),i.b_.removeTarget(a))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ou(t,r)}else if(e instanceof vl?t.b_.We(e):e instanceof pw?t.b_.Ze(e):t.b_.je(e),!n.isEqual(Z.min()))try{const r=await Sw(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.b_.st(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.g_.get(u);c&&o.g_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.g_.get(l);if(!c)return;o.g_.set(l,c.withResumeToken(gt.EMPTY_BYTE_STRING,c.snapshotVersion)),Pw(o,l);const h=new ar(c.target,l,u,c.sequenceNumber);$p(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await ou(t,r)}}async function ou(t,e,n){if(!pa(e))throw e;t.p_.add(1),await va(t),t.S_.set("Offline"),n||(n=()=>Sw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await tc(t)})}function kw(t,e){return e().catch(n=>ou(t,n,e))}async function nc(t){const e=re(t),n=Rr(e);let r=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;yk(e);)try{const i=await tk(e.localStore,r);if(i===null){e.f_.length===0&&n.Go();break}r=i.batchId,vk(e,i)}catch(i){await ou(e,i)}Dw(e)&&Nw(e)}function yk(t){return li(t)&&t.f_.length<10}function vk(t,e){t.f_.push(e);const n=Rr(t);n.$o()&&n.o_&&n.__(e.mutations)}function Dw(t){return li(t)&&!Rr(t).Ko()&&t.f_.length>0}function Nw(t){Rr(t).start()}async function _k(t){Rr(t).c_()}async function Ek(t){const e=Rr(t);for(const n of t.f_)e.__(n.mutations)}async function wk(t,e,n){const r=t.f_.shift(),i=Dp.from(r,e,n);await kw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nc(t)}async function Tk(t,e){e&&Rr(t).o_&&await async function(r,i){if(function(s){return dx(s)&&s!==A.ABORTED}(i.code)){const o=r.f_.shift();Rr(r).Wo(),await kw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await nc(r)}}(t,e),Dw(t)&&Nw(t)}async function Oy(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=li(n);n.p_.add(3),await va(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await tc(n)}async function Sk(t,e){const n=re(t);e?(n.p_.delete(2),await tc(n)):e||(n.p_.add(2),await va(n),n.S_.set("Unknown"))}function _o(t){return t.D_||(t.D_=function(n,r,i){const o=re(n);return o.h_(),new uk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:pk.bind(null,t),uo:mk.bind(null,t),n_:gk.bind(null,t)}),t.y_.push(async e=>{e?(t.D_.Wo(),Up(t)?bp(t):t.S_.set("Unknown")):(await t.D_.stop(),xw(t))})),t.D_}function Rr(t){return t.v_||(t.v_=function(n,r,i){const o=re(n);return o.h_(),new ck(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:_k.bind(null,t),uo:Tk.bind(null,t),u_:Ek.bind(null,t),a_:wk.bind(null,t)}),t.y_.push(async e=>{e?(t.v_.Wo(),await nc(t)):(await t.v_.stop(),t.f_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new jp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),pa(t))return new $(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Ko(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new Bi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.C_=new De(B.comparator)}track(e){const n=e.doc.key,r=this.C_.get(n);r?e.type!==0&&r.type===3?this.C_=this.C_.insert(n,e):e.type===3&&r.type!==1?this.C_=this.C_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.C_=this.C_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.C_=this.C_.remove(n):e.type===1&&r.type===2?this.C_=this.C_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):Q():this.C_=this.C_.insert(n,e)}F_(){const e=[];return this.C_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new oo(e,n,Bi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.M_=void 0,this.listeners=[]}}class Ck{constructor(){this.queries=new vo(e=>ew(e),Gu),this.onlineState="Unknown",this.x_=new Set}}async function Vw(t,e){const n=re(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Ik),i)try{o.M_=await n.onListen(r)}catch(s){const a=zp(s,`Initialization of query '${Of(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.O_(n.onlineState),o.M_&&e.N_(o.M_)&&Bp(n)}async function Ow(t,e){const n=re(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Rk(t,e){const n=re(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.N_(i)&&(r=!0);s.M_=i}}r&&Bp(n)}function Ak(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Bp(t){t.x_.forEach(e=>{e.next()})}class Mw{constructor(e,n,r){this.query=e,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}N_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.L_?this.q_(e)&&(this.B_.next(e),n=!0):this.Q_(e,this.onlineState)&&(this.K_(e),n=!0),this.k_=e,n}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),n=!0),n}Q_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.U_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}q_(e){if(e.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.key=e}}class Fw{constructor(e){this.key=e}}class Pk{constructor(e,n){this.query=e,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=oe(),this.mutatedKeys=oe(),this.ta=tw(e),this.na=new Bi(this.ta)}get ra(){return this.Z_}ia(e,n){const r=n?n.sa:new My,i=n?n.na:this.na;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Yu(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?v!==_&&(r.track({type:3,doc:p}),w=!0):this.oa(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ta(p,l)>0||u&&this.ta(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(s=s.add(p),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{na:s,sa:r,zi:a,mutatedKeys:o}}oa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const o=e.sa.F_();o.sort((u,c)=>function(f,p){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return v(f)-v(p)}(u.type,c.type)||this.ta(u.doc,c.doc)),this._a(r);const s=n?this.aa():[],a=this.ea.size===0&&this.current?1:0,l=a!==this.X_;return this.X_=a,o.length!==0||l?{snapshot:new oo(this.query,e.na,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ua:s}:{ua:s}}O_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new My,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=oe(),this.na.forEach(r=>{this.ca(r.key)&&(this.ea=this.ea.add(r.key))});const n=[];return e.forEach(r=>{this.ea.has(r)||n.push(new Fw(r))}),this.ea.forEach(r=>{e.has(r)||n.push(new Lw(r))}),n}la(e){this.Z_=e.ss,this.ea=oe();const n=this.ia(e.documents);return this.applyChanges(n,!0)}ha(){return oo.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class xk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kk{constructor(e){this.key=e,this.Pa=!1}}class Dk{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ia={},this.Ta=new vo(a=>ew(a),Gu),this.Ea=new Map,this.da=new Set,this.Aa=new De(B.comparator),this.Ra=new Map,this.Va=new Mp,this.ma={},this.fa=new Map,this.ga=io.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function Nk(t,e){const n=zk(t);let r,i;const o=n.Ta.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ha();else{const s=await nk(n.localStore,qn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await Vk(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&Rw(n.remoteStore,s)}return i}async function Vk(t,e,n,r,i){t.ya=(h,f,p)=>async function(_,w,m,d){let y=w.view.ia(m);y.zi&&(y=await Dy(_.localStore,w.query,!1).then(({documents:k})=>w.view.ia(k,y)));const g=d&&d.targetChanges.get(w.targetId),R=w.view.applyChanges(y,_.isPrimaryClient,g);return Fy(_,w.targetId,R.ua),R.snapshot}(t,h,f,p);const o=await Dy(t.localStore,e,!0),s=new Pk(e,o.ss),a=s.ia(o.documents),l=ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);Fy(t,n,u.ua);const c=new xk(e,n,s);return t.Ta.set(e,c),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),u.snapshot}async function Ok(t,e){const n=re(t),r=n.Ta.get(e),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter(o=>!Gu(o,e))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Aw(n.remoteStore,r.targetId),Uf(n,r.targetId)}).catch(da)):(Uf(n,r.targetId),await bf(n.localStore,r.targetId,!0))}async function Mk(t,e,n){const r=Bk(t);try{const i=await function(s,a){const l=re(s),u=He.now(),c=a.reduce((p,v)=>p.add(v.key),oe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Kn(),_=oe();return l.Xi.getEntries(p,c).next(w=>{v=w,v.forEach((m,d)=>{d.isValidDocument()||(_=_.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(w=>{h=w;const m=[];for(const d of a){const y=lx(d,h.get(d.key).overlayedDocument);y!=null&&m.push(new ai(d.key,y,WE(y.value.mapValue),un.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(w=>{f=w;const m=w.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,m)})}).then(()=>({batchId:f.batchId,changes:rw(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.ma[s.currentUser.toKey()];u||(u=new De(fe)),u=u.insert(a,l),s.ma[s.currentUser.toKey()]=u}(r,i.batchId,n),await _a(r,i.changes),await nc(r.remoteStore)}catch(i){const o=zp(i,"Failed to persist write");n.reject(o)}}async function $w(t,e){const n=re(t);try{const r=await Zx(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ra.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Pa=!0:i.modifiedDocuments.size>0?Ce(s.Pa):i.removedDocuments.size>0&&(Ce(s.Pa),s.Pa=!1))}),await _a(n,r,e)}catch(r){await da(r)}}function Ly(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ta.forEach((o,s)=>{const a=s.view.O_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=re(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.O_(a)&&(u=!0)}),u&&Bp(l)}(r.eventManager,e),i.length&&r.Ia.n_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lk(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ra.get(e),o=i&&i.key;if(o){let s=new De(B.comparator);s=s.insert(o,ct.newNoDocument(o,Z.min()));const a=oe().add(o),l=new Zu(Z.min(),new Map,new De(fe),s,a);await $w(r,l),r.Aa=r.Aa.remove(o),r.Ra.delete(e),Hp(r)}else await bf(r.localStore,e,!1).then(()=>Uf(r,e,n)).catch(da)}async function Fk(t,e){const n=re(t),r=e.batch.batchId;try{const i=await Jx(n.localStore,e);Uw(n,r,null),bw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _a(n,i)}catch(i){await da(i)}}async function $k(t,e,n){const r=re(t);try{const i=await function(s,a){const l=re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ce(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Uw(r,e,n),bw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _a(r,i)}catch(i){await da(i)}}function bw(t,e){(t.fa.get(e)||[]).forEach(n=>{n.resolve()}),t.fa.delete(e)}function Uw(t,e,n){const r=re(t);let i=r.ma[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.ma[r.currentUser.toKey()]=i}}function Uf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ea.get(e))t.Ta.delete(r),n&&t.Ia.wa(r,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach(r=>{t.Va.containsKey(r)||jw(t,r)})}function jw(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);n!==null&&(Aw(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),Hp(t))}function Fy(t,e,n){for(const r of n)r instanceof Lw?(t.Va.addReference(r.key,e),bk(t,r)):r instanceof Fw?(U("SyncEngine","Document no longer in limbo: "+r.key),t.Va.removeReference(r.key,e),t.Va.containsKey(r.key)||jw(t,r.key)):Q()}function bk(t,e){const n=e.key,r=n.path.canonicalString();t.Aa.get(n)||t.da.has(r)||(U("SyncEngine","New document in limbo: "+n),t.da.add(r),Hp(t))}function Hp(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new B(Se.fromString(e)),r=t.ga.next();t.Ra.set(r,new kk(n)),t.Aa=t.Aa.insert(n,r),Rw(t.remoteStore,new ar(qn(Pp(n.path)),r,"TargetPurposeLimboResolution",Tp.ae))}}async function _a(t,e,n){const r=re(t),i=[],o=[],s=[];r.Ta.isEmpty()||(r.Ta.forEach((a,l)=>{s.push(r.ya(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Fp.qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Ia.n_(i),await async function(l,u){const c=re(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>D.forEach(u,f=>D.forEach(f.Li,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>D.forEach(f.ki,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!pa(h))throw h;U("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.Ji.get(f),v=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(v);c.Ji=c.Ji.insert(f,_)}}}(r.localStore,o))}async function Uk(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await Tw(n.localStore,e);n.currentUser=e,function(o,s){o.fa.forEach(a=>{a.forEach(l=>{l.reject(new $(A.CANCELLED,s))})}),o.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _a(n,r.ts)}}function jk(t,e){const n=re(t),r=n.Ra.get(e);if(r&&r.Pa)return oe().add(r.key);{let i=oe();const o=n.Ea.get(e);if(!o)return i;for(const s of o){const a=n.Ta.get(s);i=i.unionWith(a.view.ra)}return i}}function zk(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lk.bind(null,e),e.Ia.n_=Rk.bind(null,e.eventManager),e.Ia.wa=Ak.bind(null,e.eventManager),e}function Bk(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$k.bind(null,e),e}class $y{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ec(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Xx(this.persistence,new Gx,e.initialUser,this.serializer)}createPersistence(e){return new Kx(Lp.zr,this.serializer)}createSharedClientState(e){return new ik}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Hk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ly(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uk.bind(null,this.syncEngine),await Sk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ck}()}createDatastore(e){const n=ec(e.databaseInfo.databaseId),r=function(o){return new lk(o)}(e.databaseInfo);return function(o,s,a,l){return new hk(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new dk(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ly(this.syncEngine,n,0),function(){return Vy.v()?new Vy:new ok}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new Dk(i,o,s,a,l,u);return c&&(h.pa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=re(n);U("RemoteStore","RemoteStore shutting down."),r.p_.add(5),await va(r),r.w_.shutdown(),r.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=zE.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{U("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ah(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Tw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function by(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kk(t);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Oy(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Oy(e.remoteStore,o)),t._onlineComponents=e}function qk(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Kk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await ah(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!qk(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await ah(t,new $y)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await ah(t,new $y);return t._offlineComponents}async function Bw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await by(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await by(t,new Hk))),t._onlineComponents}function Qk(t){return Bw(t).then(e=>e.syncEngine)}async function Hw(t){const e=await Bw(t),n=e.eventManager;return n.onListen=Nk.bind(null,e.syncEngine),n.onUnlisten=Ok.bind(null,e.syncEngine),n}function Gk(t,e,n={}){const r=new $n;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new zw({next:f=>{s.enqueueAndForget(()=>Ow(o,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new $(A.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new $(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Mw(Pp(a.path),c,{includeMetadataChanges:!0,U_:!0});return Vw(o,h)}(await Hw(t),t.asyncQueue,e,n,r)),r.promise}function Yk(t,e,n={}){const r=new $n;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new zw({next:f=>{s.enqueueAndForget(()=>Ow(o,h)),f.fromCache&&l.source==="server"?u.reject(new $(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Mw(a,c,{includeMetadataChanges:!0,U_:!0});return Vw(o,h)}(await Hw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e,n){if(!n)throw new $(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xk(t,e,n,r){if(e===!0&&r===!0)throw new $(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jy(t){if(!B.isDocumentKey(t))throw new $(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zy(t){if(B.isDocumentKey(t))throw new $(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rc(t);throw new $(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ww((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ic{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new By({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new By(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _P;switch(r.type){case"firstParty":return new SP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Uy.get(n);r&&(U("ComponentProvider","Removing Datastore"),Uy.delete(n),r.terminate())}(this),Promise.resolve()}}function Jk(t,e,n,r={}){var i;const o=(t=Qn(t,ic))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=lt.MOCK_USER;else{a=YC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new lt(u)}t._authCredentials=new EP(new jE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}}class _r extends Eo{constructor(e,n,r){super(e,n,Pp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new B(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function Zk(t,e,...n){if(t=Ji(t),qw("collection","path",e),t instanceof ic){const r=Se.fromString(e,...n);return zy(r),new _r(t,null,r)}{if(!(t instanceof xt||t instanceof _r))throw new $(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return zy(r),new _r(t.firestore,null,r)}}function oc(t,e,...n){if(t=Ji(t),arguments.length===1&&(e=zE.V()),qw("doc","path",e),t instanceof ic){const r=Se.fromString(e,...n);return jy(r),new xt(t,null,new B(r))}{if(!(t instanceof xt||t instanceof _r))throw new $(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return jy(r),new xt(t.firestore,t instanceof _r?t.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new Iw(this,"async_queue_retry"),this.Za=()=>{const n=sh();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const e=sh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const n=sh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new $n;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!pa(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(e){const n=this.Ua.then(()=>(this.Ha=!0,e().catch(r=>{this.ja=r,this.Ha=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ha=!1,r))));return this.Ua=n,n}enqueueAfterDelay(e,n,r){this.Xa(),this.Ya.indexOf(e)>-1&&(n=0);const i=jp.createAndSchedule(this,e,n,r,o=>this.nu(o));return this.za.push(i),i}Xa(){this.ja&&Q()}verifyOperationInProgress(){}async ru(){let e;do e=this.Ua,await e;while(e!==this.Ua)}iu(e){for(const n of this.za)if(n.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.za)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const n=this.za.indexOf(e);this.za.splice(n,1)}}class wo extends ic{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new eD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kw(this),this._firestoreClient.terminate()}}function tD(t,e){const n=typeof t=="object"?t:eA(),r=typeof t=="string"?t:e||"(default)",i=YR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=QC("firestore");o&&Jk(i,...o)}return i}function Wp(t){return t._firestoreClient||Kw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Kw(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new MP(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Ww(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Wk(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(gt.fromBase64String(e))}catch(n){throw new $(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^__.*__$/;class rD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new ga(e,this.data,n,this.fieldTransforms)}}function Qw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Gp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._u(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new Gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i.hu(e),i}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i._u(),i}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return su(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(e.length===0)throw this.Tu("Document fields must not be empty");if(Qw(this.au)&&nD.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class iD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ec(e)}Au(e,n,r,i=!1){return new Gp({au:e,methodName:n,du:r,path:ht.emptyPath(),lu:!1,Eu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(t){const e=t._freezeSettings(),n=ec(t._databaseId);return new iD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gw(t,e,n,r,i,o={}){const s=t.Au(o.merge||o.mergeFields?2:0,e,n,i);Jw("Data must be an object, but it was:",s,r);const a=Yw(r,s);let l,u;if(o.merge)l=new sn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const f=sD(e,h,n);if(!s.contains(f))throw new $(A.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);lD(c,f)||c.push(f)}l=new sn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new rD(new qt(a),l,u)}class Xp extends Kp{_toFieldTransform(e){return new ix(e.path,new qs)}isEqual(e){return e instanceof Xp}}function oD(t,e,n,r=!1){return Jp(n,t.Au(r?4:3,e))}function Jp(t,e){if(Xw(t=Ji(t)))return Jw("Unsupported field value:",e,t),Yw(t,e);if(t instanceof Kp)return function(r,i){if(!Qw(i.au))throw i.Tu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&e.au!==4)throw e.Tu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Jp(a,i.Iu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ji(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=He.fromDate(r);return{timestampValue:iu(i.serializer,o)}}if(r instanceof He){const o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:iu(i.serializer,o)}}if(r instanceof Qp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:gw(i.serializer,r._byteString)};if(r instanceof xt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Op(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Tu(`Unsupported field value: ${rc(r)}`)}(t,e)}function Yw(t,e){const n={};return BE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,i)=>{const o=Jp(i,e.cu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Xw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Qp||t instanceof so||t instanceof xt||t instanceof Kp)}function Jw(t,e,n){if(!Xw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rc(n);throw r==="an object"?e.Tu(t+" a custom object"):e.Tu(t+" "+r)}}function sD(t,e,n){if((e=Ji(e))instanceof qp)return e._internalPath;if(typeof e=="string")return Zw(t,e);throw su("Field path arguments must be of type string or ",t,!1,void 0,n)}const aD=new RegExp("[~\\*/\\[\\]]");function Zw(t,e,n){if(e.search(aD)>=0)throw su(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qp(...e.split("."))._internalPath}catch{throw su(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function su(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new $(A.INVALID_ARGUMENT,a+t+l)}function lD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uD extends e1{data(){return super.data()}}function Zp(t,e){return typeof e=="string"?Zw(t,e):e instanceof qp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}class hD extends em{}function fD(t,e,...n){let r=[];e instanceof em&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof tm).length,a=o.filter(l=>l instanceof sc).length;if(s>1||s>0&&a>0)throw new $(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sc extends hD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sc(e,n,r)}_apply(e){const n=this._parse(e);return t1(e._query,n),new Eo(e.firestore,e.converter,Nf(e._query,n))}_parse(e){const n=Yp(e.firestore);return function(o,s,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Wy(h,c);const p=[];for(const v of h)p.push(Hy(l,o,v));f={arrayValue:{values:p}}}else f=Hy(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Wy(h,c),f=oD(a,s,h,c==="in"||c==="not-in");return be.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dD(t,e,n){const r=e,i=Zp("where",t);return sc._create(i,r,n)}class tm extends em{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)t1(s,l),s=Nf(s,l)}(e._query,n),new Eo(e.firestore,e.converter,Nf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hy(t,e,n){if(typeof(n=Ji(n))=="string"){if(n==="")throw new $(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZE(e)&&n.indexOf("/")!==-1)throw new $(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!B.isDocumentKey(r))throw new $(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return py(t,new B(r))}if(n instanceof xt)return py(t,n._key);throw new $(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rc(n)}.`)}function Wy(t,e){if(!Array.isArray(t)||t.length===0)throw new $(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t1(t,e){if(e.isInequality()){const r=xp(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new $(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=JE(t);o!==null&&pD(t,i,o)}const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pD(t,e,n){if(!n.isEqual(e))throw new $(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class mD{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Qp(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ip(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bs(e));default:return null}}convertTimestamp(e){const n=Cr(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);Ce(ww(r));const i=new Hs(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r1 extends e1{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _l extends r1{data(e={}){return super.data(e)}}class gD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _l(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new _l(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Go(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new _l(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Go(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:yD(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){t=Qn(t,xt);const e=Qn(t.firestore,wo);return Gk(Wp(e),t._key).then(n=>SD(e,t,n))}class i1 extends mD{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function _D(t){t=Qn(t,Eo);const e=Qn(t.firestore,wo),n=Wp(e),r=new i1(e);return cD(t._query),Yk(n,t._query).then(i=>new gD(e,r,t,i))}function ED(t,e,n){t=Qn(t,xt);const r=Qn(t.firestore,wo),i=n1(t.converter,e,n);return nm(r,[Gw(Yp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,un.none())])}function wD(t){return nm(Qn(t.firestore,wo),[new kp(t._key,un.none())])}function TD(t,e){const n=Qn(t.firestore,wo),r=oc(t),i=n1(t.converter,e);return nm(n,[Gw(Yp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then(()=>r)}function nm(t,e){return function(r,i){const o=new $n;return r.asyncQueue.enqueueAndForget(async()=>Mk(await Qk(r),i,o)),o.promise}(Wp(t),e)}function SD(t,e,n){const r=n.docs.get(e._key),i=new i1(t);return new r1(t,i,e._key,r,new Go(n.hasPendingWrites,n.fromCache),e.converter)}function jf(){return new Xp("serverTimestamp")}(function(e,n=!0){(function(i){go=i})(ZR),Kl(new Ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new wo(new wP(r.getProvider("auth-internal")),new CP(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hs(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bi(uy,"4.0.0",e),bi(uy,"4.0.0","esm2017")})();const ID={apiKey:"AIzaSyBmBIk0-qSvkGSUSAs46Uxsw4mRtbrxinI",authDomain:"mario-off.firebaseapp.com",projectId:"mario-off",storageBucket:"mario-off.appspot.com",messagingSenderId:"940790753598",appId:"1:940790753598:web:f1a676270a7d4256c9a46f"},CD=L0(ID),ac=tD(CD),o1=Zk(ac,"competitions");async function RD(t){const e={email:"1@mario.com",password:"p123"};if(t.email!=e.email||t.password!=e.password)throw{message:"Wrong email or password",statusText:"Error",status:401};return{userId:"zain"}}async function AD(t){const e=await fD(o1,dD("players","array-contains",t));return(await _D(e)).docs.map(i=>({...i.data(),id:i.id}))}async function PD(t){const e=oc(ac,"competitions",t),n=await vD(e);if(n.data())return{...n.data(),id:n.id};throw{message:"Competition not found",statusText:"Error",status:404}}async function xD(t){const e={...t,creationDate:jf(),updatedDate:jf(),description:"",rules:[],status:"ongoing",currentScore:[0,0],winner:"",rounds:[]};return(await TD(o1,e)).id}async function kD(t){const e=oc(ac,"competitions",t);await wD(e)}async function DD(t){console.log(t);const e=oc(ac,"competitions",t.id);await ED(e,{name:t.name,image:t.image,status:t.status,description:t.description,updatedDate:jf()},{merge:!0})}function ND({request:t}){return new URL(t.url).searchParams.get("message")}async function VD({request:t}){const e=await t.formData(),n=e.get("email"),r=e.get("password"),i=new URL(t.url).searchParams.get("redirectTo")||"/competitions";try{const o=await RD({email:n,password:r});return localStorage.setItem("loggedIn",!0),localStorage.setItem("userID",o.userId),zd(i)}catch(o){return o.message}}function OD(){const t=Gd(),e=Du(),n=Qd();return C.jsxs("div",{className:"p-2",children:[C.jsx("h1",{className:"font-bold text-center text-2xl",children:"Sign in to your account"}),e&&C.jsx("h3",{className:"font-bold text-center text-xl text-red-600",children:e}),t&&C.jsx("h3",{className:"font-bold text-center text-lg text-red-600",children:t}),C.jsxs(Xd,{method:"post",className:"flex flex-col items-center m-5",replace:!0,children:[C.jsx("input",{name:"email",type:"email",placeholder:"Email address",className:"border-2 rounded p-1 m-2"}),C.jsx("input",{name:"password",type:"password",placeholder:"Password",className:"border-2 rounded p-1 m-2"}),C.jsx("button",{disabled:n.state==="submitting",className:`${n.state==="submitting"?"bg-gray-200":"bg-blue-500"} text-white drop-shadow-xl rounded py-1 px-2 m-2 w-1/2`,children:n.state==="submitting"?"Logging in...":"Log in"})]})]})}async function Hi(t){const e=new URL(t.url).pathname;if(!localStorage.getItem("loggedIn"))throw zd(`/login?message=You must log in first.&redirectTo=${e}`);return null}function s1(t){return C.jsxs("p",{className:"capitalize",children:[t.players[0]," ",t.currentScore[0]," - ",t.currentScore[1]," ",t.players[1]]})}function a1(t){const e=t.status=="complete"?"bg-green-400":t.status=="ongoing"?"bg-orange-400":"bg-red-500";return C.jsxs("div",{className:"flex flex-col items-center font text-lg w-36 h-60 drop-shadow-md bg-slate-300 rounded-lg",children:[C.jsx("p",{className:`w-full max-h-8 rounded-lg text-center capitalize ${e}`,children:t.status}),C.jsx("div",{className:"flex-grow flex flex-wrap place-content-center m-1",children:C.jsx("img",{src:t.image,alt:t.name,className:"max-h-44 w-auto h-fit"})}),C.jsx(s1,{players:t.players,currentScore:t.currentScore})]})}async function MD({request:t}){return await Hi(t),await AD(localStorage.getItem("userID"))}function LD(){let e=Du().sort((n,r)=>r.updatedDate-n.updatedDate).map(n=>C.jsx(lf,{to:n.id,children:C.jsx(a1,{status:n.status,image:n.image,name:n.name,players:n.players,currentScore:n.currentScore})},n.id));return C.jsxs("div",{className:"flex flex-col h-full overflow-y-auto no-scrollbar p-1",children:[C.jsx("div",{className:"grid grid-cols-2 w-full gap-5 scroll-auto",children:e}),C.jsx("div",{className:`flex pt-1 ${e?"justify-end mt-auto absolute bottom-4 right-4":"place-content-center"}`,children:C.jsx(lf,{to:"../competition-creation",className:"flex items-center",children:C.jsx("button",{className:`rounded-full bg-teal-500 drop-shadow-md text-white mb-2 place-content-center flex ${e?"text-3xl w-10 h-10":"text-lg p-2"}`,children:e?"+":"Create Competition"})})})]})}function fi(){const t=R0();return C.jsxs(C.Fragment,{children:[C.jsxs("h1",{children:["Error: ",t.message]}),C.jsxs("pre",{children:[t.status," - ",t.statusText]})]})}async function FD({params:t,request:e}){return await Hi(e),PD(t.id)}function $D(){const t=Du(),e={textDecoration:"underline",fontWeight:"500"};return C.jsxs("div",{className:"flex flex-col w-full h-full",children:[C.jsx("h1",{className:"font-bold text-xl text-center",children:t.name}),C.jsxs("div",{className:"flex flex-col bg-gray-100 flex-grow",children:[C.jsxs("div",{className:"w-full flex justify-evenly border-b-2 border-b-gray-300",children:[C.jsx($i,{to:".",style:({isActive:n})=>n?e:null,end:!0,children:"Info"}),C.jsx($i,{to:"rules",style:({isActive:n})=>n?e:null,children:"Rules"}),C.jsx($i,{to:"rounds",style:({isActive:n})=>n?e:null,children:"Rounds"})]}),C.jsx("div",{className:"flex-grow px-2 pt-2",children:C.jsx(A0,{context:{currCompetition:t}})})]})]})}async function bD({request:t}){return await Hi(t),null}async function UD({request:t}){const e=await t.formData(),n=e.get("name"),r=e.get("image"),i=[localStorage.getItem("userID"),e.get("player2")];try{const o=await xD({name:n,image:r,players:i});return zd(`../competitions/${o}`)}catch(o){return o.message}}function jD(){const t=Gd(),e=Qd(),[n,r]=ds.useState({name:"",image:"",player1:localStorage.getItem("userID"),player2:""});function i(o){const{name:s,value:a}=o.target;r(l=>({...l,[s]:a}))}return C.jsxs("div",{className:"flex flex-col items-center",children:[t&&C.jsx("h3",{className:"font-bold text-center text-lg text-red-600",children:t}),C.jsx("h3",{className:"font-bold text-center text-lg",children:"Preview"}),C.jsx(a1,{status:"ongoing",image:n.image,name:n.name,players:[n.player1,n.player2],currentScore:[0,0]}),C.jsxs(Xd,{method:"post",className:"flex flex-col items-center w-full p-5 ",replace:!0,children:[C.jsx("input",{type:"text",name:"name",placeholder:"Competition Name",value:n.name,onChange:i,className:"border-2 rounded p-1 m-2 w-5/6 text-center"}),C.jsx("input",{type:"url",name:"image",placeholder:"Thumbnail picture",value:n.image,onChange:i,className:"border-2 rounded p-1 m-2 w-5/6 text-center"}),C.jsx("input",{type:"text",name:"player2",placeholder:"Other player",value:n.player2,onChange:i,className:"border-2 rounded p-1 m-2 w-5/6 text-center"}),C.jsx("button",{disabled:e.state==="submitting",className:`${e.state==="submitting"?"bg-gray-200":"bg-blue-500"} text-white drop-shadow-xl rounded py-1 px-2 m-2 w-1/2`,children:e.state==="submitting"?"Creating...":"Create"})]})]})}var zf={exports:{}},ri={},l1={exports:{}},zD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BD=zD,HD=BD;function u1(){}function c1(){}c1.resetWarningCache=u1;var WD=function(){function t(r,i,o,s,a,l){if(l!==HD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:c1,resetWarningCache:u1};return n.PropTypes=n,n};l1.exports=WD();var h1=l1.exports,Bf={exports:{}},pn={},Hf={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function o(h,f){return f.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function s(h){var f=h.offsetWidth<=0&&h.offsetHeight<=0;if(f&&!h.innerHTML)return!0;try{var p=window.getComputedStyle(h),v=p.getPropertyValue("display");return f?v!==r&&o(h,p):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(h){for(var f=h,p=h.getRootNode&&h.getRootNode();f&&f!==document.body;){if(p&&f===p&&(f=p.host.parentNode),s(f))return!1;f=f.parentNode}return!0}function l(h,f){var p=h.nodeName.toLowerCase(),v=i.test(p)&&!h.disabled||p==="a"&&h.href||f;return v&&a(h)}function u(h){var f=h.getAttribute("tabindex");f===null&&(f=void 0);var p=isNaN(f);return(p||f>=0)&&l(h,!p)}function c(h){var f=[].slice.call(h.querySelectorAll("*"),0).reduce(function(p,v){return p.concat(v.shadowRoot?c(v.shadowRoot):[v])},[]);return f.filter(u)}t.exports=e.default})(Hf,Hf.exports);var f1=Hf.exports;Object.defineProperty(pn,"__esModule",{value:!0});pn.resetState=GD;pn.log=YD;pn.handleBlur=Gs;pn.handleFocus=Ys;pn.markForFocusLater=XD;pn.returnFocus=JD;pn.popWithoutFocus=ZD;pn.setupScopedFocus=e2;pn.teardownScopedFocus=t2;var qD=f1,KD=QD(qD);function QD(t){return t&&t.__esModule?t:{default:t}}var ao=[],ki=null,Wf=!1;function GD(){ao=[]}function YD(){}function Gs(){Wf=!0}function Ys(){if(Wf){if(Wf=!1,!ki)return;setTimeout(function(){if(!ki.contains(document.activeElement)){var t=(0,KD.default)(ki)[0]||ki;t.focus()}},0)}}function XD(){ao.push(document.activeElement)}function JD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{ao.length!==0&&(e=ao.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function ZD(){ao.length>0&&ao.pop()}function e2(t){ki=t,window.addEventListener?(window.addEventListener("blur",Gs,!1),document.addEventListener("focus",Ys,!0)):(window.attachEvent("onBlur",Gs),document.attachEvent("onFocus",Ys))}function t2(){ki=null,window.addEventListener?(window.removeEventListener("blur",Gs),document.removeEventListener("focus",Ys)):(window.detachEvent("onBlur",Gs),document.detachEvent("onFocus",Ys))}var qf={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=f1,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?o(a.activeElement.shadowRoot):a.activeElement}function s(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var c=void 0,h=l.shiftKey,f=u[0],p=u[u.length-1],v=o();if(a===v){if(!h)return;c=p}if(p===v&&!h&&(c=f),f===v&&h&&(c=p),c){l.preventDefault(),c.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var m=u.indexOf(v);if(m>-1&&(m+=h?-1:1),c=u[m],typeof c>"u"){l.preventDefault(),c=h?p:f,c.focus();return}l.preventDefault(),c.focus()}}t.exports=e.default})(qf,qf.exports);var n2=qf.exports,mn={},r2=function(){},i2=r2,cn={},d1={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(d1);var o2=d1.exports;Object.defineProperty(cn,"__esModule",{value:!0});cn.canUseDOM=cn.SafeNodeList=cn.SafeHTMLCollection=void 0;var s2=o2,a2=l2(s2);function l2(t){return t&&t.__esModule?t:{default:t}}var lc=a2.default,u2=lc.canUseDOM?window.HTMLElement:{};cn.SafeHTMLCollection=lc.canUseDOM?window.HTMLCollection:{};cn.SafeNodeList=lc.canUseDOM?window.NodeList:{};cn.canUseDOM=lc.canUseDOM;cn.default=u2;Object.defineProperty(mn,"__esModule",{value:!0});mn.resetState=p2;mn.log=m2;mn.assertNodeList=p1;mn.setElement=g2;mn.validateElement=rm;mn.hide=y2;mn.show=v2;mn.documentNotReadyOrSSRTesting=_2;var c2=i2,h2=d2(c2),f2=cn;function d2(t){return t&&t.__esModule?t:{default:t}}var zt=null;function p2(){zt&&(zt.removeAttribute?zt.removeAttribute("aria-hidden"):zt.length!=null?zt.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(zt).forEach(function(t){return t.removeAttribute("aria-hidden")})),zt=null}function m2(){}function p1(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function g2(t){var e=t;if(typeof e=="string"&&f2.canUseDOM){var n=document.querySelectorAll(e);p1(n,e),e=n}return zt=e||zt,zt}function rm(t){var e=t||zt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,h2.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function y2(t){var e=!0,n=!1,r=void 0;try{for(var i=rm(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function v2(t){var e=!0,n=!1,r=void 0;try{for(var i=rm(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function _2(){zt=null}var To={};Object.defineProperty(To,"__esModule",{value:!0});To.resetState=E2;To.log=w2;var hs={},fs={};function qy(t,e){t.classList.remove(e)}function E2(){var t=document.getElementsByTagName("html")[0];for(var e in hs)qy(t,hs[e]);var n=document.body;for(var r in fs)qy(n,fs[r]);hs={},fs={}}function w2(){}var T2=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},S2=function(e,n){return e[n]&&(e[n]-=1),n},I2=function(e,n,r){r.forEach(function(i){T2(n,i),e.add(i)})},C2=function(e,n,r){r.forEach(function(i){S2(n,i),n[i]===0&&e.remove(i)})};To.add=function(e,n){return I2(e.classList,e.nodeName.toLowerCase()=="html"?hs:fs,n.split(" "))};To.remove=function(e,n){return C2(e.classList,e.nodeName.toLowerCase()=="html"?hs:fs,n.split(" "))};var So={};Object.defineProperty(So,"__esModule",{value:!0});So.log=A2;So.resetState=P2;function R2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m1=function t(){var e=this;R2(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},au=new m1;function A2(){console.log("portalOpenInstances ----------"),console.log(au.openInstances.length),au.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function P2(){au=new m1}So.default=au;var im={};Object.defineProperty(im,"__esModule",{value:!0});im.resetState=N2;im.log=V2;var x2=So,k2=D2(x2);function D2(t){return t&&t.__esModule?t:{default:t}}var at=void 0,tn=void 0,qr=[];function N2(){for(var t=[at,tn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}at=tn=null,qr=[]}function V2(){console.log("bodyTrap ----------"),console.log(qr.length);for(var t=[at,tn],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function Ky(){qr.length!==0&&qr[qr.length-1].focusContent()}function O2(t,e){!at&&!tn&&(at=document.createElement("div"),at.setAttribute("data-react-modal-body-trap",""),at.style.position="absolute",at.style.opacity="0",at.setAttribute("tabindex","0"),at.addEventListener("focus",Ky),tn=at.cloneNode(),tn.addEventListener("focus",Ky)),qr=e,qr.length>0?(document.body.firstChild!==at&&document.body.insertBefore(at,document.body.firstChild),document.body.lastChild!==tn&&document.body.appendChild(tn)):(at.parentElement&&at.parentElement.removeChild(at),tn.parentElement&&tn.parentElement.removeChild(tn))}k2.default.subscribe(O2);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(K){for(var H=1;H<arguments.length;H++){var ce=arguments[H];for(var S in ce)Object.prototype.hasOwnProperty.call(ce,S)&&(K[S]=ce[S])}return K},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},i=function(){function K(H,ce){for(var S=0;S<ce.length;S++){var I=ce[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(H,I.key,I)}}return function(H,ce,S){return ce&&K(H.prototype,ce),S&&K(H,S),H}}(),o=N,s=h1,a=R(s),l=pn,u=g(l),c=n2,h=R(c),f=mn,p=g(f),v=To,_=g(v),w=cn,m=R(w),d=So,y=R(d);function g(K){if(K&&K.__esModule)return K;var H={};if(K!=null)for(var ce in K)Object.prototype.hasOwnProperty.call(K,ce)&&(H[ce]=K[ce]);return H.default=K,H}function R(K){return K&&K.__esModule?K:{default:K}}function k(K,H){if(!(K instanceof H))throw new TypeError("Cannot call a class as a function")}function V(K,H){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:K}function M(K,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);K.prototype=Object.create(H&&H.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(K,H):K.__proto__=H)}var ie={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},q=function(H){return H.code==="Tab"||H.keyCode===9},Ue=function(H){return H.code==="Escape"||H.keyCode===27},le=0,$t=function(K){M(H,K);function H(ce){k(this,H);var S=V(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,ce));return S.setOverlayRef=function(I){S.overlay=I,S.props.overlayRef&&S.props.overlayRef(I)},S.setContentRef=function(I){S.content=I,S.props.contentRef&&S.props.contentRef(I)},S.afterClose=function(){var I=S.props,L=I.appElement,j=I.ariaHideApp,ne=I.htmlOpenClassName,ye=I.bodyOpenClassName,Tt=I.parentSelector,pe=Tt&&Tt().ownerDocument||document;ye&&_.remove(pe.body,ye),ne&&_.remove(pe.getElementsByTagName("html")[0],ne),j&&le>0&&(le-=1,le===0&&p.show(L)),S.props.shouldFocusAfterRender&&(S.props.shouldReturnFocusAfterClose?(u.returnFocus(S.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),S.props.onAfterClose&&S.props.onAfterClose(),y.default.deregister(S)},S.open=function(){S.beforeOpen(),S.state.afterOpen&&S.state.beforeClose?(clearTimeout(S.closeTimer),S.setState({beforeClose:!1})):(S.props.shouldFocusAfterRender&&(u.setupScopedFocus(S.node),u.markForFocusLater()),S.setState({isOpen:!0},function(){S.openAnimationFrame=requestAnimationFrame(function(){S.setState({afterOpen:!0}),S.props.isOpen&&S.props.onAfterOpen&&S.props.onAfterOpen({overlayEl:S.overlay,contentEl:S.content})})}))},S.close=function(){S.props.closeTimeoutMS>0?S.closeWithTimeout():S.closeWithoutTimeout()},S.focusContent=function(){return S.content&&!S.contentHasFocus()&&S.content.focus({preventScroll:!0})},S.closeWithTimeout=function(){var I=Date.now()+S.props.closeTimeoutMS;S.setState({beforeClose:!0,closesAt:I},function(){S.closeTimer=setTimeout(S.closeWithoutTimeout,S.state.closesAt-Date.now())})},S.closeWithoutTimeout=function(){S.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},S.afterClose)},S.handleKeyDown=function(I){q(I)&&(0,h.default)(S.content,I),S.props.shouldCloseOnEsc&&Ue(I)&&(I.stopPropagation(),S.requestClose(I))},S.handleOverlayOnClick=function(I){S.shouldClose===null&&(S.shouldClose=!0),S.shouldClose&&S.props.shouldCloseOnOverlayClick&&(S.ownerHandlesClose()?S.requestClose(I):S.focusContent()),S.shouldClose=null},S.handleContentOnMouseUp=function(){S.shouldClose=!1},S.handleOverlayOnMouseDown=function(I){!S.props.shouldCloseOnOverlayClick&&I.target==S.overlay&&I.preventDefault()},S.handleContentOnClick=function(){S.shouldClose=!1},S.handleContentOnMouseDown=function(){S.shouldClose=!1},S.requestClose=function(I){return S.ownerHandlesClose()&&S.props.onRequestClose(I)},S.ownerHandlesClose=function(){return S.props.onRequestClose},S.shouldBeClosed=function(){return!S.state.isOpen&&!S.state.beforeClose},S.contentHasFocus=function(){return document.activeElement===S.content||S.content.contains(document.activeElement)},S.buildClassName=function(I,L){var j=(typeof L>"u"?"undefined":r(L))==="object"?L:{base:ie[I],afterOpen:ie[I]+"--after-open",beforeClose:ie[I]+"--before-close"},ne=j.base;return S.state.afterOpen&&(ne=ne+" "+j.afterOpen),S.state.beforeClose&&(ne=ne+" "+j.beforeClose),typeof L=="string"&&L?ne+" "+L:ne},S.attributesFromObject=function(I,L){return Object.keys(L).reduce(function(j,ne){return j[I+"-"+ne]=L[ne],j},{})},S.state={afterOpen:!1,beforeClose:!1},S.shouldClose=null,S.moveFromContentToOverlay=null,S}return i(H,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(S,I){this.props.isOpen&&!S.isOpen?this.open():!this.props.isOpen&&S.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!I.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var S=this.props,I=S.appElement,L=S.ariaHideApp,j=S.htmlOpenClassName,ne=S.bodyOpenClassName,ye=S.parentSelector,Tt=ye&&ye().ownerDocument||document;ne&&_.add(Tt.body,ne),j&&_.add(Tt.getElementsByTagName("html")[0],j),L&&(le+=1,p.hide(I)),y.default.register(this)}},{key:"render",value:function(){var S=this.props,I=S.id,L=S.className,j=S.overlayClassName,ne=S.defaultStyles,ye=S.children,Tt=L?{}:ne.content,pe=j?{}:ne.overlay;if(this.shouldBeClosed())return null;var Xt={ref:this.setOverlayRef,className:this.buildClassName("overlay",j),style:n({},pe,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},bt=n({id:I,ref:this.setContentRef,style:n({},Tt,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Xn=this.props.contentElement(bt,ye);return this.props.overlayElement(Xt,Xn)}}]),H}(o.Component);$t.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},$t.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(m.default),a.default.instanceOf(w.SafeHTMLCollection),a.default.instanceOf(w.SafeNodeList),a.default.arrayOf(a.default.instanceOf(m.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=$t,t.exports=e.default})(Bf,Bf.exports);var M2=Bf.exports;function g1(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function y1(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function v1(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}g1.__suppressDeprecationWarning=!0;y1.__suppressDeprecationWarning=!0;v1.__suppressDeprecationWarning=!0;function L2(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=g1,e.componentWillReceiveProps=y1),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=v1;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,h){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;a.call(this,u,c,f)}}return t}const F2=Object.freeze(Object.defineProperty({__proto__:null,polyfill:L2},Symbol.toStringTag,{value:"Module"})),$2=D1(F2);Object.defineProperty(ri,"__esModule",{value:!0});ri.bodyOpenClassName=ri.portalClassName=void 0;var Qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b2=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_1=N,lu=Ea(_1),U2=p0,uu=Ea(U2),j2=h1,J=Ea(j2),z2=M2,Gy=Ea(z2),B2=mn,H2=q2(B2),lr=cn,Yy=Ea(lr),W2=$2;function q2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Ea(t){return t&&t.__esModule?t:{default:t}}function K2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xy(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Q2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var G2=ri.portalClassName="ReactModalPortal",Y2=ri.bodyOpenClassName="ReactModal__Body--open",Mr=lr.canUseDOM&&uu.default.createPortal!==void 0,Jy=function(e){return document.createElement(e)},Zy=function(){return Mr?uu.default.createPortal:uu.default.unstable_renderSubtreeIntoContainer};function tl(t){return t()}var wa=function(t){Q2(e,t);function e(){var n,r,i,o;K2(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=Xy(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Mr&&uu.default.unmountComponentAtNode(i.node);var u=tl(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=Zy(),h=c(i,lu.default.createElement(Gy.default,Qy({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(h)},r),Xy(i,o)}return b2(e,[{key:"componentDidMount",value:function(){if(lr.canUseDOM){Mr||(this.node=Jy("div")),this.node.className=this.props.portalClassName;var r=tl(this.props.parentSelector);r.appendChild(this.node),!Mr&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=tl(r.parentSelector),o=tl(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(lr.canUseDOM){var s=this.props,a=s.isOpen,l=s.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=o.prevParent,c=o.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!Mr&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!lr.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!lr.canUseDOM||!Mr)return null;!this.node&&Mr&&(this.node=Jy("div"));var r=Zy();return r(lu.default.createElement(Gy.default,Qy({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){H2.setElement(r)}}]),e}(_1.Component);wa.propTypes={isOpen:J.default.bool.isRequired,style:J.default.shape({content:J.default.object,overlay:J.default.object}),portalClassName:J.default.string,bodyOpenClassName:J.default.string,htmlOpenClassName:J.default.string,className:J.default.oneOfType([J.default.string,J.default.shape({base:J.default.string.isRequired,afterOpen:J.default.string.isRequired,beforeClose:J.default.string.isRequired})]),overlayClassName:J.default.oneOfType([J.default.string,J.default.shape({base:J.default.string.isRequired,afterOpen:J.default.string.isRequired,beforeClose:J.default.string.isRequired})]),appElement:J.default.oneOfType([J.default.instanceOf(Yy.default),J.default.instanceOf(lr.SafeHTMLCollection),J.default.instanceOf(lr.SafeNodeList),J.default.arrayOf(J.default.instanceOf(Yy.default))]),onAfterOpen:J.default.func,onRequestClose:J.default.func,closeTimeoutMS:J.default.number,ariaHideApp:J.default.bool,shouldFocusAfterRender:J.default.bool,shouldCloseOnOverlayClick:J.default.bool,shouldReturnFocusAfterClose:J.default.bool,preventScroll:J.default.bool,parentSelector:J.default.func,aria:J.default.object,data:J.default.object,role:J.default.string,contentLabel:J.default.string,shouldCloseOnEsc:J.default.bool,overlayRef:J.default.func,contentRef:J.default.func,id:J.default.string,overlayElement:J.default.func,contentElement:J.default.func};wa.defaultProps={isOpen:!1,portalClassName:G2,bodyOpenClassName:Y2,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return lu.default.createElement("div",e,n)},contentElement:function(e,n){return lu.default.createElement("div",e,n)}};wa.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,W2.polyfill)(wa);ri.default=wa;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=ri,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,t.exports=e.default})(zf,zf.exports);var X2=zf.exports;const J2=ev(X2);async function Z2({request:t}){const e=await t.formData(),n=e.get("name"),r=e.get("image"),i=e.get("status"),o=e.get("description"),s=new URL(t.url).pathname;try{return await DD({id:s.split("/")[2],name:n,image:r,status:i,description:o}),null}catch(a){return a.message}}function eN(){const{currCompetition:t}=Kd(),e=qd(),n=Gd(),r=Qd();function i(f){var p=new Date(f),v=""+(p.getMonth()+1),_=""+p.getDate(),w=p.getFullYear();return v.length<2&&(v="0"+v),_.length<2&&(_="0"+_),[w,v,_].join("-")}const o=i(t.creationDate.toDate());async function s(){await kD(t.id),e("../competitions")}const[a,l]=ds.useState({name:t.name,image:t.image,description:t.description});function u(f){const{name:p,value:v}=f.target;l(_=>({..._,[p]:v}))}const[c,h]=ds.useState(!1);return C.jsxs(Xd,{method:"post",className:"flex flex-col h-full ",children:[n&&C.jsx("h3",{className:"font-bold text-center text-lg text-red-600",children:n}),C.jsxs(J2,{isOpen:c,contentLabel:"DeleteModal",overlayClassName:"bg-opacity-50 bg-black w-screen h-screen fixed top-0 left-0 z-20",className:"w-72 h-40 centerModal flex flex-col place-content-center text-center bg-gray-200 p-4 justify-between rounded-xl drop-shadow-xl ",appElement:document.getElementById("root"),children:[C.jsxs("p",{children:["Are you sure you want to delete this competition? ",C.jsx("br",{})," This action is irreversible"]}),C.jsxs("div",{className:"flex flex-row ",children:[C.jsx("div",{className:"mt-auto text-md w-24 mx-auto bg-green-400 rounded-full drop-shadow-md text-white",onClick:()=>h(!1),children:"Cancel"}),C.jsx("div",{className:"mt-auto text-md w-24 mx-auto bg-red-500 rounded-full drop-shadow-md text-white",onClick:s,children:"Delete"})]})]}),C.jsxs("div",{className:"flex flex-row mb-2 ",children:[C.jsx("div",{className:"h-48 w-1/2 flex flex-wrap place-content-center",children:C.jsx("img",{src:a.image,alt:a.name,className:"max-h-48 w-auto h-fit rounded"})}),C.jsxs("div",{className:"flex flex-col align-middle w-1/2 text-center text-sm p-2",children:[C.jsxs("div",{className:"mb-3",children:["Started: ",o]}),C.jsx(s1,{players:t.players,currentScore:t.currentScore}),C.jsxs("select",{name:"status",className:"mt-8 mx-auto w-24",defaultValue:t.status,children:[C.jsx("option",{value:"abandoned",children:"Abandoned"}),C.jsx("option",{value:"ongoing",children:"Ongoing"}),C.jsx("option",{value:"complete",children:"Complete"})]}),C.jsx("div",{className:"mt-auto text-lg w-20 mx-auto bg-red-500 rounded-full drop-shadow-md text-white",onClick:()=>h(!0),children:"Delete"})]})]}),C.jsxs("div",{className:"flex flex-col items-center flex-grow",children:[C.jsx("input",{type:"text",name:"name",placeholder:"Competition Name",value:a.name,onChange:u,className:"border-2 rounded p-1 m-2 w-full"}),C.jsx("input",{type:"url",name:"image",placeholder:"Thumbnail picture",value:a.image,onChange:u,className:"border-2 rounded p-1 m-2 w-full text-center"}),C.jsx("textarea",{placeholder:"Description",className:"border-2 rounded p-1 m-2 w-full h-32",name:"description",value:a.description,onChange:u}),C.jsx("button",{className:`${r.state==="submitting"?"bg-gray-300":"bg-teal-500"} rounded-full drop-shadow-md text-white mb-2 place-content-center flex text-lg p-2 w-24`,children:r.state==="submitting"?"Saving":"Save info"})]})]})}function tN(){return Kd(),C.jsx("h1",{children:"Comp Rules"})}function nN(){return Kd(),C.jsx("h1",{children:"Comp Rounds"})}const rN=wC(af(C.jsxs(Zt,{path:"/",element:C.jsx(LC,{}),loader:MC,children:[C.jsx(Zt,{index:!0,element:C.jsx(FC,{})}),C.jsx(Zt,{path:"login",element:C.jsx(OD,{}),loader:ND,action:VD}),C.jsx(Zt,{path:"competitions",element:C.jsx(LD,{}),errorElement:C.jsx(fi,{}),loader:MD}),C.jsxs(Zt,{path:"competitions/:id",element:C.jsx($D,{}),errorElement:C.jsx(fi,{}),loader:FD,children:[C.jsx(Zt,{index:!0,element:C.jsx(eN,{}),errorElement:C.jsx(fi,{}),loader:async({request:t})=>await Hi(t),action:Z2}),C.jsx(Zt,{path:"rules",element:C.jsx(tN,{}),errorElement:C.jsx(fi,{}),loader:async({request:t})=>await Hi(t)}),C.jsx(Zt,{path:"rounds",element:C.jsx(nN,{}),errorElement:C.jsx(fi,{}),loader:async({request:t})=>await Hi(t)})]}),C.jsx(Zt,{path:"competition-creation",element:C.jsx(jD,{}),errorElement:C.jsx(fi,{}),loader:bD,action:UD}),C.jsx(Zt,{path:"*",element:C.jsx($C,{})})]})));function iN(){return C.jsx(sC,{router:rN})}lh.createRoot(document.getElementById("root")).render(C.jsx(ds.StrictMode,{children:C.jsx(iN,{})}));
